(()=>{var ge=Be,I=typeof document!="undefined"&&window.document,q=I&&I.querySelector&&(I.querySelector(".sin")||I.createElement("style")),J=q&&q.getAttribute("id")||"sin-"+("000000"+(Math.random()*Math.pow(36,6)|0).toString(36)).slice(-6),ye=I&&document.createElement("div"),et=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,Le=e=>e.replace(/(\B[A-Z])/g,"-$1").toLowerCase(),Ie=e=>e?e.hasOwnProperty("width")?e:Ie(Object.getPrototypeOf(e)):{},qe=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),Ne={};Be.prefix=J;var ee={flex:0,border:1,transform:1,"line-height":0,"box-shadow":1,"border-top":1,"border-left":1,"border-right":1,"border-bottom":1},te=["float"].concat(Object.keys(I?Ie(document.documentElement.style):{})).filter((e,t,n)=>e.indexOf("-")===-1&&e!=="length"&&n.indexOf(e)===t).map(e=>e.match(et)?"-"+Le(e):Le(e)).sort(),me=te.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");te.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),tt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","float","flex-direction","font-family","font-size","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","right","top","text-align","text-decoration","text-transform","width"],nt=Object.assign(te.reduce(qe,{}),tt.reduce(qe,{})),Se=new WeakMap,Ht=window.CSS&&CSS.supports("color","var(--support-test)"),ke=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,rt=e=>e===34||e===39,Ve=e=>e===32||e===58||e===9,st=e=>e===59||e===10||e===125,Ke=e=>e===58||e===64||e===38||e===91,F=[];var j=-1,C=-1,U=-1,N=-1,X=-1,ne=-1,B=-1,m=-1,re=0,Z="",P="",V="&",G="",Q="",se="",b="",Ae="",Ce="",ae="",Y="",g="",ie="",Re="",_=null,We=!0,be=!1,Ee=!1,Oe=!0,$e=-1;function at(e){return nt[e]||e}function Fe(e,t){return e=U?e:it(e),e+":"+(U?t:ot(t,e))+";"}function it(e){return Ne[e]||(Ne[e]=ut(at(e)))}function ot(e,t){return ft(t)?e.replace(/(^| )?([-0-9.]+)( |$)/g,"$1$2px$3"):e}function lt(e){return e.replace(/,\s*[\:\[]?/g,t=>Ke(t.charCodeAt(t.length-1))?",&"+t[t.length-1]:",& ")}function oe(e,t){if(We&&(q&&I.head&&I.head.appendChild(q),We=!1),q&&q.sheet)try{q.sheet.insertRule(e,t??q.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Be([e,...t],n,r=0,s){if(Se.has(e)){let i=Se.get(e);return i.args=t,i}let a={};Ce=ae=Y=b=ie="",F.length=0,C=$e=-1,_=s?{}:null,Ee=!1,Oe=!0,g=e[0];for(let i=0;i<e.length;i++)_?De(0,i===e.length-1):ct(e,i,t,n),g=e[i+1],i<t.length&&(C>=0?(a[Re="--"+J+re+i]=i,ie+=e[i].slice(C)+"var("+Re+")",C=0):(g+=t[i]+";",Oe=!1));if(_)if(s)Object.entries(_).forEach(([i,l])=>oe(i.replace(/&\s*/g,"")+"{"+l));else{Z=J+re++,Y+=" "+Z;for(let i=0;i<r;i++)Z+="."+Z;Object.entries(_).forEach(([i,l])=>{oe(i.replace(/&/g,"."+Z)+"{"+l)})}let o={name:Ce,id:ae,classes:Y,args:t,vars:a};return Oe&&Se.set(e,o),o}function ct(e,t,n,r){for(let s=0;s<=g.length;s++)if(m=g.charCodeAt(s),Ee){if(ke(m)){_={},De(s++,t===e.length-1);break}}else!ke(m)||s===g.length?(Y=(N!==-1?g.slice(N+1,s).replace(/\./g," "):"")+Y,ae=(X!==-1?g.slice(X,N||s):"")||r?.id,Ce=g.slice(0,ae?X-1:N!==-1?N:s).toUpperCase()||r?.name,X=N=-1,Ee=!0):m===35?X=s+1:N===-1&&m===46&&(N=s)}function De(e,t){for(let n=e;n<=g.length;n++)m=g.charCodeAt(n),B===-1&&C>=0&&(U?m===59:st(m))&&(P==="@import"?oe(P+" "+g.slice(C,n),0):b+=Fe(P,ie+g.slice(C,n)),j=C=U=-1,P=ie=""),B!==-1?B===m&&g.charCodeAt(n-1)!==92&&(B=-1):B===-1&&rt(m)?(B=m,C===-1&&(C=n)):m===123?(P==="animation"?(b&&(_[V||"&"]=b),Q=g.slice(C,n).trim(),Ae="",b=""):Q?(se=g.slice(j,n).trim(),b=""):(b&&(_[V||"&"]=b),!F.length&&(be=ne===64),G=g.slice(j,n).trim(),G.indexOf(",")!==-1&&(G=lt(G)),F.push((Ke(ne)?"":" ")+G+(ne===64?g.charCodeAt(j+1)===102?Array(++$e+1).join(" "):"{":"")+(g.slice(j,j+6)==="@media"?"&":"")),V=(be?"":"&")+F.join(""),b=_[V||"&"]||""),j=C=-1,P=""):m===125||n===g.length&&t?(se?(Ae+=se+"{"+b+"}",se=b=""):Q?(oe("@keyframes "+J+ ++re+"{"+Ae+"}"),b=(_[V||"&"]||"")+Fe("animation",Q+" "+J+re),Q=""):(b&&(_[V||"&"]=b),F.pop(),V=(be?"":"&")+F.join(""),b=_[V||"&"]||""),j=C=-1,P=""):n!==g.length&&j===-1&&ke(m)?(j=n,ne=m):!P&&j>=0&&Ve(m)?(P=g.slice(j,n),U=m===58):C===-1&&P&&!Ve(m)&&(C=n)}function ft(e){if(e[0]==="-"&&e[1]==="-"||e in ee)return ee[e];try{return ye.style[e]="1px",ye.style.setProperty(e,"1px"),ee[e]=ye.style[e].slice(-3)==="1px"}catch(t){return ee[e]=!1}}function ut(e){if(te.indexOf(e)===-1){if(me[e])return console.log(e,"prefixed to",me[e]),me[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}var ze=!1,le={};function x(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function He(e){return e.split(/(?=\/)/)}function ht(e,t){return e.reduce((n,r,s)=>n+(r==="404"?1:r===t[s]?6:r&&t[s]&&r.toLowerCase()===t[s].toLowerCase()?5:r[1]===":"&&t[s]&&t[s].length>1?4:r==="/"&&!t[s]?3:r==="*"||r==="/*"?2:-1/0),0)}function dt(e,t){return e.reduce((n,r,s)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[s].slice(1))),n),{})}function pt(e,t,n={}){e.pathmode[0]==="#"?window.location.hash=e.pathmode+t:e.pathmode[0]==="?"?window.location.search=e.pathmode+t:window.history[n.replace?"replaceState":"pushState"](n.state,null,e.pathmode+t),le[t]=n.state,e.redraw()}function v(e,t,n=0){return(e.pathmode[0]==="#"?t.hash.slice(e.pathmode.length+n):e.pathmode[0]==="?"?t.search.slice(e.pathmode.length+n):t.pathname.slice(e.pathmode+n)).replace(/(.)\/$/,"$1")}function ce(e,t,n){return Object.assign(r,n),r.toString=r,r.has=s=>s==="/"?v(e,r.url)===t||v(e,r.url)==="/"&&t==="":v(e,r.url).indexOf(x(t+"/"+s))===0,Object.defineProperty(r,"current",{get(){let s=v(e,r.url),a=s.indexOf("/",t.length+1);return a===-1?s:s.slice(0,a)}}),r;function r(s,a={}){if(typeof s=="undefined")return t+"/";if(typeof s=="string")return pt(e,x(s[0]==="/"?s:"/"+s),a);ze||(ze=!0,e.pathmode[0]==="#"?window.addEventListener("hashchange",()=>e.redraw()):typeof window.history.pushState=="function"&&window.addEventListener("popstate",e.redraw));let o=v(e,r.url,t.length),i=He(o),[l,h,u=a.notFound]=Object.entries(s).reduce((A,[S,M])=>{S=He(x(S));let K=ht(S,i);return K>A[0]?[K,S,M]:A},[0]),c=t+(h&&h[0]!=="*"?h.map((A,S)=>i[S]).join(""):"");(u===void 0||a.notFound)&&r.notFound(!0);let f=ce(e,c.replace(/\/$/,""),n);return f.parent=r,typeof u=="function"?u({key:c||"/",route:f,...t+o===c&&le[t+o]||{},...dt(h||[],i)}):u}}var T=class{constructor(t,n,r=0,s,a){this.level=r,this.instance=null,this.component=t,this.tag=n,this.attrs=s,this.key=s&&s.key,this.dom=null,this.children=a}};["get","put","post","delete","patch"].forEach(e=>w[e]=function(t,n){return n.method=e,w(t,n)});function w(e,{method:t="GET",redraw:n=!0,body:r=null,user:s,pass:a,headers:o={},config:i,raw:l}={}){return new Promise((h,u)=>{let c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){let f=c.responseText,A;if(!l)try{f=JSON.parse(c.responseText)}catch(S){A=S}(A||c.status>=300?u:h)({status:c.status,body:f,xhr:c}),n&&w.redraw&&w.redraw()}},c.onerror=c.onabort=f=>u(c,{event:f}),c.open(t.toUpperCase(),e,!0,s,a),Object.keys(o).forEach(f=>o[f]&&c.setRequestHeader(f,o[f])),!("Content-Type"in o)&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in o)&&c.setRequestHeader("Accept","application/json, text/*"),i&&i(c),r===null?c.send():c.send(l?r:JSON.stringify(r))})}var fe=y;y.SKIP={};y.lift=mt;y.scan=gt;y.merge=Je;y.combine=ue;y.scanMerge=yt;y["fantasy-land/of"]=y;function y(e){let t=[],n=[];function r(o){return arguments.length&&o!==y.SKIP&&(e=o,Ue(r)&&(r._changing(),r._state="active",t.forEach((i,l)=>i(n[l](e))))),e}r.constructor=y,r._state=arguments.length&&e!==y.SKIP?"active":"pending",r._parents=[],r._changing=()=>{Ue(r)&&(r._state="changing"),t.forEach(o=>o._changing())},r._map=(o,i)=>{let l=i?y():y(o(e));return l._parents.push(r),t.push(l),n.push(o),l},r.map=o=>r._map(o,r._state!=="active");let s;function a(){return s=y(),s.map(o=>(o===!0&&(r._parents.forEach(i=>i._unregisterChild(r)),r._state="ended",r._parents.length=t.length=n.length=0),o)),s}return r.toJSON=()=>e!=null&&typeof e.toJSON=="function"?e.toJSON():e,r.toString=r,r.valueOf=r,r["fantasy-land/map"]=r.map,r["fantasy-land/ap"]=o=>ue((i,l)=>i()(l()),[o,r]),r._unregisterChild=o=>{let i=t.indexOf(o);i!==-1&&(t.splice(i,1),n.splice(i,1))},Object.defineProperty(r,"end",{get:()=>s||a()}),r}function ue(e,t){let n=t.every(i=>{if(i.constructor!==y)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return i._state==="active"}),r=n?y(e.apply(null,t.concat([t]))):y(),s=[],a=t.map(i=>i._map(l=>(s.push(i),(n||t.every(h=>h._state!=="pending"))&&(n=!0,r(e.apply(null,t.concat([s]))),s=[]),l),!0)),o=r.end.map(i=>{i===!0&&(a.forEach(l=>l.end(!0)),o.end(!0))});return r}function Je(e){return ue(()=>e.map(t=>t()),e)}function gt(e,t,n){let r=n.map(s=>{let a=e(t,s);return a!==y.SKIP&&(t=a),a});return r(t),r}function yt(e,t){let n=e.map(s=>s[0]),r=ue(()=>{let s=arguments[arguments.length-1];return n.forEach((a,o)=>{s.indexOf(a)>-1&&(t=e[o][1](t,a()))}),t},n);return r(t),r}function mt(){let e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Je(t).map(n=>e.apply(void 0,n))}function Ue(e){return e._state==="pending"||e._state==="active"||e._state==="changing"}E.http=w;E.http.redraw=z;E.request=(e,t)=>(t?w(e,t):w(e.url,e)).then(({body:n})=>n).catch(n=>(n.response=n.body,Promise.reject(n)));function E(...e){return Ze.bind(typeof e[0]=="function"?new T(e):Ge(e))}var L=new WeakMap,R=new WeakSet,he=new WeakMap,O=new WeakMap,de=new WeakMap,W=new WeakMap,D=new WeakMap,Xe=new Map,St={name:"DIV",classes:"",i:0},je=!0;E.pathmode="";E.redraw=z;E.mount=bt;E.stream=fe;E.css=(e,...t)=>ge([e,t],null,0,!0);E.route=ce(E,"",{url:window.location,notFound:()=>{},title:()=>{},head:()=>{}});function kt(e){e.addEventListener("click",t=>{if(!t.defaultPrevented&&(t.button===0||t.which===0||t.which===1)&&(!t.currentTarget.target||t.currentTarget.target==="_self")&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){t.preventDefault();let n=W.get(e).state;window.history.pushState(n,null,e.getAttribute("href")),le[e.getAttribute("href")]=n,E.redraw()}})}function Ze(...e){return Array.isArray(e[0])&&Array.isArray(e[0].raw)?Ze.bind(Ge(e,this)):At(e,this)}function Ge(e,t){return new T(t&&t.component,ge(e,t?t.tag:St,t?t.level+1:0),t?t.level+1:0)}function At(e,t){let n=Ct(e&&e[0]);return new T(t.component,t.tag,t?t.level+1:0,n?e[0]:{},n?Array.isArray(e[1])&&e.length===2?e[1]:e.slice(1):Array.isArray(e[0])&&e.length===1?e[0]:e)}function Ct(e){return!(e instanceof T)&&e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)}function bt(e,t){!t&&(t=e,e=document.body),Xe.set(e,t),z()}var Qe=0;function z(){p("ask"),je&&(requestAnimationFrame(Et),je=!1)}function Et(){if(++Qe>=100)return Qe===100&&console.trace("ohno",window.lastfucker);console.time("redraw"),Xe.forEach((e,t)=>_e(t,[].concat(e({route:E.route})))),console.timeEnd("redraw"),je=!0}function _e(e,t,n,r){let s=D.has(n||e.firstChild),a=t[0]instanceof T&&t[0].key!=null;return s&&a?jt(e,t,n,s,a,r):Ot(e,t,n,s,a,r)}function Ot(e,t,n,r,s,a){let o=s&&new Array(t.length),i=0,l=n===void 0?e.firstChild:n,h,u;for(;i<t.length;)R.has(l)||(l=h=!a||i<a.length?k(l,t[i],e):e.insertBefore(k(null,t[i],new DocumentFragment),l),o&&(o[i]={dom:O.has(l)?O.get(l):l,key:t[i].key}),i===0&&s&&(s=O.has(l)?O.get(l):l),i++),l&&(l=l.nextSibling);for(;l&&!R.has(l)&&(!a||i++<a.length);)u=l.nextSibling,$(l,e),l=u;return s?D.set(s,o):r&&D.delete(n||e.firstChild),h}function jt(e,t,n,r,s){let a=D.get(n||e.firstChild),o=t.length,i=a.length;i&&!a[i-1].dom&&p(a);let l=i&&a[i-1].dom.nextSibling,h=i,u=o,c=0,f=0,A=0,S=null,M=null,K,d;for(;c<h||f<u;)if(h===c)for(K=u<o?f?t[f-1].dom.nextSibling:t[u-f].dom:l;f<u;)d=t[f++],e.insertBefore(k(M&&M.has(d.key)?M.get(d.key).dom:null,d),K);else if(u===f)for(;c<h;)d=a[c++],(!S||!S.has(d.key))&&$(d.dom,e);else if(a[c].key===t[f].key)k(a[c].dom,t[f],e),c++,f++;else if(a[h-1].key===t[u-1].key)k(a[h-1].dom,t[u-1],e),h--,u--;else if(a[c].key===t[u-1].key&&t[f].key===a[h-1].key)k(a[c].dom,t[u-1],e),k(a[h-1].dom,t[f],e),d=a[--h],K=d.dom.nextSibling,e.insertBefore(t[f++].dom,a[c++].dom.nextSibling),e.insertBefore(t[--u].dom,K),a[h]=t[u];else{if(!S)for(S=new Map,A=f;A<u;)S.set(t[A].key,A++);if(d=a[c],S.has(d.key)){let H=S.get(d.key);if(f<H&&H<u){A=c;let pe=1;for(;++A<h&&A<u&&S.get(a[A].key)===H+pe;)pe++;if(M||(M=a.reduce((Te,we)=>(Te.set(we.key,we),Te),new Map)),pe>H-f)for(;f<H;)d=t[f++],e.insertBefore(k(M.has(d.key)?M.get(d.key).dom:null,d),a[c].dom);else d=t[f++],e.replaceChild(k(M.has(d.key)?M.get(d.key).dom:null,d),a[c++].dom)}else c++}else d=a[c++],d&&$(d.dom,e)}return D.set(t[0].dom,t),a[0].dom!==t[0].dom&&D.delete(a[0].dom),t[t.length-1].dom}function k(e,t,n,r,s){return _t(t)?Mt(e,t,n,r,s):typeof t=="function"?k(e,t(),n,r,s):t instanceof T?t.component?It(e,t,n,r,s):wt(e,t,n,s):Array.isArray(t)?Tt(e,t,n,s):Ye(e,t,n,s)}function _t(e){return e&&e.constructor===fe}function Mt(e,t,n){if(he.has(e))return he.get(e);let r,s;return t.map(a=>{r=k(e,a,n),s=O.has(r)?O.get(r):r,e!==s&&(e&&he.delete(e),he.set(s,r)),e=s}),r}function Pt(e){return e&&e.length===1&&(typeof e[0]=="string"||typeof e[0]=="number")}function Tt(e,t,n){let r=e&&e.nodeType===8&&{length:parseInt(e.nodeValue.slice(1,-1))},s=Ye(e,"["+t.length+"]",n,!1,!0);return e=_e(n,t,s.nextSibling,r)||s,O.set(e,s),e}function Ye(e,t,n,r,s=typeof t=="boolean"||t==null){let a=r||!e||s&&e.nodeType!==8;return a&&Pe(e,e=s?document.createComment(t):document.createTextNode(t),n),!a&&e.nodeValue!=t&&(e.nodeValue=""+t),e}function wt(e,t,n,r){let s=r||!e||!t||e.nodeName!==t.tag.name;return s&&Pe(e,e=document.createElement(t.tag.name),n),t.dom=e,t.children&&(s&&Pt(t.children)?e.textContent=""+t.children[0]:_e(e,t.children)),Kt(e,t,s),e}function Lt(){let e=[],t={xs:e,i:0,max:0,peek:()=>e[t.i],prev:()=>{t.i--},next:()=>(t.i<=t.xs.length&&(t.max=++t.i),t),add:n=>e.push(n)};return t}function It(e,t,n,r,s){return e=!s&&(r||L.has(e))?qt(e,t,n,r||L.get(e)):xe(e,t,n,r,s),t.dom=O.has(e)?O.get(e):e,e}function qt(e,t,n,r){let s=r&&r.peek();if(!s)return xe(e,t,n,r);if(typeof s.instance=="function"){let a=Me(s.instance(t.attrs,t.children),t),o=k(e,a,n,r.next());return s.dom=O.has(o)?O.get(o):o,!s.dom&&p(e,a,o,t,r),r.prev(),r.i===0&&(r.xs.length=r.max,r.max=0),s.dom!==e&&(L.set(s.dom,r),L.delete(e)),o}else if(s.instance&&typeof s.instance.then=="function")return r.max++,e;return s.dom=k(e,s.instance,n,r)}function xe(e,t,n,r=Lt(),s){let a=t.component[0]({life:()=>{},...t.attrs},t.children,()=>k(e,t));if(typeof a=="function"){r.add(t);let o=k(e,Me(a(t.attrs,t.children),t),n,r.next(),s);return r.prev(),t.dom=O.has(o)?O.get(o):o,t.instance=a,t.dom!==e&&(L.set(t.dom,r),L.delete(e)),o}else if(a&&typeof a.then=="function"){let o=document.createComment("pending");return t.instance=a,r.add(t),r.max++,o!==e&&(L.set(o,r),L.delete(e)),a.catch(i=>console.error(i)||i).then(i=>{!L.has(o)||(t.instance=i,z())}),Pe(e,o,n),o}return k(e,Me(a,t),n,r,s)}function Me(e,t){return t?.tag?e?.tag?(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:{...e.tag.vars,...t.tag.vars}},e):(e.tag=t.tag,e):e}function Nt(e){return e==="key"||e==="handleEvent"||e==="class"||e==="className"}function Vt(e){for(let t in e)return!1;return!0}function Kt(e,t,n){let r=!1,s=W.has(e)&&W.get(e);s&&t.attrs&&(t.attrs.handleEvent=s.handleEvent);for(let o in t.attrs)o==="life"?n&&Rt(e,t):!Nt(o)&&s[o]!==t.attrs[o]&&(!r&&(r=!0),Wt(e,t.attrs,o,s[o],t.attrs[o]));if(W)for(let o in s)o in t.attrs||$t(e,s,o);let a=(t.attrs.class?t.attrs.class+" ":"")+t.tag.classes;if(a!==(e.getAttribute("class")||"")&&(a?(!r&&(r=!0),e.setAttribute("class",a)):e.removeAttribute("class")),t.tag)for(let o in t.tag.vars){let i=t.tag.vars[o];i&&i.constructor===fe?n&&i.map(l=>e.style.setProperty(o,i)):e.style.setProperty(o,typeof i=="function"?i(e):i)}r?W.set(e,t.attrs):s&&Vt(t.attrs)&&W.delete(e)}function Rt(e,t){let n=[].concat(t.attrs.life).map(r=>typeof r=="function"&&r(e,()=>k(e,t))).filter(r=>typeof r=="function");n.length&&de.set(e,n)}function Wt(e,t,n,r,s){if(r===s)return;n==="href"&&(s=E.pathmode+x(s),kt(e));let a=n.charCodeAt(0)===111&&n.charCodeAt(1)===110;a&&typeof r==typeof s||(a?s?Ft(e,t,n):ve(e,t,n):!s&&s!==0?e.removeAttribute(n):n in e&&typeof s!="boolean"?e[n]=s:e.setAttribute(n,s===!0?"":s))}function $t(e,t,n){return n.charCodeAt(0)===111&&n.charCodeAt(1)===110?ve(e,t,n):e.removeAttribute(n)}function ve(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function Ft(e,t,n){!t.handleEvent&&(t.handleEvent=Bt(e,t)),e.addEventListener(n.slice(2),t.handleEvent)}function Bt(e){return{handleEvent:function(t){let n=W.get(e)["on"+event.type],r=typeof n=="function"?n.call(t.currentTarget,t):n&&typeof n.handleEvent=="function"&&n.handleEvent(t);t.redraw!==!1&&z(),r&&typeof r.then=="function"&&r.then(z)}}}function Pe(e,t,n){!n||(e?t?$(e,n,!1)?n.insertBefore(t,e):n.replaceChild(t,e):n.removeChild(e):n.appendChild(t))}function Dt(e,t,n){if(!de.has(e))return n&&n.length?(R.add(e),Promise.allSettled(n)):!1;let r=de.get(e).map(s=>s()).filter(s=>s&&typeof s.then=="function");return de.delete(e),r.length===0?n&&n.length?(R.add(e),Promise.allSettled(n)):!1:(R.add(e),Promise.allSettled(r.concat(n||[])).then(()=>{R.delete(e),$(e,t)}))}function zt(e,t,n){let r;for(;n&&e;)r=e.nextSibling,!R.has(e)&&($(e,t),n--),e=r}function $(e,t,n=!0){if(!t)return;if(e.nodeType===8&&e.nodeValue.charCodeAt(0)===91)return zt(e.nextSibling,t,parseInt(e.nodeValue.slice(1,-1)));if(e.nodeType!==1)return n&&t.removeChild(e)&&!1;let r=[],s=e.firstChild;for(;s;){let a=$(s,e,!1);a&&r.push(a),s=s.nextSibling}return Dt(e,t,r)||n&&t.removeChild(e)&&!1}})();
