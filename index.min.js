let fe=!1;const H={};function O(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function oe(e){return e.split(/(?=\/)/)}function Ne(e,t){return e.reduce((n,s,r)=>n+(s==="404"?1:s===t[r]?6:s&&t[r]&&s.toLowerCase()===t[r].toLowerCase()?5:s[1]===":"&&t[r]&&t[r].length>1?4:s==="/"&&!t[r]?3:s==="*"||s==="/*"?2:-1/0),0)}function je(e,t){return e.reduce((n,s,r)=>(s[1]===":"&&(n[s.slice(2)]=decodeURIComponent(t[r].slice(1))),n),{})}function Le(e,t={}){o.pathmode[0]==="#"?window.location.hash=o.pathmode+e:o.pathmode[0]==="?"?window.location.search=o.pathmode+e:window.history[t.replace?"replaceState":"pushState"](t.state,null,o.pathmode+e),H[e]=t.state,o.redraw()}function T(e,t=0){return(o.pathmode[0]==="#"?e.hash.slice(o.pathmode.length+t):o.pathmode[0]==="?"?e.search.slice(o.pathmode.length+t):e.pathname.slice(o.pathmode+t)).replace(/(.)\/$/,"$1")}function ce(e,t){return Object.assign(n,t),n.toString=n,n.has=s=>s==="/"?T(n.url)===e||T(n.url)==="/"&&e==="":T(n.url).indexOf(O(e+"/"+s))===0,Object.defineProperty(n,"current",{get(){const s=T(n.url),r=s.indexOf("/",e.length+1);return r===-1?s:s.slice(0,r)}}),n;function n(s,r={}){if(typeof s=="undefined")return e+"/";if(typeof s=="string")return Le(O(s[0]==="/"?s:"/"+s),r);fe||(fe=!0,o.pathmode[0]==="#"?window.addEventListener("hashchange",()=>o.redraw()):typeof window.history.pushState=="function"&&window.addEventListener("popstate",o.redraw));const i=T(n.url,e.length),l=oe(i),[f,u,y=r.notFound]=Object.entries(s).reduce((A,[C,we])=>{C=oe(O(C));const le=Ne(C,l);return le>A[0]?[le,C,we]:A},[0]),w=e+(u&&u[0]!=="*"?u.map((A,C)=>l[C]).join(""):"");(y===void 0||r.notFound)&&n.notFound(!0);const a=ce(w.replace(/\/$/,""),t);return a.parent=n,typeof y=="function"?y({key:w,route:a,...e+i===w&&H[e+i]||{},...je(u||[],l)}):y}}const J=typeof document!="undefined"&&window.document,D=J.createElement("style"),q="uid",Q=new WeakMap,be=window.CSS&&CSS.supports("color","var(--support-test)"),X=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,De=e=>e===34||e===39,ae=e=>e===32||e===58||e===9,Ke=e=>e===59||e===10||e===125,Me=e=>e===58||e===64||e===38||e===91,V=[],Oe=be?(e,t,n)=>"var(--"+q+t.push(n[e])+")":(e,t,n)=>n[e];let m=-1,g=-1,Y=-1,N=-1,I=-1,U=-1,K=-1,c=-1,Z=0,P="",j="",L="&",W="",B="",_="",h="",v="",x="",z="",R="",d="",G="",k=null,ue=!0,ee=!1,te=!1;function he(e,t){return e+":"+t+";"}function Te(e){return e.replace(/,\s*:?/g,t=>t[t.length-1]===":"?",&:":",& ")}function de(e,t){if(ue&&(D&&J.head&&J.head.appendChild(D),ue=!1),D&&D.sheet)try{D.sheet.insertRule(e,t||D.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Ve([e,...t],n,s=0){if(Q.has(e)){const l=Q.get(e);return l.args=t,l}const r=[];x=z=R=h=G="",g=-1,k=null,te=!1;for(let l=0;l<e.length;l++)d=e[l],k?ge(0,l===e.length-1):Ie(e,l,t,n),l<t.length&&g>=0&&(G+=e[l].slice(g)+Oe(l,r,t),g=0);if(k){P=q+ ++Z,R+=" "+P;for(let l=0;l<s;l++)P+="."+P;Object.entries(k).forEach(([l,f])=>{de(l.replace(/&/g,"."+P)+"{"+f)})}const i={name:x,id:z,classes:R,args:t,vars:r};return Q.set(e,i),i}function Ie(e,t,n,s){for(let r=0;r<=d.length;r++)if(c=d.charCodeAt(r),te){if(X(c)){k={},ge(r++,t===e.length-1);break}}else!X(c)||Number.isNaN(c)?(R=(N!==-1?d.slice(N+1,r).replace(/\./g," "):"")+R,z=(I!==-1?d.slice(I,N||r):"")||s?.id,x=d.slice(0,z?I-1:N!==-1?N:r).toUpperCase()||s?.name,I=N=-1,te=!0):c===35?I=r+1:N===-1&&c===46&&(N=r)}function ge(e,t){for(let n=e;n<=d.length;n++)c=d.charCodeAt(n),K===-1&&g>=0&&(Y?c===59:Ke(c))&&(h+=he(j,G+d.slice(g,n)),m=g=Y=-1,j=G=""),K!==-1?K===c&&d.charCodeAt(n-1)!==92&&(K=-1):K===-1&&De(c)?(K=c,g===-1&&(g=n)):c===123?(j==="animation"?(h&&(k[L||"&"]=h),B=d.slice(g,n).trim(),v="",h=""):B?(_=d.slice(m,n).trim(),h=""):(h&&(k[L||"&"]=h),!V.length&&(ee=U===64),W=d.slice(m,n).trim(),W.indexOf(",")!==-1&&(W=Te(W)),V.push((Me(U)?"":" ")+W+(U===64?"{":"")+(d.slice(m,m+6)==="@media"?"&":"")),L=(ee?"":"&")+V.join(""),h=k[L||"&"]||""),m=g=-1,j=""):c===125||Number.isNaN(c)&&t?(_?(v+=_+"{"+h+"}",_=h=""):B?(de("@keyframes "+q+Z+"{"+v+"}"),h=k[L||"&"]+he("animation",B+" "+q+Z),B=""):(h&&(k[L||"&"]=h),V.pop(),L=(ee?"":"&")+V.join(""),h=k[L||"&"]||""),m=g=-1,j=""):m===-1&&X(c)?(m=n,U=c):!j&&m>=0&&ae(c)?(j=d.slice(m,n),Y=c===58):g===-1&&j&&!ae(c)&&(g=n)}const ne=new WeakSet,re=new WeakMap,b=new WeakMap,$=new WeakMap,pe=new Map,S=new WeakMap,Pe={name:"DIV",classes:"",i:0};let se=!0,F=!1;class E{constructor(t,n,s=0,r,i){this.level=s,this.fn=null,this.component=t,this.tag=n,this.attrs=r,this.key=r&&r.key,this.dom=null,this.children=i}}export default function o(...e){return me.bind(typeof e[0]=="function"?new E(e):ke(e))}o.pathmode="",o.redraw=M,o.mount=Re,o.route=ce("",{url:window.location,notFound:()=>{},title:()=>{},head:()=>{}});function ye(e){e.addEventListener("click",t=>{if(!t.defaultPrevented&&(t.button===0||t.which===0||t.which===1)&&(!t.currentTarget.target||t.currentTarget.target==="_self")&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){t.preventDefault();const n=b.get(e).state;window.history.pushState(n,null,e.getAttribute("href")),H[e.getAttribute("href")]=n,o.redraw()}})}function me(...e){return Array.isArray(e[0])&&Array.isArray(e[0].raw)?me.bind(ke(e,this)):We(e,this)}function ke(e,t){return new E(t&&t.component,Ve(e,t?t.tag:Pe,t?t.level+1:0),t?t.level+1:0)}function We(e,t){const n=Be(e&&e[0]);return new E(t.component,t.tag,t?t.level+1:0,n?e[0]:{},n?e.slice(1):e)}function Be(e){return!(e instanceof E)&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)}function Re(e,t){!t&&(t=e,e=document.body),pe.set(e,t),M()}function M(){F&&(F=!1),se&&Promise.resolve().then($e),se=!1}function $e(){F=!0,pe.forEach((e,t)=>Ce(t,[].concat(e({route:o.route})))),se=!0,F===!1?M():F=!1}function Ce(e,t){const n=$.has(e),s=t[0]instanceof E&&t[0].key;n&&s?qe(e,t):Fe(e,t,n,s)}function Fe(e,t,n,s){let r=0,i=e.firstChild;for(;r<t.length;)ne.has(i)||(i=p(i,t[r++],e)),i&&(i=i.nextSibling);for(;i;)i=p(i,null,e).nextSibling;s?$.set(e,t):n&&$.delete(e)}function qe(e,t){const n=$.get(e),s=t.length;let r=n.length,i=s,l=0,f=0,u=0,y=null,w,a;for(;l<r||f<i;)if(r===l)for(w=i<s?f?t[f-1].dom.nextSibling:t[i-f].dom:null;f<i;)a=t[f++],e.insertBefore(p(null,a,null,0,!0),w);else if(i===f)for(;l<r;)a=n[l++],(!y||!y.has(a.key))&&e.removeChild(a.dom);else if(n[l].key===t[f].key)p(n[l].dom,t[f]),l++,f++;else if(n[r-1].key===t[i-1].key)p(n[r-1].dom,t[i-1]),r--,i--;else if(n[l].key===t[i-1].key&&t[f].key===n[r-1].key)p(n[l].dom,t[i-1]),p(n[r-1].dom,t[f]),a=n[--r],w=a.dom.nextSibling,e.insertBefore(t[f++].dom,n[l++].dom.nextSibling),e.insertBefore(t[--i].dom,w),n[r]=t[i];else{if(!y)for(y=new Map,u=f;u<i;)y.set(t[u].key,u++);if(a=n[l],y.has(a.key)){const A=y.get(a.key);if(f<A&&A<i){u=l;let C=1;for(;++u<r&&u<i&&y.get(n[u].key)===A+C;)C++;if(C>A-f)for(;f<A;)e.insertBefore(p(null,t[f++]),a.dom);else a=t[f++],e.replaceChild(p(null,a),n[l++].dom)}else l++}else a=n[l++],a&&e.removeChild(a.dom)}$.set(e,t)}function p(e,t,n,s,r){return typeof t=="function"?p(e,t(),n,s,r):t instanceof E&&t.component?ze(e,t,n,s,r):_e(e,t,n,r)}function Ue(e){return e&&e.length===1&&(typeof e[0]=="string"||typeof e[0]=="number")}function _e(e,t,n,s){const r=s||tt(e,t);return r&&Ee(e,e=nt(t),n),t instanceof E?(t.dom=e,t.children&&(Ue(t.children)?e.textContent=""+t.children[0]:Ce(e,t.children)),Qe(e,t,r)):r||e.nodeValue!=t&&(e.nodeValue=t),e}function ze(e,t,n,s,r){return S.has(e)&&!r?Ge(e,t,n,s):Se(e,t,n,s,r)}function Ge(e,t,n,s=0){const r=S.get(e),i=r[s];if(!i)return Se(e,t,n,r,s);if(typeof i.fn=="function"){const l=p(e,ie(i.fn(t.attrs,t.children),t),n,s+1);return l!==e&&(S.set(l,r),S.delete(e)),l}else if(i.fn&&typeof i.fn.then=="function")return e;return p(e,i.fn,n,s+1)}function Se(e,t,n,s,r){const i=t.component[0](t.attrs,t.children),l=S.get(e)||[];if(typeof i=="function"){const f=p(e,ie(i(t.attrs,t.children),t),n,s,r);return t.fn=i,l.push(t),f!==e&&(S.set(f,l),S.delete(e)),f}else if(i&&typeof i.then=="function"){const f=document.createComment("pending");return t.fn=i,l.push(t),f!==e&&(S.set(f,l),S.delete(e)),i.then(u=>{t.fn=u,M()}),Ee(e,f,n),f}return p(e,ie(i,t),n,s,r)}function ie(e,t){return t?.tag?e?.tag?(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:e.tag.classes+t.tag.classes,args:t.tag.args,vars:t.tag.vars},e):(e.tag=t.tag,e):e}function He(e){return e==="key"||e==="handleEvent"||e==="class"||e==="className"}function Je(e){for(const t in e)return!1;return!0}function Qe(e,t,n){let s=!1;const r=b.has(e)&&b.get(e);r&&t.attrs&&(t.attrs.handleEvent=r.handleEvent);for(const i in t.attrs)i==="life"?n&&Xe(e,t):!He(i)&&r[i]!==t.attrs[i]&&(!s&&(s=!0),Ye(e,t.attrs,i,r[i],t.attrs[i]));if(b)for(const i in r)i in t.attrs||Ze(e,r,i);if(t instanceof E){const i=(t.attrs.class||"")+(t.tag.classes?" "+t.tag.classes:"");i!==(e.getAttribute("class")||"")&&(i?(!s&&(s=!0),e.setAttribute("class",i)):e.removeAttribute("class"));for(let l=0;l<(t.tag?t.tag.vars.length:0);l++)e.style.setProperty("--uid"+(l+1),t.tag.args[l])}s?b.set(e,t.attrs):r&&Je(t.attrs)&&b.delete(e)}function Xe(e,t){const n=t.attrs.life(e);typeof n=="function"&&re.set(e,n)}function Ye(e,t,n,s,r){if(s===r)return;n==="href"&&(r=o.pathmode+O(r),ye(e));const i=n.charCodeAt(0)===111&&n.charCodeAt(1)===110;i&&typeof s==typeof r||(n==="href"&&(r=o.pathmode+O(r),ye(e)),i?r?ve(e,t,n):Ae(e,t,n):!r&&r!==0?e.removeAttribute(n):n in e&&typeof r!="boolean"?e[n]=r:e.setAttribute(n,r===!0?"":r))}function Ze(e,t,n){return n.charCodeAt(0)===111&&n.charCodeAt(1)===110?Ae(e,t,n):e.removeAttribute(n)}function Ae(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function ve(e,t,n){!t.handleEvent&&(t.handleEvent=xe(e,t)),e.addEventListener(n.slice(2),t.handleEvent)}function xe(e){return{handleEvent:function(t){const n=b.get(e)["on"+event.type],s=typeof n=="function"?n.call(t.currentTarget,t):n&&typeof n.handleEvent=="function"&&n.handleEvent(t);t.redraw!==!1&&M(),s&&typeof s.then=="function"&&s.then(M)}}}function Ee(e,t,n){if(!n)return t;if(!e)return n.appendChild(t);if(!t)return n.removeChild(e);et(e,n)?n.insertBefore(t,e):n.replaceChild(t,e)}function et(e,t){if(S.delete(e),!re.has(e))return!1;const n=re.get(e)();if(!(!n||typeof n.then!="function"))return ne.add(e),n.then(()=>{t.removeChild(e),ne.delete(e)}),!0}function tt(e,t){return!e||!t||e.nodeName!==t.tag.name}function nt(e){return e instanceof E?document.createElement(e.tag.name):typeof e=="string"||typeof e=="number"||e instanceof Date?document.createTextNode(e):document.createComment(e)}
