var Oe=Ye,R=typeof document!="undefined"&&window.document,q=R&&R.querySelector&&(R.querySelector(".sin")||R.createElement("style")),Z=q&&q.getAttribute("id")||"sin-"+("000000"+(Math.random()*Math.pow(36,6)|0).toString(36)).slice(-6),je=R&&document.createElement("div"),ht=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,$e=e=>e.replace(/(\B[A-Z])/g,"-$1").toLowerCase(),Be=e=>e?e.hasOwnProperty("width")?e:Be(Object.getPrototypeOf(e)):{},Fe=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),De={},He={},ze=e=>Object.entries(e).forEach(([t,n])=>He["@"+t]=n);Ye.prefix=Z;var oe={flex:0,border:1,transform:1,"line-height":0,"box-shadow":1,"border-top":1,"border-left":1,"border-right":1,"border-bottom":1},le=["float"].concat(Object.keys(R?Be(document.documentElement.style):{})).filter((e,t,n)=>e.indexOf("-")===-1&&e!=="length"&&n.indexOf(e)===t).map(e=>e.match(ht)?"-"+$e(e):$e(e)).sort(),we=le.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");le.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),dt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","float","flex-direction","font-family","font-size","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","right","top","text-align","text-decoration","text-transform","width"],gt=Object.assign(le.reduce(Fe,{}),dt.reduce(Fe,{})),_e=new WeakMap,nn=typeof window!="undefined"&&window.CSS&&CSS.supports("color","var(--support-test)"),Pe=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,pt=e=>e===34||e===39,Je=e=>e===32||e===58||e===9,yt=e=>e===59||e===10||e===125,Ge=e=>e===58||e===64||e===38||e===91,J=[];var w=-1,E=-1,K=-1,Q=-1,Me=-1,G=-1,A=-1,ae=0,Y="",N="",V="&",U="",v="",ce="",k="",Ne="",x="",fe="",$="",y="",ue="",Ue="",_=null,Xe=!0,ee=!1,te=!1,Ie=!1,Te=!0,Ze=-1;function mt(e){return gt[e]||e}function Qe(e,t){return e=ee?e:St(e),e+":"+(ee?t:bt(t,e))+";"}function St(e){return De[e]||(De[e]=Ot(mt(e)))}function bt(e,t){return kt(t)?e.replace(/(^| )?([-0-9.]+)( |$)/g,"$1$2px$3"):e}function At(e){return e.replace(/,\s*[:[]?/g,t=>Ge(t.charCodeAt(t.length-1))?",&"+t[t.length-1]:",& ")}function he(e,t){if(Xe&&(q&&R.head&&R.head.appendChild(q),Xe=!1),q&&q.sheet)try{q.sheet.insertRule(e,t??q.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Ye([e,...t],n,r=0,i){if(_e.has(e))return{..._e.get(e),args:t};let s={};x=fe=$=k=ue="",J.length=0,E=Ze=-1,_=i?{}:null,Ie=!1,Te=!0,y=e[0];for(let f=0;f<e.length;f++)_?ve(0,f===e.length-1):Ct(e,f,t,n),y=e[f+1],f<t.length&&(E>=0?(s[Ue="--"+Z+ae+f]=f,ue+=e[f].slice(E)+"var("+Ue+")",E=0):(y+=t[f]+";",Te=!1));if(_)if(i)Object.entries(_).forEach(([f,u])=>he(f.replace(/&\s*/g,"")+"{"+u));else{Y=Z+ae++,$+=($?" ":"")+Y;for(let f=0;f<r;f++)Y+="."+Y;Object.entries(_).forEach(([f,u])=>{he(f.replace(/&/g,"."+Y)+"{"+u)})}let o=x?document.createElement(x):n.node;x&&(o.className=$);let l={node:o,classes:$,id:fe,args:t,vars:s,parent:n};return Te&&_e.set(e,l),l}function Ct(e,t,n,r){for(let i=0;i<=y.length;i++)if(A=y.charCodeAt(i),Ie){if(Pe(A)){_={},ve(i++,t===e.length-1);break}}else!Pe(A)||i===y.length?($=(K!==-1?y.slice(K+1,i).replace(/\./g," "):"")+$+r.node.className,fe=(Q!==-1?y.slice(Q,K||i):"")||r?.id,x=y.slice(0,fe?Q-1:K!==-1?K:i),Q=K=-1,Ie=!0):A===35?Q=i+1:K===-1&&A===46&&(K=i)}function Et(e){return He[e]||e}function ve(e,t){for(let n=e;n<=y.length;n++)A=y.charCodeAt(n),G===-1&&E>=0&&(ee?A===59:yt(A))&&(N==="@import"?he(N+" "+y.slice(E,n),0):k+=Qe(N,ue+y.slice(E,n)),w=E=-1,ee=!1,N=ue=""),G!==-1?G===A&&y.charCodeAt(n-1)!==92&&(G=-1):G===-1&&pt(A)?(G=A,E===-1&&(E=n)):A===123?(N==="animation"?(k&&(_[V||"&"]=k),v=y.slice(E,n).trim(),Ne="",k=""):v?(ce=y.slice(w,n).trim(),k=""):(k&&(_[V||"&"]=k),!J.length&&(te=Me===64),U=te?Et(y.slice(w,n).trim()):y.slice(w,n).trim(),U.indexOf(",")!==-1&&(U=At(U)),J.push((Ge(Me)?"":" ")+U+(te?U.indexOf("@font-face")===0?Array(++Ze+1).join(" "):"{":"")+(y.slice(w,w+6)==="@media"?"&":"")),V=(te?"":"&")+J.join(""),k=_[V||"&"]||""),w=E=-1,N=""):A===125||n===y.length&&t?(ce?(Ne+=ce+"{"+k+"}",ce=k=""):v?(he("@keyframes "+Z+ ++ae+"{"+Ne+"}"),k=(_[V||"&"]||"")+Qe("animation",v+" "+Z+ae),v=""):(k&&(_[V||"&"]=k),J.pop(),V=(te?"":"&")+J.join(""),k=_[V||"&"]||""),w=E=-1,N=""):n!==y.length&&w===-1&&Pe(A)?(w=n,Me=A):!N&&w>=0&&Je(A)?(N=y.slice(w,n),ee=A===58):E===-1&&N&&!Je(A)&&(E=n)}function kt(e){if(e[0]==="-"&&e[1]==="-"||e in oe)return oe[e];try{return je.style[e]="1px",je.style.setProperty(e,"1px"),oe[e]=je.style[e].slice(-3)==="1px"}catch(t){return oe[e]=!1}}function Ot(e){if(le.indexOf(e)===-1){if(we[e])return console.log(e,"prefixed to",we[e]),we[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}var xe=!1,de={};function ne(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function et(e){return e.split(/(?=\/)/)}function jt(e,t){return e.reduce((n,r,i)=>n+(r==="404"?1:r===t[i]?6:r&&t[i]&&r.toLowerCase()===t[i].toLowerCase()?5:r[1]===":"&&t[i]&&t[i].length>1?4:r==="/"&&!t[i]?3:r==="*"||r==="/*"?2:-1/0),0)}function wt(e,t){return e.reduce((n,r,i)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[i].slice(1))),n),{})}function _t(e,t,n={}){e.pathmode[0]==="#"?window.location.hash=e.pathmode+t:e.pathmode[0]==="?"?window.location.search=e.pathmode+t:window.history[n.replace?"replaceState":"pushState"](n.state,null,e.pathmode+t),de[t]=n.state,e.redraw()}function re(e,t,n=0){return(e.pathmode[0]==="#"?t.hash.slice(e.pathmode.length+n):e.pathmode[0]==="?"?t.search.slice(e.pathmode.length+n):t.pathname.slice(e.pathmode+n)).replace(/(.)\/$/,"$1")}function ge(e,t,n){return Object.assign(r,n),r.toString=r,r.has=i=>i==="/"?re(e,r.url)===t||re(e,r.url)==="/"&&t==="":re(e,r.url).indexOf(ne(t+"/"+i))===0,Object.defineProperty(r,"current",{get(){let i=re(e,r.url),s=i.indexOf("/",t.length+1);return s===-1?i:i.slice(0,s)}}),r;function r(i,s={}){if(typeof i=="undefined")return t+"/";if(typeof i=="string")return _t(e,ne(i[0]==="/"?i:"/"+i),s);xe||(xe=!0,e.pathmode[0]==="#"?window.addEventListener("hashchange",()=>e.redraw()):typeof window.history.pushState=="function"&&window.addEventListener("popstate",e.redraw));let o=re(e,r.url,t.length),l=et(o),[f,u,d=s.notFound]=Object.entries(i).reduce((p,[h,H])=>{h=et(ne(h));let m=jt(h,l);return m>p[0]?[m,h,H]:p},[0]),c=t+(u&&u[0]!=="*"?u.map((p,h)=>l[h]).join(""):"");(d===void 0||s.notFound)&&r.notFound(!0);let a=ge(e,c.replace(/\/$/,""),n);return a.parent=r,typeof d=="function"?d({key:c||"/",route:a,...t+o===c&&de[t+o]||{},...wt(u||[],l)}):d}}var W=class{constructor(t,n,r=0,i,s){this.level=r,this.instance=null,this.component=t,this.tag=n,this.attrs=i,this.key=i&&i.key,this.dom=null,this.children=s}};["get","put","post","delete","patch"].forEach(e=>I[e]=function(t,n){return n.method=e,I(t,n)});I.redraw=()=>{};function I(e,{method:t="GET",redraw:n=!0,body:r=null,user:i=void 0,pass:s=void 0,headers:o={},config:l=u=>{},raw:f=!1}={}){return new Promise((u,d)=>{let c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){let a=c.responseText,p;if(!f)try{a=JSON.parse(c.responseText)}catch(h){p=h}(p||c.status>=300?d:u)({status:c.status,body:a,xhr:c}),n&&I.redraw()}},c.onerror=c.onabort=a=>d({event:a,xhr:c}),c.open(t.toUpperCase(),e,!0,i,s),Object.keys(o).forEach(a=>o[a]&&c.setRequestHeader(a,o[a])),!("Content-Type"in o)&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in o)&&c.setRequestHeader("Accept","application/json, text/*"),l(c),r===null?c.send():c.send(f?r:JSON.stringify(r))})}var pe=b;b.SKIP={};b.lift=Nt;b.scan=Pt;b.merge=tt;b.combine=ye;b.scanMerge=Mt;b["fantasy-land/of"]=b;function b(e){let t=[],n=[];function r(o){return arguments.length&&o!==b.SKIP&&(e=o,nt(r)&&(r._changing(),r._state="active",t.forEach((l,f)=>l(n[f](e))))),e}r.constructor=b,r._state=arguments.length&&e!==b.SKIP?"active":"pending",r._parents=[],r._changing=()=>{nt(r)&&(r._state="changing"),t.forEach(o=>o._changing())},r._map=(o,l)=>{let f=l?b():b(o(e));return f._parents.push(r),t.push(f),n.push(o),f},r.map=o=>r._map(o,r._state!=="active");let i;function s(){return i=b(),i.map(o=>(o===!0&&(r._parents.forEach(l=>l._unregisterChild(r)),r._state="ended",r._parents.length=t.length=n.length=0),o)),i}return r.toJSON=()=>e!=null&&typeof e.toJSON=="function"?e.toJSON():e,r.toString=r,r.valueOf=r,r["fantasy-land/map"]=r.map,r["fantasy-land/ap"]=o=>ye((l,f)=>l()(f()),[o,r]),r._unregisterChild=o=>{let l=t.indexOf(o);l!==-1&&(t.splice(l,1),n.splice(l,1))},Object.defineProperty(r,"end",{get:()=>i||s()}),r}function ye(e,t){let n=t.every(l=>{if(l.constructor!==b)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return l._state==="active"}),r=n?b(e.apply(null,t.concat([t]))):b(),i=[],s=t.map(l=>l._map(f=>(i.push(l),(n||t.every(u=>u._state!=="pending"))&&(n=!0,r(e.apply(null,t.concat([i]))),i=[]),f),!0)),o=r.end.map(l=>{l===!0&&(s.forEach(f=>f.end(!0)),o.end(!0))});return r}function tt(e){return ye(()=>e.map(t=>t()),e)}function Pt(e,t,n){let r=n.map(i=>{let s=e(t,i);return s!==b.SKIP&&(t=s),s});return r(t),r}function Mt(e,t){let n=e.map(i=>i[0]),r=ye(()=>{let i=arguments[arguments.length-1];return n.forEach((s,o)=>{i.indexOf(s)>-1&&(t=e[o][1](t,s()))}),t},n);return r(t),r}function Nt(){let e=arguments[0],t=Array.prototype.slice.call(arguments,1);return tt(t).map(n=>e.apply(void 0,n))}function nt(e){return e._state==="pending"||e._state==="active"||e._state==="changing"}function rt(e,t,n,r,i,s,o,l,f,u=null){let d=0,c=f?f.nextSibling:e.firstChild,a;for(;d<n.length;)l.has(c)||(c=c!==u?i(c,n[d],e):e.insertBefore(r(c,n[d]),u),o&&(o[d]=B(n[d],c)),d++),c&&(c=c.nextSibling);for(;c&&d<t.length;)a=c.nextSibling,s(c,e)&&d++,c=a}function it(e,t,n,r,i,s,o,l,f,u){let d=f?f.nextSibling:e.firstChild,c,a=t.length,p=0,h=0,H=!0,m=t.length-1,S=n.length-1,O,g,M=f?f.nextSibling:e.firstChild,Ve=M,j=u?u.previousSibling:e.lastChild;e:for(;H;){for(H=!1,O=t[p],g=n[h];O.key===g.key;){if(o[h]=B(g,i(M,g,e)),p++,h++,Ve=M=M.nextSibling,m<p||S<h)break e;O=t[p],g=n[h]}for(O=t[m],g=n[S];O.key===g.key;){if(o[S]=B(g,i(j,g,e)),m--,S--,u=j,j=j.previousSibling,m<p||S<h)break e;O=t[m],g=n[S]}for(O=t[m],g=n[h];O.key===g.key;){if(H=!0,o[h]=B(g,i(j,g,e)),d=j.previousSibling,e.insertBefore(j,Ve),j=d,h++,m--,m<p||S<h)break e;O=t[m],g=n[h]}for(O=t[p],g=n[S];O.key===g.key;){if(H=!0,o[S]=B(g,i(M,g,e)),d=M.nextSibling,e.insertBefore(M,u),p++,u=M,M=d,S--,m<p||S<h)break e;O=t[p],g=n[S]}}if(S<h){if(p<=m)for(;p<=m;)m===0?s(j,e)&&m--:(c=j.previousSibling,s(j,e)&&m--,j=c);return o}if(m<p){if(h<=S)for(;h<=S;)g=n[h],d=r(null,g),o[h]=B(g,d),u?e.insertBefore(d,u):e.appendChild(d),h++;return o}let z=new Array(S+1-h);for(a=h;a<=S;a++)z[a]=-1;let Ae=new Map;for(a=h;a<=S;a++)Ae.set(n[a].key,a);let We=h+n.length-1-S,Ce=[];for(a=p;a<=m;a++)Ae.has(t[a].key)?(z[Ae.get(t[a].key)]=a,We++):Ce.push(a);if(We===0){if(f!==void 0||u!==void 0)for(f!==void 0?f.nextSibling:e.firstChild,u===void 0&&(u=null);d!==u;)c=d.nextSibling,s(d,e)&&p++,d=c;else e.textContent="";for(a=h;a<=S;a++)g=n[a],d=r(null,g),o[a]=B(g,d),u?e.insertBefore(d,u):e.appendChild(d);return o}let Ee=It(z,h),se=[];for(c=M,a=p;a<=m;a++)se[a]=c,c=c.nextSibling;for(a=0;a<Ce.length;)s(se[Ce[a]],e)&&a++;let ke=Ee.length-1;for(a=S;a>=h;a--)Ee[ke]===a?(u=se[z[Ee[ke]]],i(u,n[a],e),ke--):(z[a]===-1?c=r(n[a]):(c=se[z[a]],i(c,n[a],e)),e.insertBefore(c,u),u=c);return o}function It(e,t){let n=[],r=[],i=new Array(e.length),s,o,l,f,u=-1;for(l=t,f=e.length;l<f;l++)s=e[l],s>=0&&(o=Tt(n,s),o!==-1&&(i[l]=r[o]),o===u?(u++,n[u]=s,r[u]=l):s<n[o+1]&&(n[o+1]=s,r[o+1]=l));for(l=r[u];u>=0;l=i[l],u--)n[u]=l;return n}function Tt(e,t){let n=-1,r=e.length,i;if(r>0&&e[r-1]<=t)return r-1;for(;r-n>1;)i=Math.floor((n+r)/2),e[i]>t?r=i:n=i;return n}function B({key:e},t){return{dom:t,key:e}}function C(...e){return ot.bind(typeof e[0]=="function"?new W(e[0]):lt(e))}var T=new WeakMap,F=new WeakSet,me=new WeakMap,L=new WeakMap,Se=new WeakMap,D=new WeakMap,ie=new WeakMap,st=new Map,Lt={node:document.createElement("DIV")},Le=!0;C.pathmode="";C.redraw=X;C.mount=Vt;C.stream=pe;C.css=(e,...t)=>Oe([e,t],null,0,!0);C.route=ge(C,"",{url:typeof window!="undefined"&&window.location,notFound:()=>{},title:()=>{},head:()=>{}});C.http=I;C.http.redraw=X;C.request=(e,t)=>(t?I(e,t):I(e.url,e)).then(({body:n})=>n).catch(n=>(n.response=n.body,Promise.reject(n)));C.bss={at:ze,global:C.css};C.trust=e=>C``({life(t){t.innerHTML=e}});function Rt(e){e.addEventListener("click",t=>{if(!t.defaultPrevented&&(t.button===0||t.which===0||t.which===1)&&(!t.currentTarget.target||t.currentTarget.target==="_self")&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){t.preventDefault();let n=D.get(e).state;window.history.pushState(n,null,e.getAttribute("href")),de[e.getAttribute("href")]=n,C.redraw()}})}function ot(...e){return Array.isArray(e[0])&&Array.isArray(e[0].raw)?ot.bind(lt(e,this)):qt(e,this)}function lt(e,t){return new W(t&&t.component,Oe(e,t&&t.tag||Lt,t?t.level+1:0),t?t.level+1:0)}function qt(e,t){let n=Kt(e&&e[0]);return new W(t.component,t.tag,t?t.level+1:0,n?e[0]:{},n?Array.isArray(e[1])&&e.length===2?e[1]:e.slice(1):Array.isArray(e[0])&&e.length===1?e[0]:e)}function Kt(e){return!(e instanceof W)&&e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)}function Vt(e,t){return!t&&(t=e,e=document.body),st.set(e,t),X(),t}function X(){Le&&(requestAnimationFrame(Wt),Le=!1)}function Wt(){st.forEach((e,t)=>Re(t,[].concat(e({route:C.route})))),Le=!0}function Re(e,t,n,r){let i=n?n.nextSibling:e.firstChild,s=t.length&&t[0]&&t[0].key!=null&&new Array(t.length),o=i,l=ie.has(i);s&&l?it(e,ie.get(i),t,P,P,be,s,F,n,r):rt(e,l?ie.get(i):[],t,P,P,be,s,F,n,r),i=n?n.nextSibling:e.firstChild,i&&(ie.set(i,s||{length:t.length}),i!==o&&ie.delete(o))}function P(e,t,n,r,i){return $t(t)?Bt(e,t,n):typeof t=="function"?P(e,t(),n,r,i):t instanceof W?t.component?Jt(e,t,n,r,i):Ht(e,t,n,i):Array.isArray(t)?Dt(e,t,n):at(e,t,n,i)}function $t(e){return e&&e.constructor===pe}function Bt(e,t,n){if(me.has(e))return me.get(e);let r,i;return t.map(s=>{r=P(e,s,n),i=L.has(r)?L.get(r).dom:r,e!==i&&(e&&me.delete(e),me.set(i,r)),e=i}),r}function Ft(e){return e&&e.length===1&&(typeof e[0]=="string"||typeof e[0]=="number")}function Dt(e,t,n=new DocumentFragment){let r=e&&e.nodeType===8&&{length:parseInt(e.nodeValue.slice(1,-1))};return t.dom=at(e,"["+t.length+"]",n,!1,8),e=Re(n,t,t.dom.nextSibling,r),L.set(e,{dom:t.dom,length:t.length}),e}function at(e,t,n,r,i=typeof t=="boolean"||t==null?8:3){let s=r||!e||e.nodeType!==i;return s&&Ke(e,e=i===8?document.createComment(t):document.createTextNode(t),n),!s&&e.nodeValue!=t&&(e.nodeValue=""+t),e}function Ht(e,t,n,r){let i=r||!e||!t||e.tagName!==t.tag.node.tagName;return i&&Ke(e,e=t.tag.node.cloneNode(),n),t.dom=e,t.children&&(i&&Ft(t.children)?e.textContent=""+t.children[0]:Re(e,t.children)),Zt(e,t,i),e}function zt(){let e=[],t={xs:e,i:0,max:0,peek:()=>e[t.i],prev:()=>{t.i--},next:()=>(t.i<=t.xs.length&&(t.max=++t.i),t),add:n=>e.push(n)};return t}function Jt(e,t,n,r,i){return e=!i&&(r||T.has(e))?Gt(e,t,n,r||T.get(e)):ct(e,t,n,r,i),t.dom=Array.isArray(t)&&L.has(e)?L.get(e).dom:e,e}function Gt(e,t,n,r){let i=r&&r.peek();if(!i)return ct(e,t,n,r);if(typeof i.instance=="function"){let s=qe(i.instance(t.attrs,t.children),t),o=P(e,s,n,r.next());return i.dom=Array.isArray(s)&&L.has(o)?L.get(o).dom:o,r.prev(),r.i===0&&(r.xs.length=r.max,r.max=0),i.dom!==e&&(T.set(i.dom,r),T.delete(e)),o}else if(i.instance&&typeof i.instance.then=="function")return r.max++,e;return i.dom=P(e,i.instance,n,r)}function ct(e,t,n,r=zt(),i){let s=t.component({life:()=>{},...t.attrs},t.children,()=>P(e,t));if(typeof s=="function"){r.add(t);let o=qe(s(t.attrs,t.children),t),l=P(e,o,n,r.next(),i);return r.prev(),t.dom=Array.isArray(o)&&L.has(l)?L.get(l).dom:l,t.instance=s,t.dom!==e&&(T.set(t.dom,r),T.delete(e)),l}else if(s&&typeof s.then=="function"){let o=document.createComment("pending");return t.instance=s,r.add(t),r.max++,o!==e&&(T.set(o,r),T.delete(e)),s.catch(l=>(console.error(l),l)).then(l=>{!T.has(o)||(t.instance=l,X())}),Ke(e,o,n),o}return P(e,qe(s,t),n,r,i)}function qe(e,t){return t?.tag?e?.tag?(e.tag={id:t.tag.id||e.tag.id,node:t.tag.node||e.tag.node,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e):(e.tag=t.tag,e):e}function Ut(e){return e==="key"||e==="handleEvent"||e==="class"||e==="className"}function Xt(e){for(let t in e)return!1;return!0}function Zt(e,t,n){let r=!1,i=t.tag,s=D.has(e)&&D.get(e);s&&t.attrs&&(t.attrs.handleEvent=s.handleEvent);for(let l in t.attrs)l==="life"?n&&Qt(e,t):!Ut(l)&&s[l]!==t.attrs[l]&&(!r&&(r=!0),Yt(e,t.attrs,l,s[l],t.attrs[l]));if(D)for(let l in s)l in t.attrs||vt(e,s,l);let o=(t.attrs.class?t.attrs.class+" ":"")+t.tag.classes;if(o!==(e.getAttribute("class")||"")&&(o?(!r&&(r=!0),e.setAttribute("class",o)):e.removeAttribute("class")),t.tag)for(ft(e,t.tag.vars,t.tag.args,n);i=i.parent;)ft(e,i.vars,i.args,n);r?D.set(e,t.attrs):s&&Xt(t.attrs)&&D.delete(e)}function ft(e,t,n,r){for(let i in t){let s=n[t[i]];s&&s.constructor===pe?r&&s.map(o=>e.style.setProperty(i,o)):e.style.setProperty(i,typeof s=="function"?s(e):s)}}function Qt(e,t){let n=[].concat(t.attrs.life).map(r=>typeof r=="function"&&r(e,()=>P(e,t))).filter(r=>typeof r=="function");n.length&&Se.set(e,n)}function Yt(e,t,n,r,i){if(r===i)return;n==="href"&&(i=C.pathmode+ne(i),Rt(e));let s=n.charCodeAt(0)===111&&n.charCodeAt(1)===110;s&&typeof r==typeof i||(s?i?xt(e,t,n):ut(e,t,n):!i&&i!==0?e.removeAttribute(n):n in e&&typeof i!="boolean"?e[n]=i:e.setAttribute(n,i===!0?"":i))}function vt(e,t,n){return n.charCodeAt(0)===111&&n.charCodeAt(1)===110?ut(e,t,n):e.removeAttribute(n)}function ut(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function xt(e,t,n){!t.handleEvent&&(t.handleEvent=en(e)),e.addEventListener(n.slice(2),t.handleEvent)}function en(e){return{handleEvent:function(t){let n=D.get(e)["on"+t.type],r=typeof n=="function"?n.call(t.currentTarget,t):n&&typeof n.handleEvent=="function"&&n.handleEvent(t);t.redraw!==!1&&X(),r&&typeof r.then=="function"&&r.then(X)}}}function Ke(e,t,n){if(!!n)return e&&n.replaceChild(t,e),t}function tn(e,t,n){if(!Se.has(e))return n&&n.length&&(F.add(e),Promise.allSettled(n));let r=Se.get(e).map(i=>i()).filter(i=>i&&typeof i.then=="function");return Se.delete(e),r.length===0?n&&n.length&&(F.add(e),Promise.allSettled(n)):(F.add(e),Promise.allSettled(r.concat(n||[])).then(()=>{F.delete(e),be(e,t)}))}function be(e,t,n=!0){if(!t||F.has(e))return!1;if(e.nodeType!==1)return n&&t.removeChild(e);let r=[],i=e.firstChild;for(;i;){let s=be(i,e,!1);s&&r.push(s),i=i.nextSibling}return tn(e,t,r)||n&&t.removeChild(e)}export{C as default};
