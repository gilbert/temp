typeof globalThis>"u"&&(window.globalThis=window);var k=typeof window>"u"?{}:window;var ce=Symbol("stackTrace"),er=Promise.resolve(),E={}.hasOwnProperty;function xe(e){return e&&String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function tr(e){return xe(e).replace("/?","?")}function hn(e){return!e&&e!==0&&e!==""}function pt(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function W(e){return e&&L(e.observe)}function L(e){return typeof e=="function"}function dn(e){return e&&L(e.then)}function rr(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function nr(e){return e&&Array.isArray(e.raw)}function or(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function ar(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"||e==="href"}function pn(e){return(Qt(e.attrs.class)+Qt(e.attrs.className)+e.tag.classes).trim()}function gt(e){return Array.isArray(e)?e:[e]}function Re(){}function mt(e){return or(e)||(e==="cssFloat"?"float":pt(e))}function Qt(e){return W(e)||L(e)?Qt(e()):e?typeof e=="object"?ja(e):e+" ":""}function ja(e){let t="";for(let r in e)t+=(t?" ":"")+(e[r]||"");return t}function bt(e,t){e?document.documentElement.style.setProperty("min-width",e+"px"):document.documentElement.style.removeProperty("min-width"),t?document.documentElement.style.setProperty("min-height",t+"px"):document.documentElement.style.removeProperty("min-height")}function Fe(e,t,r,n){bt(r,n),window.scrollTo(e||0,t||0)}function gn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}var Z=class{constructor(t,r,n=null,a=0,o=null,l=null){if(n&&n.name==="input"&&o&&"value"in o&&!("oninput"in o)&&!o.disabled)throw new Error("oninput handler required when value is set on input - Bypass check by setting oninput: false");this.level=a,this.component=r,this.inline=t,this.tag=n,this.attrs=o,this.key=o?o.key:void 0,this.dom=null,this.children=l,this[ce]=E.call(k,ce)?new Error().stack:null}};["head","get","put","post","delete","patch"].forEach(e=>Oe[e]=function(t,r={}){return r.method=e,Oe(t,r)});Oe.redraw=()=>{};var za=typeof Uint8Array>"u"?[]:[Object.getPrototypeOf(Uint8Array)],$a="Blob ArrayBuffer DataView FormData URLSearchParams File".split(" ").map(e=>globalThis[e]).filter(e=>e).concat(za);function Oe(e,{method:t="GET",redraw:r=!0,responseType:n,json:a="application/json",query:o,body:l,user:s,pass:c,headers:u={},config:d,timeout:f=0,...g}={}){let m=new k.XMLHttpRequest(g),w=!1,b=new Promise((C,v)=>{let P,B;t=t.toUpperCase(),m.addEventListener("readystatechange",function(){if(m.readyState===m.DONE)try{m.status&&Object.defineProperty(m,"body",{value:P===a?m.response===void 0||m.response===""?void 0:JSON.parse(m.response):m.response}),m.status===304||m.status>=200&&m.status<300?C(w?m:m.body):v(_a(m))}catch(T){v(T)}}),m.addEventListener("error",v),m.addEventListener("abort",()=>v(new Error("ABORTED"))),m.open(t,Da(e,o),!0,s,c),m.timeout=f,n&&(m.responseType=n),Object.entries(u).forEach(([T,Y])=>{Y&&m.setRequestHeader(T,Y),T.toLowerCase()==="accept"&&(P=Y),T.toLowerCase()==="content-type"&&(B=Y)}),!P&&!n&&a&&m.setRequestHeader("Accept",P=a),!B&&l!==void 0&&!$a.some(T=>l instanceof T)&&a&&m.setRequestHeader("Content-Type",B=a),d&&d(m),m.send(B===a?JSON.stringify(l):l)}).catch(C=>{let v=Object.assign(new Error(C.message),{...C,url:e,status:m.status,body:m.body||m.response});throw Object.defineProperty(v,"xhr",{value:m}),v});return Object.defineProperty(b,"xhr",{get(){return w=!0,b}}),b}function _a(e){return new Error(e.status?e.status+(e.statusText?" "+e.statusText:""):"Unknown")}function Da(e,t){let r=new URL(e,"http://x"),n=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+r.search+(n?(r.search?"&":"?")+n:"")+(r.hash||"")}function Pe(e,...t){let r=new Set;return t.forEach(s=>L(s)&&r.add(s)),o.value=e,o.observe=s=>(r.add(s),()=>r.delete(s)),o.valueOf=o.toString=o.toJSON=()=>e,o.detach=Re,o.reduce=l,o.set=s=>(...c)=>(o(L(s)?s(...c):s),o),o.get=s=>Object.assign(n.bind(null,s),{observe:c=>o.observe(()=>c(n(s)))}),o.if=(...s)=>Object.assign(a.bind(null,...s),{observe:c=>o.observe(u=>c(a(...s)))}),o;function n(s){return L(s)?s(o.value):o.value[s]}function a(s,c=!0,u=!1){return o.value===s?c:u}function o(s){if(!arguments.length)return o.value;let c=e;return o.value=e=s,r.forEach(u=>o.value!==c&&u(o.value,c,()=>r.delete(u))),o.value}function l(s,c){let u=1,d=Pe(arguments.length>1?s(c,o.value,u++):o.value);return o.observe(f=>d(s(d.value,f,u++))),d}}Pe.from=function(...e){let t=e.pop(),r=Pe(t(...e.map(sr))),n=e.map(a=>a.observe(()=>r(t(...e.map(sr)))));return r.detach=()=>n.forEach(sr),r};function sr(e){return e()}var mn=!1,bn={};function yn(e){return e.split(/(?=\/)/)}function qa(e,t){return e.reduce((r,n,a)=>(n[1]===":"&&(r[n.slice(2)]=decodeURIComponent(t[a].slice(1))),r),{})}function Ve(e,t,r,n){let a=d.location=r.location,o=e(({key:f,route:g,...y},[m],w)=>(w.route=Ve(e,f.replace(/\/$/,""),r,g),g.key=f,()=>l(m,y,w)));return d.root=n?n.root:d,d.parent=n||d,d.query=r.query,d.toString=d,d.has=f=>f==="/"?s(a)===t||s(a)==="/"&&t==="":s(a).indexOf(tr(t+"/"+f))===0,Object.defineProperty(d,"path",{get(){let f=s(a),g=f.indexOf("/",t.length+1);return g===-1?f:f.slice(0,g)}}),d;function l(f,g,y){let m=L(f)?f(g,[],y):f;return dn(m)?e(()=>m)(g):m}function s(f,g=0){return(e.pathmode[0]==="#"?f.hash.slice(e.pathmode.length+g):e.pathmode[0]==="?"?f.search.slice(e.pathmode.length+g):f.pathname.slice(e.pathmode+g)).replace(/(.)\/$/,"$1")}function c(f,{state:g,replace:y=!1,scroll:m=!0}={}){if(f!==s(a)+a.search)return e.pathmode[0]==="#"?k.location.hash=e.pathmode+f:e.pathmode[0]==="?"?k.location.search=e.pathmode+f:k.history[y?"replaceState":"pushState"](g,null,e.pathmode+f),bn[f]=g,f.indexOf(a.search)>-1&&r.query(a.search),e.redraw().then(()=>{m===!1||e.route.scroll===!1?e.route.scroll=void 0:Fe()})}function u({state:f={}}={}){e.redraw().then(()=>Fe(...f&&f.scroll||[]))}function d(f,g={}){if(typeof f>"u")return t+"/";if(typeof f=="string")return c(tr(f[0]==="/"?f:"/"+f),g);mn||(mn=!0,e.pathmode[0]==="#"?k.addEventListener("hashchange",u,{passive:!0}):L(k.history.pushState)&&k.addEventListener("popstate",u,{passive:!0}));let y=s(a,t.length),m=yn(y),{match:w,view:b}=Ia(f,m),C=t+(w?w.map((v,P)=>v==="/*"||v==="/?"?"":m[P]).join(""):"?");return(b===void 0||w[0]==="/?")&&r.doc.status(404),d.params={...d.parent.params,...qa(w||[],m)},o({key:C,route:d,...d.params,...t+y===C&&bn[t+y]||k.history.state||{}},b)}}function Ia(e,t){let r=0,n,a;function o(l,s){if(l.charCodeAt(0)!==47&&(l="/"+l),l=yn(xe(l)),typeof s=="object"&&s!=null){for(let u in s)o(l+u,s[u]);return}let c=Ha(l,t);c>r&&(r=c,n=l,a=s)}for(let l in e)o(l,e[l]);return{match:n,view:a}}function Ha(e,t){return e.reduce((r,n,a)=>r+(n==="/?"?1:n===t[a]?7:n&&t[a]&&n.toLowerCase()===t[a].toLowerCase()?6:n[1]===":"&&t[a]&&t[a].length>1?5:n==="/"&&!t[a]?4:n.indexOf("/...")===0?3:n==="/*"?2:-1/0),0)}function ir(e,t){let r=URLSearchParams,n=["append","delete","set","sort"],a=t.search,o=new r(a),l,s=e.live();s.replace=d=>(o=new r(d),u()),s.clear=()=>s.replace("");for(let d in r.prototype)s[d]=(...f)=>(l=c()[d](...f),n.includes(d)&&u(),l);return s;function c(){return a===t.search?o:(a=t.search,o=new r(a))}function u(){let d=t.pathname+(o+""?"?"+(o+"").replace(/=$/g,""):"")+t.hash;location.href.endsWith(d)||(k.history.replaceState(k.history.state,null,d),s(t.search),e.redraw())}}var lr=(e,t)=>(e[t.split("-").map(r=>r[0]).join("")]=t,e),wn=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-area","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","pointer-events","right","top","text-align","text-decoration","text-transform","text-shadow","user-select","white-space","width","z-index"];var ne,hr="s",Ye=k.document,xa=/^(ms|moz|webkit)[-A-Z]/i,je=Ye.createElement("div"),Nn={},Cn={},cr={},Cr=e=>ne||(ne=e||Ye.querySelector("style.sin")||Ye.createElement("style"));var vr=(e,t)=>typeof t=="string"?Nn["@"+e]=t:Object.entries(e).forEach(([r,n])=>vr(r,n)),yt={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","text-shadow":"px","@media":"px"},Ct=Array.from(Object.keys(E.call(je.style,"width")?je.style:Object.getPrototypeOf(je.style)).reduce((e,t)=>(e.add(t.match(xa)?"-"+pt(t):pt(t)),e),new Set(["float"]))),Fa=Object.assign(Ct.reduce(lr,{}),wn.reduce(lr,{})),vn=Ct.reduce((e,t)=>{let r=t.match(/-(ms|o|webkit|moz)-/g);if(r){let n=t.replace(/-(ms|o|webkit|moz)-/,"");Ct.indexOf(n)===-1&&(n==="flexDirection"&&(e.flex="-"+r[1].toLowerCase()+"-flex"),e[n]=t)}return e},{}),ur=new Map,Mn=new Set,Sn=k.CSS&&k.CSS.supports("color","var(--support-test)"),Va=["perspective","blur","drop-shadow","inset","polygon","minmax"],Wa=["@media","@supports","@document","@layer"],Rn=e=>Wa.some(t=>e.indexOf(t)===0),Za=e=>e.indexOf("translate")===0||Va.indexOf(e)>-1,Ga=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,dr=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,On=e=>e>=48&&e<=57||e===46,Xa=e=>e>=65&&e<=90||e>=97&&e<=122,Ya=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,Ja=e=>e===34||e===39,kn=e=>e===32||e===58||e===9,Ua=e=>e===59||e===10||e===125,Pn=e=>e===38||e===58||e===64||e===91,Ka=e=>e===59||e===125,vt=e=>e[e.length-1],J=[],oe=-1,j=-1,re=-1,We=-1,Mt=-1,Be=-1,S=-1,Me=-1,ze=-1,pr=-1,ve=-1,U="",D="",ae="&&",Ce="",Ze="",En="",wt="",_="",gr="",mr="",Ge="",Te="",N="",H="",An="",x=null,Ln=!0,St=!1,br=!1,fr=!0,yr=!1,K=0,Xe=!1,ue=[];function Mr(e){return Fa[e]||e}function Bn(e,t,r){return(e?";":"")+(St?t:Qa(t))+":"+r}function Qa(e){return Cn[e]||(Cn[e]=cs(Mr(e)))}function es(e){return Xe?e:e.replace(/,\s*[:[]?/g,t=>Pn(t.charCodeAt(t.length-1))?",&"+vt(t):",& ")}function kt(e,t){if(Ln&&(ne&&Ye.head&&Ye.head.appendChild(ne),Ln=!1),ne&&ne.sheet)try{ne.sheet.insertRule(e,t??ne.sheet.cssRules.length)}catch(r){console.error("Insert rule error:",r,e)}}function Sr([e,...t],r,n=0,a=!1){if(ne||Cr(),ur.has(e))return{...ur.get(e),parent:r,args:t};Xe=a;let o={};ue=[],ae="&&",mr=Ge=Te=_=H=D="",J.length=K=0,Me=j=pr=Mt=ve=-1,x=Xe?{}:null,yr=!1,br=!1,fr=!0,N=e[0];for(let s=0;s<e.length;s++)if(x?Tn(0,s===e.length-1):ts(e,s,r),N=e[s+1],s<t.length){let c=e[s].slice(j),u=t[s];if(k.isServer&&L(u)&&!W(u)&&(u="6invalidate"),Sn&&j>=0&&u!=="6invalidate")U=hr+Math.abs(K).toString(31),o[An="--"+U+s]={property:D,fns:ue.slice(-1),unit:wr(D,vt(ue)),index:s},H+=c+"var("+An+")",j=0;else{let d=c+u+wr(D,vt(ue));H+=d;for(let f=0;f<d.length;f++)K=Math.imul(31,K)+d.charCodeAt(f)|0;fr=!1,j=Sn?-1:0}}yr&&(Xe?Object.entries(x).forEach(([s,c])=>{kt(s.replace(/&\s+/g,"").replace(/{&$/,"")+"{"+c+"}")}):(U=hr+Math.abs(K).toString(31),Te+=(Te?" ":"")+U,En=n&&"&".repeat(n+1),Mn.has(U)||Object.entries(x).forEach(([s,c])=>{En&&(s=s.replace("&","&".repeat(n+1))),kt(s.replace(/&/g,"."+U)+"{"+c+"}")})));let l={name:mr,classes:Te,id:Ge,args:t,vars:o,parent:r};return fr?ur.set(e,l):Mn.add(U),l}function ts(e,t,r){for(let n=0;n<=N.length;n++)if(S=N.charCodeAt(n),n<N.length&&(K=Math.imul(31,K)+S|0),br){if(dr(S)){x={},Tn(n++,t===e.length-1);break}}else!dr(S)||n===N.length?(Te=(re!==-1?N.slice(re+1,n).replace(/\./g," "):"")+Te+(r?" "+r.classes:""),Ge===""&&(Ge=(We!==-1?N.slice(We,re===-1?n:re):"")||(r?r.id:null)),mr=N.slice(0,Ge?We-1:re!==-1?re:n)||r&&r.name,We=re=-1,br=!0):S===35?We=n+1:re===-1&&S===46&&(re=n)}function rs(e){return Nn[e]||e}function Tn(e,t){for(let r=e;r<=N.length;r++)S=N.charCodeAt(r),r<N.length&&(K=Math.imul(31,K)+S|0),Be===-1&&j!==-1&&(St?Ka(S):Ua(S)||t&&r===N.length)&&ns(r),Be!==-1?Be===S&&N.charCodeAt(r-1)!==92&&(Be=-1):Be===-1&&Ja(S)?(Be=S,j===-1&&(j=r)):S===123?os(r):S===125||t&&r===N.length?as():r!==N.length&&oe===-1&&dr(S)?(oe=r,Mt=S):!D&&oe>=0&&kn(S)?(D=N.slice(oe,r),St=S===58):j===-1&&D&&!kn(S)?(j=Me=r,On(S)?ze=r:S===36&&(ve=r)):j!==-1?zn(r):(S===9||S===32)&&(Me=r+1)}function ns(e){jn(e),D==="@import"?kt(D+" "+N.slice(j,e)+";",0):_+=Bn(_,D,H+N.slice(j,e)),yr=!0,oe=j=-1,St=!1,D=H=""}function jn(e){ze!==-1?is(e):ve!==-1&&ss(e)}function os(e){D==="animation"?(_&&(x[ae]=_),Ze=H+N.slice(j,e).trim(),gr=H="",_=""):Ze?(wt=N.slice(oe,e).trim(),_=""):(_&&(x[ae]=_),Ce=(Mt===64?rs(D)+(H||"")+N.slice(j-1,e):N.slice(oe,e)).trim(),Ce.indexOf(",")!==-1&&(Ce=es(Ce)),H=D="",J.push((Pn(Mt)?"":" ")+Ce+(Ce==="@font-face"&&++pr?"/*"+Array(pr).join(" ")+"*/":"")),ae=$n(J),_=x[ae]||""),oe=j=-1,D=""}function as(){if(wt)gr+=wt+"{"+_+"}",wt=_="";else if(Ze)_=x[ae]||"",U=hr+Math.abs(K).toString(31),kt("@keyframes "+U+"{"+gr+"}"),_+=Bn(_,"animation",Ze+" "+U),Ze="";else{let e=J.map(t=>t.charCodeAt(0)===64&&Rn(t)?"}":"").join("");J.pop(),J.length&&J[0].indexOf("@keyframes")===0?x[J[0]]=(x[J[0]]||"")+Ce+"{"+_+"}":_&&(x[ae]=_.trim()+e),ae=$n(J),_=x[ae]||""}oe=j=-1,D=""}function zn(e){On(S)?ze===-1&&(ze=e):jn(e),S===40?ue.push(N.slice(Math.max(Me,j),e)):S===41?ue.pop():S===9||S===32?Me=e+1:S===36&&(ve=e)}function ss(e){Xa(S)||(H=H+N.slice(j,ve)+"var(--"+N.slice(ve+1,e)+")",j=e,ve=-1)}function is(e){!Ya(S)&&N.charCodeAt(Me)!==35&&(H=H+N.slice(j,e)+wr(D,vt(ue)),j=e),ze=-1}function wr(e,t=""){e=Mr(e);let r=e+","+t;return E.call(cr,r)?cr[r]:cr[r]=t&&Za(t)?"px":Ga(t)?"deg":t?"":ls(e)}function Et(e,{property:t,fns:r,unit:n}){if(L(e)&&(e=e()),!e&&e!==0)return"";if(typeof e=="number")return e+n;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";N=e,H="",j=0,ze=Me=-1,D=t,ue=r;for(let a=0;a<=e.length;a++)S=e.charCodeAt(a),zn(a);return H+e.slice(j)}function $n(e){if(e.length===0)return"&&";let t=0;return e.reduce((r,n,a,o)=>{let l=n.charCodeAt(0);return l===64&&(n.indexOf("@font-face")===0&&a++,Rn(n))?(t++,n+"{"+(a===o.length-1?"&&":"")+r):r+(Xe||a-t?"":l===32?"&":"&&")+n},"")}function ls(e){if(e=Mr(e),or(e)||E.call(yt,e))return yt[e];try{return je.style[e]="1px",je.style.setProperty(e,"1px"),yt[e]=je.style[e].slice(-3)==="1px"?"px":""}catch{return yt[e]=""}}function cs(e){if(Ct.indexOf(e)===-1){if(vn[e])return vn[e];e.indexOf("--")!==0&&k.sinHMR&&k.console.error(e,"css property not found")}return e}var R=k.document,_n={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Rt=new WeakSet,xn=new Map,Nr=Symbol("deferrable"),Ue=Symbol("observable"),fe=Symbol("component"),Rr=Symbol("cycle"),Or=Symbol("event"),Pr=Symbol("arrayEnd"),Br=Symbol("arrayStart"),kr=Symbol("live"),Dn=Symbol("size"),Ke=Symbol("life"),Ot=Symbol("attr"),Fn=Symbol("keyIndex"),Q=Symbol("keys"),Vn=Symbol("key"),rt=Symbol("s"),Pt=[],Nt,Wn;function h(...e){let t=typeof e[0];return t==="string"?Tr(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Gn(Tr,nr(e[0])?Zn(e):t==="function"?new Z(h.redrawing,e):new Z(h.redrawing,[e[1],e[0]]))}function Tr(...e){return nr(e[0])?Gn(Tr,Zn(e,this)):ms(e,this)}function Zn(e,t){let r=t?t.level+1:0;return new Z(t&&t.inline,t&&t.component,Sr(e,t&&t.tag,r),r)}function Gn(e,t){let r=e.bind(t);return r[rt]=!0,r}h.redrawing=!1;h.sleep=(e,...t)=>new Promise(r=>setTimeout(r,e,...t));h.with=(e,t)=>e===void 0?e:t(e);h.isAttrs=Xn;h.isServer=!1;h.pathmode="";h.redraw=Qe;h.mount=bs;h.css=(...e)=>Sr(e,null,0,!0);h.css.alias=vr;h.style=Cr;h.animate=ps;h.http=Oe;h.live=Pe;h.event=fs;h.on=ds;h.trust=hs;h.route=Ve(h,"",{location:k.location,query:ir(h,k.location)});h.window=k;h.scroll=!0;h.error=h(e=>(console.error(e),()=>h`pre;all initial;d block;c white;bc #ff0033;p 8 12;br 6;overflow auto;fs 12`(h`code`("Unexpected Error: "+(e.message||e)))));var us=h(({strings:e,values:t=[]})=>{let r=R.createElement("div"),n=Array.isArray(e.raw)?[...e.raw]:[e.trim()];n[0]=n[0].trimStart(),n[n.length-1]=n[n.length-1].trimEnd(),r.innerHTML=String.raw({raw:n},...t);let a=[...r.childNodes,R.createComment("trust")];return()=>a});function fs(e){let t=new Set(e?[e]:[]);return r.observe=n=>(t.add(n),()=>t.delete(n)),r;function r(...n){[...t].forEach(a=>a(...n))}}function hs(e,...t){return us({key:""+e,strings:e,values:t})}function ds(e,t,r,n){return typeof n=="function"&&([r,n]=[n,r]),(...a)=>{let o=l=>Dr(r,l,...a);return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}}function ps(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),r=>r&&new Promise(n=>{let a=!1;e.addEventListener("transitionrun",()=>(a=!0,t(n)),{once:!0,passive:!0}),e.setAttribute("animate","exit"),requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(()=>a||n())))});function t(r){e.addEventListener("transitionend",r,{once:!0,passive:!0}),e.addEventListener("transitioncancel",r,{once:!0,passive:!0})}}function gs(e,t){e.addEventListener("click",r=>{if(!r.defaultPrevented&&(r.button===0||r.which===0||r.which===1)&&(!r.currentTarget.target||r.currentTarget.target==="_self")&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey){r.preventDefault();let n=e[Ot].state;t(e.getAttribute("href"),{state:n})}})}function ms(e,t){let r=Xn(e&&e[0]);return new Z(t.inline,t.component,t.tag,t?t.level+1:0,r?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Xn(e){return e!==null&&typeof e=="object"&&!(e instanceof Z)&&!Array.isArray(e)&&!(e instanceof Date)&&!(e instanceof k.Node)&&!L(e.then)}function bs(e,t,r={},n={}){if(L(t)){if(!e)throw new Error("The dom element you tried to mount to does not exist.")}else if(n=r||{},r=t||{},t=e,e=R.body,!e)throw new Error("document.body does not exist.");if(!(t instanceof Z)&&(t=h(t)),E.call(n,"location")||(n.location=k.location),E.call(n,"error")||(n.error=h.error),h.isServer)return{view:t,attrs:r,context:n};e[ce]=new Error().stack,h.scroll&&ys(n),n.hydrating=Cs(e.firstChild);let a={head:n.hydrating?Re:Yn,lang:h.live(R.documentElement.lang,o=>R.documentElement.lang=o),title:h.live(R.title,o=>R.title=o),status:Re,headers:Re};n.doc=a,n.route=Ve(h,"",{doc:n.doc,location:n.location,query:h.route.query}),xn.set(e,{view:t,attrs:r,context:n}),Jn({view:t,attrs:r,context:n},e)}function ys(e){let t=0;e[Rr]=a=>t!==-1&&(t+=a)||(t=-1,bt(0,0)),k.history.scrollRestoration="manual",Fe(...history.state?.scroll||[]);let r;setTimeout(()=>{R.addEventListener("scroll",n,{passive:!0}),R.addEventListener("resize",n,{passive:!0}),t===0&&(t=-1,bt(0,0))},200);function n(){clearTimeout(r),r=setTimeout(ws,100)}}function ws(){k.history.replaceState({...history.state,scroll:[R.documentElement.scrollLeft||R.body.scrollLeft,R.documentElement.scrollTop||R.body.scrollTop,R.documentElement.scrollWidth,R.documentElement.scrollHeight]},null,location.pathname+location.search+location.hash)}function Yn(e){if(Array.isArray(e))return e.forEach(Yn);let t=R.createElement(e.tag.name);for(let r in e.attrs)t.setAttribute(r,e.attrs[r]);e.children.length&&(t.innerHTML=e.children[0]),R.head.appendChild(t)}function Cs(e){let t=e&&e.nodeType===8&&e.data==="h"&&(e.remove(),!0);if(t){let r,n=[],a=R.createTreeWalker(R.body,NodeFilter.SHOW_COMMENT);for(;r=a.nextNode();)r.data===","&&n.push(r);n.forEach(o=>o.remove())}return t}function Qe(){return Nt||(k.requestAnimationFrame(vs),Nt=h.isServer?er:new Promise(e=>Wn=e)),Nt}function vs(){Nt=null,xn.forEach(Jn),Wn()}function Jn(e,t){h.redrawing=!0;try{e.doms=et(t,gt(e.view(e.attrs)),e.context,e.doms&&e.doms.dom.previousSibling,e.doms&&e.doms.last)}catch(r){e.attrs.error=r,e.doms=et(t,gt(e.context.error(r,e.attrs,[],e.context)),e.context,e.doms&&e.doms.dom.previousSibling,e.doms&&e.doms.last)}h.redrawing=!1,_r()}function _r(){Pt.forEach(e=>e()),Pt=[]}function et(e,t,r,n,a=e.lastChild){let o=t[0]&&t[0].key!==void 0&&new Array(t.length),l=qn(n,e),s=l&&E.call(l,Q),c=a?a.nextSibling:null;o&&(o.rev=new Map)&&s?Ms(e,r,l[Q],t,o,c,l):Un(e,r,t,o,l,c);let u=qn(n,e);return o&&(u[Q]=o),ie(u,c&&c.previousSibling||e.lastChild)}function qn(e,t){let r=e?e.nextSibling:t.firstChild;for(;Rt.has(r);)r=r.nextSibling;return r}function Je(e,t,r,n){e[n]={dom:t,key:r},t[Q]=e,t[Fn]=n,e.rev.set(r,n)}function Un(e,t,r,n,a,o=null){let l=0,s,c;for(;l<r.length;)(a===null||!Rt.has(a))&&(c=r[l],s=a!==o?se(a,c,t,e):se(null,c,t),a===o&&e.insertBefore(s.dom,o),n&&Je(n,s.first,c.key,l),a=s.last,l++),a!==null&&(a=a.nextSibling);for(;a&&a!==o;)a=Se(a,e)}function Ms(e,t,r,n,a,o,l){let s=r.rev,c=new Set;for(let m of n){if(m.key===void 0)return Un(e,t,n,a,l,o);c.add(m.key)}let u=r.length-1,d=n.length-1,f=r[u],g=n[d],y=-1;e:for(;;){for(;f&&!c.has(f.key);)Se(f.dom,e),s.delete(f.key),f=r[--u];for(;f&&f.key===g.key;){if(o=se(f.dom,g,t,e).first,Je(a,o,g.key,d),s.delete(g.key),d===0)break e;if(u===0){g=n[--d];break}f=r[--u],g=n[--d]}if(s.has(g.key)){if(y=s.get(g.key),y>d)y=se(r[y].dom,g,t,e),Er(e,y,o),o=y.first,Je(a,o,g.key,d);else if(y!==d)y=se(r[y].dom,g,t,e),Er(e,y,o),o=y.first,Je(a,o,g.key,d);else{f=r[--u];continue}if(s.delete(g.key),d===0)break;g=n[--d]}else{if(y=se(null,g,t),Er(e,y,o),o=y.first,Je(a,o,g.key,d),d===0)break;g=n[--d]}}s.forEach((m,w)=>Se(r[m].dom,e))}function Er(e,{first:t,last:r},n){let a=t,o;do o=a,a=o.nextSibling;while(e.insertBefore(o,n)!==r)}function se(e,t,r,n,a,o){return W(t)?ks(e,t,r,n,a,o):L(t)?se(e,t(),r,n,a,o):t instanceof Z?In(e,t,r,n,a,o):t instanceof Promise?In(e,h(()=>t)(),r,n,a,o):Array.isArray(t)?Qn(e,t,r,n,o):t instanceof Node?Ss(e,t,r):eo(e,t,n,o)}function Ss(e,t,r){return e&&r.hydrating?ie(e):ie(t)}function In(e,t,r,n,a,o){return t.component?to(e,t,r,n,a,o):As(e,t,r,n,o)}function ks(e,t,r,n){if(e&&E.call(e,kr)&&e[kr].view===t)return o(t());let a=o(t());return tt(e,t,o),a;function o(l){let s=se(e,l,r,n||e&&e.parentNode);return _r(),e!==s.first&&tt(s.first,t,o),e=s.first,s.first[kr]={view:t,doms:s},s}}function ie(e,t=e,r=t){return{dom:e,first:t,last:r}}function Es(e){if(!e||e.nodeType!==8||e.data.charCodeAt(0)!==91)return;let t=parseInt(e.data.slice(1)),r=e,n;for(;t&&r.nextSibling;)r=r.nextSibling,r.nodeType===8?(n=r.data.charCodeAt(0),t+=n===91?parseInt(r.data.slice(1))-1:n===97?1:-1):t--;return Bt(e,r),r}function Bt(e,t){(t||e)[Br]=e,e[Pr]=t}function Kn(e){return e&&E.call(e,Pr)?e[Pr]:Es(e)}function Qn(e,t,r,n,a){a&&e&&n&&(e=Qn(e,[],r,n).first);let o=Kn(e)||e,l=eo(e,"["+t.length,n,!1,8);if(n){let s=o?o.nextSibling:null;et(n,t,r,l.first,o);let c=s?s.previousSibling:n.lastChild;return o!==c&&Bt(l.first,c),ie(l.dom,l.first,c)}return n=new DocumentFragment,n.appendChild(l.dom),et(n,t,r,l.first,o),Bt(l.first,n.lastChild),ie(n,l.first,n.lastChild)}function eo(e,t,r,n,a=typeof t=="boolean"||t==null?8:3){let o=n||!e||e.nodeType!==a;return o&&ao(e,e=a===8?R.createComment(t):R.createTextNode(t),r),!o&&e.data!==""+t&&(e.data=t),ie(e)}function As(e,t,r,n,a=e===null||Ns(e,t,r)){let o=r.NS;t.attrs.xmlns||_n[t.tag.name]&&(r.NS=t.attrs.xmlns||_n[t.tag.name]),a&&ao(e,e=Rs(t,r),n);let l=t.children&&t.children.length;return Bs(e,t,r,a),l?et(e,t.children,r):e[Dn]&&Ls(e.firstChild,e),e[Dn]=l,r.NS=o,E.call(t,"key")&&(e[Vn]=t.key),ie(e)}function Ls(e,t){for(;e;)e=Se(e,t)}function Ns(e,t,r){return e[Vn]!==t.key&&!r.hydrating||e.nodeName.toLowerCase()!==(t.tag.name?t.tag.name.toLowerCase():"div")}function Rs(e,t){let r=e.attrs.is;return t.NS?r?R.createElementNS(t.NS,e.tag.name,{is:r}):R.createElementNS(t.NS,e.tag.name):r?R.createElement(e.tag.name||"div",{is:r}):R.createElement(e.tag.name||"div")}var jr=class{constructor(t,r,n,a,o){this.init=t,this.key=void 0,this.view=r,this.error=n,this.caught=void 0,this.loading=a,this.hydrating=o,this.onremoves=void 0,this.promise=void 0,this.stateful=void 0,this.next=void 0,this.ignore=!1,this.context=void 0,this.recreate=!1}},zr=class{constructor(){this.xs=[],this.i=0,this.top=0,this.dom=null}changed(t,r){if(this.i>=this.xs.length)return!0;let n=this.xs[this.i],a=n.key!==t.key&&!r.hydrating||n.init&&n.init!==t.component[0];return a&&n.onremoves&&n.onremoves.forEach(o=>o()),a}add(t,r,n){let[a,o]=t.component,l=new jr(t.inline?!1:a,a,o&&o.error||r.error,o&&o.loading||r.loading,r.hydrating),s=(g,y,m)=>{g instanceof Event&&(g.redraw=!1);let w=this.dom.first[Q];to(this.dom.first,t,r,this.dom.first.parentNode,this,y,m,!0),E.call(this.dom.first,Q)||(this.dom.first[Q]=w),w&&w.rev.has(t.key)&&(w[w.rev.get(t.key)].dom=this.dom.first),_r()},c=async g=>{s(g,!1,!0,!0)},u=g=>{l.onremoves&&(l.onremoves.forEach(y=>y()),l.onremoves=void 0),s(g,!0)},d=g=>{l.onremoves&&(l.onremoves.forEach(y=>y()),l.onremoves=void 0),s(g,!0,!0)};l.context=Object.create(r,{hydrating:{value:r.hydrating,writable:!0},onremove:{value:g=>{At(l,g)}},ignore:{value:g=>{l.ignore=g}},refresh:{value:d},redraw:{value:c},reload:{value:u}});let f=ro(!0,l,t);return W(t.attrs.reload)&&At(l,t.attrs.reload.observe(u)),W(t.attrs.redraw)&&At(l,t.attrs.redraw.observe(c)),W(t.attrs.refresh)&&At(l,t.attrs.refresh.observe(d)),l.promise=f&&L(f.then)&&f,l.stateful=l.promise||L(f)&&!f[rt],l.view=n?this.xs[this.i].view:l.promise?l.loading:f,this.xs.length=this.top=this.i,this.xs[this.i++]=l}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}};function At(e,t){e.onremoves?e.onremoves.add(t):e.onremoves=new Set([t])}function Os(e){let t="/"+e.data,r=e.nextSibling;for(;r&&(r.nodeType!==8||r.data!==t);)r=r.nextSibling;let n=ie(e.nextSibling,e.nextSibling,r.previousSibling);if(E.call(r,Br)&&Bt(r[Br],r.previousSibling),E.call(e,fe)&&(n.first[fe]=e[fe]),E.call(e,Q)){let a=e[Q];n.first[Q]=a,a[e[Fn]].dom=n.first}return e.remove(),r.remove(),n}function Ps(e){let t="/"+e.data,r=e.nextSibling;for(;r&&(r.nodeType!==8||r.data!==t);)r=r.nextSibling;return ie(e,e,r)}function to(e,t,r,n,a=e&&e[fe]||new zr,o=a.changed(t,r),l=!1,s=!1){let c=o?a.add(t,r,l):a.next();if(!o&&c.ignore&&!s)return a.pop(),a.dom;t.key!==void 0&&(o||r.hydrating)&&(c.key=t.key);let u=c.promise&&e&&e.nodeType===8&&e.data.charCodeAt(0)===97;if(u)c.next=Ps(e);else{let g=ro(o,c,t);g&&E.call(g,rt)&&(g=g(t.attrs,t.children,c.context)),c.next=se(e,!c.caught&&!c.promise&&g instanceof Z?gn(g,t):g,c.context,n,a,(o||c.recreate)&&!c.hydrating?!0:void 0),c.hydrating&&(c.hydrating=c.context.hydrating=!1),c.recreate&&(c.recreate=!1)}let d=a.i-1;o&&c.promise&&(r[Rr](1),c.promise.then(g=>c.view=g&&E.call(g,"default")?g.default:g).catch(g=>{c.caught=g,c.view=no(c,t,g)}).then(()=>E.call(c.next.first,fe)&&a.xs[d]===c&&(u&&(a.dom=Os(e)),r.hydrating=!1,c.recreate=!0,c.promise=!1,(c.ignore?c.context.redraw():Qe()).then(()=>r[Rr](-1)))));let f=e!==c.next.first;return a.pop()&&(f||o)&&(a.dom=c.next,c.next.first[fe]=a),c.next}function ro(e,t,r){try{return t.stateful||e?L(t.view)&&!t.view[rt]?t.view(r.attrs,r.children,t.context):t.view:r.component[0](r.attrs,r.children,t.context)}catch(n){return no(t,r,n)}}function no(e,t,r){return E.call(e.error,rt)?e.error().component[0](r,t.attrs,t.children,e.context):e.error(r,t.attrs,t.children,e.context)}function Bs(e,t,r){let n=t.tag,a,o=e[Ot]||r.hydrating&&Ts(e),l=!o;E.call(t.attrs,"id")===!1&&n.id&&(t.attrs.id=n.id),(l&&n.classes||t.attrs.class!==(o&&o.class)||t.attrs.className!==(o&&o.className)||e.className!==n.classes)&&Ar(e,t),l&&tt(e,t.attrs.class,()=>Ar(e,t)),l&&tt(e,t.attrs.className,()=>Ar(e,t)),t.attrs.type!=null&&Tt(e,"type",t.attrs.type);for(let c in t.attrs)if(ar(c))c==="deferrable"&&(e[Nr]=t.attrs[c]);else if(c==="value"&&n.name==="input"&&e.value!==""+t.attrs[c]){let u,d;e===R.activeElement&&(u=e.selectionStart,d=e.selectionEnd),Lr(e,t.attrs,c,e.value,t.attrs[c],l),e===R.activeElement&&(e.selectionStart!==u||e.selectionEnd!==d)&&e.setSelectionRange(u,d)}else(!o||o[c]!==t.attrs[c])&&Lr(e,t.attrs,c,o&&o[c],t.attrs[c],l);if(E.call(t.attrs,"href")&&(r.hydrating||!o||o.href!==t.attrs.href)){a=t.attrs.href;let c=!String(a).match(/^[a-z]+:|\/\//);c&&(a=xe(t.attrs.href)),Lr(e,t.attrs,"href",o&&o.href,a,l),a&&c&&(t.attrs.href=h.pathmode+a,gs(e,r.route))}if(o)for(let c in o)E.call(t.attrs,c)===!1&&(rr(c)?oo(e,c):ar(c)?c==="deferrable"&&(e[Nr]=!1):e.removeAttribute(c));let s=js(e,t.attrs.style,o&&o.style);if(n)for(Hn(e,n.vars,n.args,l||r.hydrating,s);n=n.parent;)Hn(e,n.vars,n.args,l||r.hydrating,s);(l||r.hydrating)&&t.attrs.dom&&zs(e,t.attrs,t.children,r,t.attrs.dom),E.call(t,ce)&&(e[ce]=t[ce]),e[Ot]=t.attrs}function Ts(e){if(!e||!e.hasAttributes())return;let t={};for(let r of e.attributes)t[r.name]=r.value||!0;return t}function js(e,t,r){if(r!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(r==null||typeof r!="object"){e.style.cssText="";for(let n in t){let a=t[n];a!=null&&e.style.setProperty(mt(n),a+"")}return!0}for(let n in t){let a=t[n];a!=null&&(a=a+"")!=r[n]+""&&e.style.setProperty(mt(n),a)}for(let n in r)r[n]!=null&&t[n]==null&&e.style.removeProperty(mt(n));return!0}}function tt(e,t,r){if(!W(t))return;let n=E.call(e,Ue),a=n?e[Ue]:new Set;n||(e[Ue]=a),a.add(t.observe(r))}function Ar(e,t){let r=pn(t);r?e instanceof SVGElement?e.setAttribute("class",r):e.className=r:e.removeAttribute("class")}function Hn(e,t,r,n,a){for(let o in t){let l=t[o],s=r[l.index];$r(e,o,s,l,n,a)}}function $r(e,t,r,n,a,o,l){if(W(r)){a&&r.observe(s=>e.style.setProperty(t,Et(s,n))),(a||o)&&$r(e,t,r(),n,a,a);return}if(L(r))return er.then(()=>$r(e,t,r(e),n,a,o,l));e.style.setProperty(t,Et(r,n)),l&&Pt.push(()=>e.style.setProperty(t,Et(r,n)))}function zs(e,t,r,n,a){Pt.push(()=>{gt(a).forEach(async o=>{let l=L(o)&&o(e,t,r,n);l&&L(l.then)&&(l=await l,Qe()),L(l)&&(E.call(e,Ke)?e[Ke].push(l):e[Ke]=[l])},[])})}function Lr(e,t,r,n,a,o){if(n===a)return;let l=rr(r);l&&typeof n==typeof a||(l?a?_s(e,t,r):oo(e,r):(Tt(e,r,a),o&&tt(e,a,s=>Tt(e,r,s))))}function Tt(e,t,r){if(r==null&&(r=""),L(r))return Tt(e,t,r());$s(e,t)?e[t]=r:hn(r)?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r)}function $s(e,t){return!(e instanceof SVGElement)&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="width"&&t!=="height"&&t in e}function oo(e,t){e.removeEventListener(t.slice(2),e[Or])}function _s(e,t,r){e.addEventListener(r.slice(2),e[Or]||(e[Or]=Ds(e)))}function Ds(e){return{handleEvent:t=>Dr(e[Ot]["on"+t.type],t,e)}}function Dr(e,t,...r){if(Array.isArray(e))return e.forEach(a=>Dr(a,t,...r));let n=L(e)?e.call(t.currentTarget,t,...r):L(e.handleEvent)&&e.handleEvent(t,...r);t.redraw!==!1&&(!W(n)&&!W(e)&&Qe(),n&&L(n.then)&&n.then(Qe))}function ao(e,t,r){if(r)return e&&(r.insertBefore(t,e),Se(e,r)),t}function qs(e,t,r,n,a){let o=Kn(e);if(!o||e===o)return e.nextSibling;let l=o.nextSibling;if(e=e.nextSibling,!e)return l;do e=Se(e,t,r,n,a);while(e&&e!==l);return l}function Lt(e,t){let r=E.call(t,fe)&&t[fe];r&&r.i<=r.top&&(r.i?r.xs.slice(i):r.xs).forEach(n=>n.onremoves&&n.onremoves.forEach(a=>a())),E.call(t,Ue)&&t[Ue].forEach(n=>n()),e.removeChild(t)}function Se(e,t,r=!0,n=[],a=!1){let o=e.nextSibling;if(Rt.has(e))return o;if(e.nodeType===8)if(e.data.charCodeAt(0)===97){if(o=e.nextSibling,Lt(t,e),!o)return o;e=o,o=e.nextSibling}else e.data.charCodeAt(0)===91&&(o=qs(e,t,r,n,a));if(e.nodeType!==1)return r&&Lt(t,e),o;if(E.call(e,Ke))for(let s of e[Ke])try{let c=s(a||r);(a||r)&&c&&L(c.then)&&n.push(c)}catch(c){console.error(c)}!a&&(a=e[Nr]||!1);let l=e.firstChild;for(;l;)Se(l,e,!1,n,a),l=l.nextSibling;return r&&(n.length===0?Lt(t,e):(Rt.add(e),Promise.allSettled(n).then(()=>Lt(t,e)))),o}var ke;lo();var Is=window.sindev.hasAttribute("debug"),io={log:h.event(),redraw:h.event(),reload:h.event(()=>location.reload()),editor:h.event(e=>so("editor",e)),color:h.live([0,0,0]),inspect:h.live(!1,e=>so("inspect",e)),parseStackTrace:xs},O=io;function lo(){ke=new WebSocket(location.protocol.replace("http","ws")+location.hostname+":"+window.sindev.getAttribute("port")),ke.onmessage=Hs,ke.onclose=()=>setTimeout(lo,100),ke.onerror=console.log}function so(e,t){ke&&ke.readyState===1&&ke.send(JSON.stringify({event:e,data:t}))}function Hs(e){let{event:t,data:r}=JSON.parse(e.data);io[t](r)}function xs(e){return String(e).split(`
`).reduce((t,r)=>(r=r.endsWith(")")?r.match(/( +at )?([^/]*)[@(](.+):([0-9]+):([0-9]+)/i):r.match(/( +at)( )?(.+):([0-9]+):([0-9]+)$/i),r&&(Is||!r[3].includes("/sin/src"))&&t.push({name:r[2].trim(),file:r[3].replace(window.location.origin,""),line:parseInt(r[4]),column:parseInt(r[5])}),t),[])}var Fs="/node_modules/sin/src/index.js",he=(await import(Fs)).default,Vs="/node_modules/sin/src/shared.js",{stackTrace:$e}=await import(Vs),co=he;O.redraw.observe(()=>window.hmr?he.redraw():location.reload());var Ws=navigator.platform.toLowerCase().includes("win")?/"([^<>:"/\\|?*]+)":/ig:/"([^\0/]+)":/ig;he.error=he(e=>{console.error(e);let t=O.parseStackTrace(e.stack||""),r=typeof e=="object"&&JSON.stringify(e,null,2).replace(Ws,"$1:");return()=>he`pre
      all initial
      d block
      ws pre-wrap
      m 0
      c white
      bc #ff0033
      p 8 12
      br 6;
      overflow auto
    `(he`code`(""+e,t.map(({name:n,file:a,line:o,column:l})=>he`div
            c #ccc
          `("    at ",n&&n+" ",he`span
              :hover { c white }
              td underline
              cursor pointer
            `({onclick:s=>{s.redraw=!1,O.editor({file:a,line:o,column:l})}},a+":"+o+":"+l))),r!=="{}"&&r))});globalThis.p=globalThis.print=globalThis.l=globalThis.log=nt;function nt(...e){return console.log(...e),e.pop()}nt.debug=function(...t){return process.env.DEBUG&&console.log(...t),t.pop()};nt.error=function(...t){return console.error(...t),t.pop()};nt.trace=function(...e){return console.trace?console.trace(...e):console.log(...e),e.pop()};var Zs=!1,uo=!1,fo=h(()=>[h`
    position fixed
    b 8
    l calc(50% - 26px)
    bc rgba(0 0 0/.05)
    backdrop-filter blur(8)
    p 4
    br 30
    d flex
    ai center
    c white
    pointer-events ${O.inspect.get(e=>e&&"none")}
    animation 1.5s {
      from {
        bc transparent
      }
    }
  `(h`
      w 44
      h 44
      br 22
      p 6
      bc rgb(30 30 30/65%)
      bi linear-gradient(-185deg, rgb(211 234 255/.15), rgb(100 180 255/.15) 15%, rgb(255 0 15/.15) 80%, rgb(255 150 0/.15))
      bs 0 1 12 -4 rgb(0 0 0/.35), 0 0 4 -1 rgb(0 0 0/.35)
      animation 0.5s {
        from {
          transform scale(0) rotate(-180)
          o 0
        }
        80% {
          transform scale(1.1)
        }
      }
    `({dom:e=>O.redraw.observe(()=>{e.animate([{transform:"rotate(0)"},{transform:"rotate(180deg) scale(1.1)"},{transform:"rotate(360deg)"}],{duration:300,easing:"ease-out"})})},h.trust`
        <svg viewBox="0 0 480 480" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M279.285 28.0767C317.536 66.3278 317.536 128.345 279.285 166.596L246.57 199.311L198.3 151.041L189.727 159.615C170.2 179.141 170.2 210.799 189.726 230.326L202.641 243.24L155.765 290.116L136.688 271.039C98.4372 232.788 98.4373 170.771 136.688 132.52L260.208 9L279.285 28.0767ZM236.474 277.073L200.712 312.835C162.46 351.086 162.46 413.103 200.711 451.354L219.788 470.431L343.308 346.911C381.559 308.66 381.559 246.643 343.308 208.392L324.231 189.315L280.403 233.143L288.674 241.414C308.2 260.94 308.2 292.599 288.674 312.125L280.1 320.699L236.474 277.073Z" fill="white"/>
        </svg>
      `,uo&&h`
        position absolute
        t -94
        l -94
        w 240
        h 240
        br 120
        transition .3s transform, background-color 0.3s
        [animate] {
          transform scale(.65)
        }
      `({dom:h.animate,onmouseleave:()=>uo=!1,deferrable:!0},[h.trust`
            <svg viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 19L10 10M10 10V16.75M10 10H16.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 1H11H13M17 1H17.3889V1C19.3832 1 21 2.61675 21 4.61111V4.61111V5M1 5V4.61111V4.61111C1 2.61675 2.61675 1 4.61111 1V1H5M1 9V11V13M1 17V17.3889V17.3889C1 19.3832 2.61675 21 4.61111 21V21H5M9 21H11H13M21 13V11V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          `,2,h`
            d grid
            pi center
            w 100%
            h 100%
            transform rotate(${Zs?0:180})
          `(h.trust`
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.16103 1.63148C8.90972 1.25 9.88982 1.25 11.85 1.25H12.15C14.1102 1.25 15.0903 1.25 15.839 1.63148C16.4975 1.96703 17.033 2.50247 17.3685 3.16103C17.75 3.90972 17.75 4.88982 17.75 6.85V13.15C17.75 15.1102 17.75 16.0903 17.3685 16.839C17.033 17.4975 16.4975 18.033 15.839 18.3685C15.0903 18.75 14.1102 18.75 12.15 18.75H11.85C9.88982 18.75 8.90972 18.75 8.16103 18.3685C7.50247 18.033 6.96703 17.4975 6.63148 16.839C6.25 16.0903 6.25 15.1102 6.25 13.15V6.85C6.25 4.88982 6.25 3.90972 6.63148 3.16103C6.96703 2.50247 7.50247 1.96703 8.16103 1.63148ZM3 21.25C2.58579 21.25 2.25 21.5858 2.25 22C2.25 22.4142 2.58579 22.75 3 22.75H21C21.4142 22.75 21.75 22.4142 21.75 22C21.75 21.5858 21.4142 21.25 21 21.25H3Z" fill="currentColor"/>
              </svg>
            `),h.trust`
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.56825 1.26915C9.77009 1.42514 9.94817 1.655 10.3043 2.11473L10.7271 2.66048C11.0286 3.0497 11.5078 3.24996 12.0001 3.24996C12.4926 3.24996 12.9718 3.04967 13.2733 2.66039L13.696 2.11479C14.0521 1.65517 14.2301 1.42536 14.4319 1.2694C14.9303 0.884143 15.5812 0.756251 16.1883 0.924246C16.4341 0.992255 16.6859 1.13761 17.1894 1.42831L18.5627 2.22117C19.0644 2.51088 19.3153 2.65573 19.4967 2.83382C19.947 3.2761 20.1621 3.90501 20.077 4.53043C20.0427 4.78226 19.9331 5.05042 19.7138 5.58674L19.7138 5.58677L19.4524 6.22632C19.2658 6.68269 19.3316 7.19671 19.5785 7.62345C19.8251 8.04961 20.2388 8.36648 20.7267 8.43301L21.4105 8.52626C21.9851 8.60461 22.2724 8.64378 22.5078 8.74014C23.0917 8.97914 23.5285 9.47964 23.6865 10.0905C23.7501 10.3367 23.7501 10.6267 23.7501 11.2065V12.7934C23.7501 13.3733 23.7501 13.6632 23.6865 13.9095C23.5285 14.5203 23.0917 15.0208 22.5078 15.2598C22.2724 15.3561 21.9851 15.3953 21.4105 15.4737L21.4105 15.4737L20.7266 15.5669C20.2388 15.6335 19.8251 15.9503 19.5785 16.3765C19.3316 16.8032 19.2658 17.3172 19.4524 17.7735L19.7138 18.4131L19.7139 18.4131C19.9331 18.9494 20.0427 19.2176 20.077 19.4694C20.1621 20.0948 19.947 20.7237 19.4967 21.166C19.3154 21.3441 19.0645 21.489 18.5627 21.7787L18.5627 21.7787L17.1894 22.5716C16.6859 22.8622 16.4342 23.0076 16.1884 23.0756C15.5812 23.2436 14.9303 23.1157 14.4319 22.7304C14.2301 22.5745 14.0521 22.3447 13.6961 21.8851L13.2734 21.3396C12.9718 20.9503 12.4926 20.75 12.0001 20.75C11.5077 20.75 11.0286 20.9502 10.727 21.3395L10.3043 21.8852C9.94815 22.3449 9.77009 22.5747 9.56827 22.7307C9.06986 23.1159 8.41909 23.2438 7.81197 23.0758C7.56614 23.0078 7.31435 22.8624 6.81078 22.5717L6.81076 22.5717L5.43761 21.7789C4.93578 21.4891 4.68486 21.3443 4.50353 21.1662C4.05324 20.7239 3.83814 20.095 3.92325 19.4696C3.95752 19.2178 4.06716 18.9496 4.28643 18.4132L4.54789 17.7736C4.73446 17.3173 4.66867 16.8032 4.42174 16.3765C4.17514 15.9503 3.76144 15.6334 3.27358 15.5669L2.58972 15.4737C2.01515 15.3953 1.72787 15.3561 1.49247 15.2598C0.908589 15.0208 0.471711 14.5203 0.31379 13.9095C0.250122 13.6632 0.250122 13.3733 0.250122 12.7934V11.2065C0.250122 10.6267 0.250122 10.3367 0.313789 10.0905C0.47171 9.47964 0.908589 8.97914 1.49247 8.74014C1.72787 8.64378 2.01515 8.60461 2.58972 8.52626L3.27354 8.43301C3.76142 8.36648 4.17514 8.0496 4.42175 7.62341C4.66869 7.19666 4.73448 6.68261 4.54791 6.22621L4.28645 5.58665C4.06718 5.05026 3.95754 4.78206 3.92326 4.5302C3.83816 3.90481 4.05326 3.27595 4.50354 2.83368C4.68488 2.65557 4.9358 2.5107 5.43764 2.22096L6.81073 1.42821C7.31436 1.13744 7.56618 0.99205 7.81203 0.924039C8.41912 0.756102 9.06985 0.883976 9.56825 1.26915ZM12 15C13.6569 15 15 13.6568 15 12C15 10.3431 13.6569 8.99999 12 8.99999C10.3432 8.99999 9.00004 10.3431 9.00004 12C9.00004 13.6568 10.3432 15 12 15Z" fill="currentColor"/>
            </svg>
          `,h`
            bc blue
            w 100%
            h 100%
          `({onclick:(e,t)=>{p("waat"),new window.EyeDropper().open().then(n=>{alert(n.sRGBHex)}).catch(n=>{p(n),t.textContent=n})}},h.trust`
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM10.75 10C10.75 9.30964 11.3096 8.75 12 8.75C12.6904 8.75 13.25 9.30964 13.25 10V10.1213C13.25 10.485 13.1055 10.8338 12.8483 11.091L11.4697 12.4697C11.1768 12.7626 11.1768 13.2374 11.4697 13.5303C11.7626 13.8232 12.2374 13.8232 12.5303 13.5303L13.909 12.1517C14.4475 11.6132 14.75 10.8828 14.75 10.1213V10C14.75 8.48122 13.5188 7.25 12 7.25C10.4812 7.25 9.25 8.48122 9.25 10V10.5C9.25 10.9142 9.58579 11.25 10 11.25C10.4142 11.25 10.75 10.9142 10.75 10.5V10ZM12 14.75C11.3096 14.75 10.75 15.3096 10.75 16C10.75 16.6904 11.3096 17.25 12 17.25C12.6904 17.25 13.25 16.6904 13.25 16C13.25 15.3096 12.6904 14.75 12 14.75Z" fill="currentColor"/>
            </svg>
          `)].map((e,t,r)=>h`
            position absolute
            t 102
            l 102
            w 36
            h 36
            br 18
            transform rotate(${-120+r.length*12+t*(150/r.length)}) translateY(${-(70+r.length*6)})
            will-change transform
            transition .3s transform
            [animate=entry] {
              transform rotate(-180) translateY(-80)
            }
            [animate=exit] {
              transform rotate(180) translateY(-80)
            }
          `({dom:h.animate},h`
              d grid
              pi center
              w 36
              h 36
              p 8
              br 18
              transition scale 0.3s
              cursor pointer
              bc rgb(30 30 30/65%)
              transform rotate(${r.length*12-t*(150/r.length)})
              bi linear-gradient(-185deg, rgb(211 234 255/.15), rgb(100 180 255/.15) 15%, rgb(255 0 15/.15) 80%, rgb(255 150 0/.15))
              bs 0 1 12 -4 rgb(0 0 0/.35), 0 0 4 -1 rgb(0 0 0/.35)
              :hover {
                scale 1.2

                .title {
                  o 1
                }
              }
            `({},e,h`.title
                position absolute
                o 0
                c black
                fs 10
                tt uppercase
                ff system-ui
                fw bold
                ls 2
                transition all 0.3s
                transform rotate(${-(r.length*12)+t*(150/r.length)}) translateY(-32)
              `("inspect")))))))]),w1=h(()=>[log,nav,error,logs]),C1=h(()=>{let e=!1,t,r={log:h.live(),error:h.live()},n=[],a=h.live(0,()=>{clearInterval(t),t=setTimeout(h.redraw,3010)});return O.log.observe(o=>{o.type==="error"?r.log(o):r.error(o),n.unshift(o),a(Date.now()),h.redraw()}),()=>h`
    all initial
    position fixed
    zi 666666
    c white
    b ${e?"initial":0}
    t ${e?0:"initial"}
    h 64
    r 0
    l 0
    pointer-events none
    font-family ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace
    fs 12

    transition transform 0.3s
    [animate] {
      transform translateY(${e?-100:100})
    }
  `({dom:h.animate,key:e},h`.logs
      position absolute
      height min(calc(100vh - 100px), 500px)
      w calc(100% - 40px)
      l 20
      t -500
      br 8
      p 4
      backdrop-filter blur(16)
      bc rgb(30 30 30/75%)
      bi linear-gradient(-180deg, rgb(211 234 255/.15), rgb(100 180 255/.10) 15%, rgb(155 100 215/.05) 80%, rgb(155 150 200/.05))
      bs 0 1 12 -4 rgb(0 0 0/.35), 0 0 4 -1 rgb(0 0 0/.35), inset 0 .5 1 rgb(255 255 255/0.5)
      transform-origin 50% calc(100% + 30px)
      animation .5s {
        from {
          transform scale(0) translateY(-300)
        }
      }
    `(h`
        w 100%
        h 100%
        p 8 0
        mask-image linear-gradient(transparent, black 8px, black calc(100% - 8px), transparent)
        mask-size 100%
        mask-position 0 0, 100% 0
        mask-repeat no-repeat
        d flex
        fd column-reverse
        overflow auto
        overscroll-behavior contain
      `(n.map((o,l,s)=>h`
            d flex
            ai center
            gap 6
            m 0 8
            p 4
            h 20
            br 4
            flex-wrap nowrap
            :hover {
              background rgb(255 255 255/.05)
            }
          `(h`
              o .5
              fs 10
              min-width 50
              ta right
            `({title:new Date(o.timestamp)},s[l+1]?((o.timestamp-s[l+1].timestamp)/1e3).toFixed(3)+"s":0),h`
              fg 1
            `(o.args.map(c=>h`
                  white-space nowrap
                `({title:c.type+(c.subtype?" ("+c.subtype+")":"")},c.value?c.value:c.description?c.description.split(`
`)[0]:""))),h.with(o.stackTrace?.callFrames.find(c=>c.url.indexOf("node_modules/")===-1),c=>h`
                fs 10
                ta right
                d flex
                overflow hidden
                white-space nowrap
                text-overflow ellipsis
              `(!1,h`span
                  flex-shrink 0
                  fg 1
                  border-bottom 1px solid rgba(255,255,255,.3)
                  o 0.65
                  cursor pointer
                  :hover {
                    o 1
                  }
                `({onclick:()=>O.editor({file:c.url.slice(location.origin.length),line:c.lineNumber+1,column:c.columnNumber+1})},c.url.slice(location.origin.length)+":"+(c.lineNumber+1)))))))),n.length>0&&h`.log
      position absolute
      b 18
      r calc(50% + 32px)
      bc rgba(0 0 0/.25)
      bi linear-gradient(rgba(0 0 0/.05), rgba(0 0 0/.1))
      backdrop-filter blur(8)
      h 32
      min-width 32
      br 18
      d grid
      pi center
      ai center
      c white
      p 0 4
      d flex
      fd row-reverse
      transition .3s min-width
      animation .3s {
        from {
          transform translateX(36) scaleX(0)
          o 0
        }
      }
    `(h`
        d grid
        pi center
        min-width 24
        flex-shrink 0
        p 0 8
        h 24
        br 12
        fw bold
        bc rgb(30 30 30/65%)
        bi linear-gradient(-185deg, rgb(211 234 255/.15), rgb(100 180 255/.15) 15%, rgb(255 0 15/.15) 80%, rgb(255 150 0/.15))
      `({onmouseenter:a.set(()=>Date.now()),onclick:()=>a(a()?0:Date.now())},n.length),n.length>0&&h`
        transition .3s max-width
        overflow hidden
        c black
        max-width ${o=>o.scrollWidth+8}
        [animate], [closed] {
          max-width 0
          o 0
        }
      `({closed:a.get(o=>Date.now()-o>3e3),dom:h.animate,key:n.length},h`
          d flex
          gap 6
          m 0 8
          flex-wrap no-wrap
        `(n[n.length-1].args?.map(o=>h`
              white-space nowrap
            `({title:o.type},o.value))))),h`.error
      position absolute
      b 16
      bc rgba(255 0 0/.25)
      bi linear-gradient(rgba(0 0 0/.05), rgba(0 0 0/.1))
      backdrop-filter blur(8)
      w 36
      h 36
      br 30
      d grid
      pi center
      c white
      max-width ${o=>o.scrollWidth}
      transform translateX(${o=>window.innerWidth/2+36})
      animation .5s {
        from, 70% {
          transform translateX(${o=>window.innerWidth/2-18})
          o 0
        }
      }
    `("\u{1F6A8}"))});function z(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(l=>[l]));let n=t[0].length,a=t[0].map((l,s)=>t.map(c=>c[s])),o=e.map(l=>a.map(s=>{let c=0;if(!Array.isArray(l)){for(let u of s)c+=l*u;return c}for(let u=0;u<l.length;u++)c+=l[u]*(s[u]||0);return c}));return r===1&&(o=o[0]),n===1?o.map(l=>l[0]):o}function ft(e){return pe(e)==="string"}function pe(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Vt(e,{precision:t,unit:r}){return st(e)?"none":ta(e,t)+(r??"")}function st(e){return Number.isNaN(e)||e instanceof Number&&e?.none}function Zr(e){return st(e)?0:e}function ta(e,t){e=+e,t=+t;let r=(Math.floor(e)+"").length;if(t>r)return+e.toFixed(t-r);{let n=10**(r-t);return Math.round(e/n)*n}}var Gs={deg:1,grad:.9,rad:180/Math.PI,turn:360};function ra(e){if(!e)return;e=e.trim();let t=/^-?[\d.]+$/,r=/%|deg|g?rad|turn$/,n=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,a=e.match(/^([a-z]+)\((.+?)\)$/i);if(a){let o=[];return a[2].replace(n,(l,s)=>{let c=s.match(r),u=s;if(c){let d=c[0],f=u.slice(0,-d.length);d==="%"?(u=new Number(f/100),u.type="<percentage>"):(u=new Number(f*Gs[d]),u.type="<angle>",u.unit=d)}else t.test(u)?(u=new Number(u),u.type="<number>"):u==="none"&&(u=new Number(NaN),u.none=!0);l.startsWith("/")&&(u=u instanceof Number?u:new Number(u),u.alpha=!0),typeof u=="object"&&u instanceof Number&&(u.raw=s),o.push(u)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:o}}}function na(e){return e[e.length-1]}function it(e,t,r){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*r}function oa(e,t,r){return(r-e)/(t-e)}function en(e,t,r){return it(t[0],t[1],oa(e[0],e[1],r))}function aa(e){return e.map(t=>t.split("|").map(r=>{let n=(r=r.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let a=new String(n[1]);return a.range=[+n[2],+n[3]],a}return r}))}function sa(e,t,r){return Math.max(Math.min(r,t),e)}function Xt(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function ee(e,t){return Xt(Math.abs(e)**t,e)}function tn(e,t){return t===0?0:e/t}function ia(e,t,r=0,n=e.length){for(;r<n;){let a=r+n>>1;e[a]<t?r=a+1:n=a}return r}var Xs=Object.freeze({__proto__:null,bisectLeft:ia,clamp:sa,copySign:Xt,interpolate:it,interpolateInv:oa,isNone:st,isString:ft,last:na,mapRange:en,multiplyMatrices:z,parseCoordGrammar:aa,parseFunction:ra,serializeNumber:Vt,skipNone:Zr,spow:ee,toPrecision:ta,type:pe,zdiv:tn}),ge=new class{add(e,t,r){if(typeof arguments[0]=="string")(Array.isArray(e)?e:[e]).forEach(function(n){this[n]=this[n]||[],t&&this[n][r?"unshift":"push"](t)},this);else for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1])}run(e,t){this[e]=this[e]||[],this[e].forEach(function(r){r.call(t&&t.context?t.context:t,t)})}},te={gamut_mapping:"css",precision:5,deltaE:"76"},G={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function Gr(e){return Array.isArray(e)?e:G[e]}function Wt(e,t,r,n={}){if(e=Gr(e),t=Gr(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${e||t?"":"/"}${t?"":"to"}`);if(e===t)return r;let a={W1:e,W2:t,XYZ:r,options:n};if(ge.run("chromatic-adaptation-start",a),a.M||(a.W1===G.D65&&a.W2===G.D50?a.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:a.W1===G.D50&&a.W2===G.D65&&(a.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),ge.run("chromatic-adaptation-end",a),a.M)return z(a.M,a.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var M=class e{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?e.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let n=t.white??this.base.white??"D65";this.white=Gr(n),this.formats=t.formats??{};for(let a in this.formats){let o=this.formats[a];o.type||="function",o.name||=a}t.cssId&&!this.formats.functions?.color?(this.formats.color={id:t.cssId},Object.defineProperty(this,"cssId",{value:t.cssId})):this.formats?.color&&!this.formats?.color.id&&(this.formats.color.id=this.id),this.referred=t.referred,Object.defineProperty(this,"path",{value:Ys(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),ge.run("colorspace-init-end",this)}inGamut(t,{epsilon:r=75e-6}={}){if(this.isPolar)return t=this.toBase(t),this.base.inGamut(t,{epsilon:r});let n=Object.values(this.coords);return t.every((a,o)=>{let l=n[o];if(l.type!=="angle"&&l.range){if(Number.isNaN(a))return!0;let[s,c]=l.range;return(s===void 0||a>=s-r)&&(c===void 0||a<=c+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats.functions?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=ho(t,this);let r;return r=t==="default"?Object.values(this.formats)[0]:this.formats[t],r?(r=ho(r,this),r):null}equals(t){return!!t&&(this===t||this.id===t.id)}to(t,r){if(arguments.length===1&&([t,r]=[t.space,t.coords]),t=e.get(t),this.equals(t))return r;r=r.map(s=>Number.isNaN(s)?0:s);let n,a,o=this.path,l=t.path;for(let s=0;s<o.length&&o[s].equals(l[s]);s++)n=o[s],a=s;if(!n)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let s=o.length-1;s>a;s--)r=o[s].toBase(r);for(let s=a+1;s<l.length;s++)r=l[s].fromBase(r);return r}from(t,r){return arguments.length===1&&([t,r]=[t.space,t.coords]),(t=e.get(t)).to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let n=this.coords[r],a=n.range||n.refRange;t.push(a?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(e.registry))]}static register(t,r){if(arguments.length===1&&(t=(r=arguments[0]).id),r=this.get(r),this.registry[t]&&this.registry[t]!==r)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(t,...r){if(!t||t instanceof e)return t;if(pe(t)==="string"){let n=e.registry[t.toLowerCase()];if(!n)throw new TypeError(`No color space found with id = "${t}"`);return n}if(r.length)return e.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){let n,a,o=pe(t);if(o==="string"?t.includes(".")?[n,a]=t.split("."):[n,a]=[,t]:Array.isArray(t)?[n,a]=t:(n=t.space,a=t.coordId),n=e.get(n),n||(n=r),!n)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(o=pe(a),o==="number"||o==="string"&&a>=0){let c=Object.entries(n.coords)[a];if(c)return{space:n,id:c[0],index:a,...c[1]}}n=e.get(n);let l=a.toLowerCase(),s=0;for(let c in n.coords){let u=n.coords[c];if(c.toLowerCase()===l||u.name?.toLowerCase()===l)return{space:n,id:c,index:s,...u};s++}throw new TypeError(`No "${a}" coordinate found in ${n.name}. Its coordinates are: ${Object.keys(n.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}};function Ys(e){let t=[e];for(let r=e;r=r.base;)t.push(r);return t}function ho(e,{coords:t}={}){if(e.coords&&!e.coordGrammar){e.type||="function",e.name||="color",e.coordGrammar=aa(e.coords);let r=Object.entries(t).map(([n,a],o)=>{let l=e.coordGrammar[o][0],s=a.range||a.refRange,c=l.range,u="";return l=="<percentage>"?(c=[0,100],u="%"):l=="<angle>"&&(u="deg"),{fromRange:s,toRange:c,suffix:u}});e.serializeCoords=(n,a)=>n.map((o,l)=>{let{fromRange:s,toRange:c,suffix:u}=r[l];return s&&c&&(o=en(s,c,o)),o=Vt(o,{precision:a,unit:u})})}return e}var V=new M({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),I=class extends M{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=V),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=r=>{let n=z(t.toXYZ_M,r);return this.white!==this.base.white&&(n=Wt(this.white,this.base.white,n)),n},t.fromBase??=r=>(r=Wt(this.base.white,this.white,r),z(t.fromXYZ_M,r))),t.referred??="display",super(t)}},Js=new Set(["<number>","<percentage>","<angle>"]);function la(e,{meta:t}={}){let r={str:String(e)?.trim()};if(ge.run("parse-start",r),r.color)return r.color;if(r.parsed=ra(r.str),r.parsed){let n=r.parsed.name;if(n==="color"){let a=r.parsed.args.shift(),o=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let s of M.all){let c=s.getFormat("color");if(c&&(a===c.id||c.ids?.includes(a))){let u=Object.keys(s.coords).map((d,f)=>r.parsed.args[f]||0);return t&&(t.formatId="color"),{spaceId:s.id,coords:u,alpha:o}}}let l="";if(a in M.registry){let s=M.registry[a].formats?.functions?.color?.id;s&&(l=`Did you mean color(${s})?`)}throw new TypeError(`Cannot parse color(${a}). `+(l||"Missing a plugin?"))}for(let a of M.all){let o=a.getFormat(n);if(o&&o.type==="function"){let l=1;(o.lastAlpha||na(r.parsed.args).alpha)&&(l=r.parsed.args.pop());let s,c=r.parsed.args;return o.coordGrammar&&(s=Object.entries(a.coords).map(([u,d],f)=>{let g,y=o.coordGrammar[f],m=c[f],w=m?.type;if(g=m.none?y.find(v=>Js.has(v)):y.find(v=>v==w),!g){let v=d.name||u;throw new TypeError(`${w??m.raw} not allowed for ${v} in ${n}()`)}let b=g.range;w==="<percentage>"&&(b||=[0,1]);let C=d.range||d.refRange;return b&&C&&(c[f]=en(b,C,c[f])),g})),t&&Object.assign(t,{formatId:o.name,types:s}),{spaceId:a.id,coords:c,alpha:l}}}}else for(let n of M.all)for(let a in n.formats){let o=n.formats[a];if(o.type!=="custom"||o.test&&!o.test(r.str))continue;let l=o.parse(r.str);if(l)return l.alpha??=1,t&&(t.formatId=a),l}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function A(e){if(!e)throw new TypeError("Empty color reference");ft(e)&&(e=la(e));let t=e.space||e.spaceId;return t instanceof M||(e.space=M.get(t)),e.alpha===void 0&&(e.alpha=1),e}function ht(e,t){return(t=M.get(t)).from(e)}function X(e,t){let{space:r,index:n}=M.resolveCoord(t,e.space);return ht(e,r)[n]}function ca(e,t,r){return t=M.get(t),e.coords=t.to(e.space,r),e}function me(e,t,r){if(e=A(e),arguments.length===2&&pe(arguments[1])==="object"){let n=arguments[1];for(let a in n)me(e,a,n[a])}else{typeof r=="function"&&(r=r(X(e,t)));let{space:n,index:a}=M.resolveCoord(t,e.space),o=ht(e,n);o[a]=r,ca(e,n,o)}return e}var rn=new M({id:"xyz-d50",name:"XYZ D50",white:"D50",base:V,fromBase:e=>Wt(V.white,"D50",e),toBase:e=>Wt("D50",V.white,e),formats:{color:{}}}),po=24/116,jt=24389/27,qr=G.D50,F=new M({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:qr,base:rn,fromBase(e){let t=e.map((r,n)=>r/qr[n]).map(r=>r>.008856451679035631?Math.cbrt(r):(jt*r+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>po?Math.pow(t[0],3):(116*t[0]-16)/jt,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/jt,t[2]>po?Math.pow(t[2],3):(116*t[2]-16)/jt].map((r,n)=>r*qr[n])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function be(e){return(e%360+360)%360}var lt=new M({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:F,fromBase(e){let t,[r,n,a]=e;return t=Math.abs(n)<.02&&Math.abs(a)<.02?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),be(t)]},toBase(e){let[t,r,n]=e;return r<0&&(r=0),isNaN(n)&&(n=0),[t,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),go=25**7,Zt=Math.PI,mo=180/Zt,_e=Zt/180;function bo(e){let t=e*e;return t*t*t*e}function Xr(e,t,{kL:r=1,kC:n=1,kH:a=1}={}){let[o,l,s]=F.from(e),c=lt.from(F,[o,l,s])[1],[u,d,f]=F.from(t),g=lt.from(F,[u,d,f])[1];c<0&&(c=0),g<0&&(g=0);let y=bo((c+g)/2),m=.5*(1-Math.sqrt(y/(y+go))),w=(1+m)*l,b=(1+m)*d,C=Math.sqrt(w**2+s**2),v=Math.sqrt(b**2+f**2),P=w===0&&s===0?0:Math.atan2(s,w),B=b===0&&f===0?0:Math.atan2(f,b);P<0&&(P+=2*Zt),B<0&&(B+=2*Zt),P*=mo,B*=mo;let T,Y=u-o,we=v-C,le=B-P,Ie=P+B,an=Math.abs(le);C*v==0?T=0:an<=180?T=le:le>180?T=le-360:le<-180?T=le+360:console.log("the unthinkable has happened");let Ne,sn=2*Math.sqrt(v*C)*Math.sin(T*_e/2),Oa=(o+u)/2,Kt=(C+v)/2,ln=bo(Kt);Ne=C*v==0?Ie:an<=180?Ie/2:Ie<360?(Ie+360)/2:(Ie-360)/2;let cn=(Oa-50)**2,Pa=1+.015*cn/Math.sqrt(20+cn),un=1+.045*Kt,He=1;He-=.17*Math.cos((Ne-30)*_e),He+=.24*Math.cos(2*Ne*_e),He+=.32*Math.cos((3*Ne+6)*_e),He-=.2*Math.cos((4*Ne-63)*_e);let fn=1+.015*Kt*He,Ba=30*Math.exp(-1*((Ne-275)/25)**2),Ta=2*Math.sqrt(ln/(ln+go)),dt=(Y/(r*Pa))**2;return dt+=(we/(n*un))**2,dt+=(sn/(a*fn))**2,dt+=-1*Math.sin(2*Ba*_e)*Ta*(we/(n*un))*(sn/(a*fn)),Math.sqrt(dt)}var Us=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Ks=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Qs=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],ei=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],qe=new M({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:V,fromBase(e){let t=z(Us,e).map(r=>Math.cbrt(r));return z(Qs,t)},toBase(e){let t=z(ei,e).map(r=>r**3);return z(Ks,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Yr(e,t){let[r,n,a]=qe.from(e),[o,l,s]=qe.from(t),c=r-o,u=n-l,d=a-s;return Math.sqrt(c**2+u**2+d**2)}var ti=75e-6;function Ee(e,t=e.space,{epsilon:r=ti}={}){e=A(e),t=M.get(t);let n=e.coords;return t!==e.space&&(n=t.from(e)),t.inGamut(n,{epsilon:r})}function Le(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function ye(e,{method:t=te.gamut_mapping,space:r=e.space}={}){ft(arguments[1])&&(r=arguments[1]);let n=$(e,r=M.get(r));if(t==="css")n=$(function(a,{space:o=a.space}){o=M.get(o);let c=M.get("oklch");if(o.isUnbounded)return $(a,o);let u=$(a,c),d=u.coords[0];if(d>=1){let v=$(yo.WHITE,o);return v.alpha=a.alpha,$(v,o)}if(d<=0){let v=$(yo.BLACK,o);return v.alpha=a.alpha,$(v,o)}if(Ee(u,o,{epsilon:0}))return $(u,o);function f(v){let P=$(v,o),B=Object.values(o.coords);return P.coords=P.coords.map((T,Y)=>{if("range"in B[Y]){let[we,le]=B[Y].range;return sa(we,T,le)}return T}),P}let g=0,y=u.coords[1],m=!0,w=Le(u),b=f(w),C=Yr(b,w);if(C<.02)return b;for(;y-g>1e-4;){let v=(g+y)/2;if(w.coords[1]=v,m&&Ee(w,o,{epsilon:0}))g=v;else if(b=f(w),C=Yr(b,w),C<.02){if(.02-C<1e-4)break;m=!1,g=v}else y=v}return b}(e,{space:r}),e.space);else{if(Ee(e,r,{epsilon:0}))return A(e);if(t!=="clip"&&!Ee(e,r)){let a=ye(Le(n),{method:"clip",space:r});if(Xr(e,a)>2){let o=M.resolveCoord(t),l=o.space,s=o.id,c=$(n,l),u=.01,d=(o.range||o.refRange)[0],f=X(c,s);for(;f-d>u;){let g=Le(c);g=ye(g,{space:r,method:"clip"}),Xr(c,g)-2<u?d=X(c,s):f=X(c,s),me(c,s,(d+f)/2)}n=$(c,r)}else n=a}if(t==="clip"||!Ee(n,r,{epsilon:0})){let a=Object.values(r.coords).map(o=>o.range||[]);n.coords=n.coords.map((o,l)=>{let[s,c]=a[l];return s!==void 0&&(o=Math.max(s,o)),c!==void 0&&(o=Math.min(o,c)),o})}}return r!==e.space&&(n=$(n,e.space)),e.coords=n.coords,e}ye.returns="color";var yo={WHITE:{space:qe,coords:[1,0,0]},BLACK:{space:qe,coords:[0,0,0]}};function $(e,t,{inGamut:r}={}){e=A(e);let n=(t=M.get(t)).from(e),a={space:t,coords:n,alpha:e.alpha};return r&&(a=ye(a,r===!0?void 0:r)),a}function at(e,{precision:t=te.precision,format:r="default",inGamut:n=!0,...a}={}){let o,l=r;r=(e=A(e)).space.getFormat(r)??e.space.getFormat("default")??M.DEFAULT_FORMAT,n||=r.toGamut;let s=e.coords.slice();if(n&&!Ee(e)&&(s=ye(Le(e),n===!0?void 0:n).coords),r.type==="custom"){if(a.precision=t,!r.serialize)throw new TypeError(`format ${l} can only be used to parse colors, not for serialization`);o=r.serialize(s,e.alpha,a)}else{let c=r.name||"color";r.serializeCoords?s=r.serializeCoords(s,t):t!==null&&(s=s.map(g=>Vt(g,{precision:t})));let u=[...s];if(c==="color"){let g=r.id||r.ids?.[0]||e.space.id;u.unshift(g)}let d=e.alpha;t!==null&&(d=Vt(d,{precision:t}));let f=e.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${d}`;o=`${c}(${u.join(r.commas?", ":" ")}${f})`}return o}$.returns="color";var Yt=new I({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],formats:{color:{}}}),zt=1.09929682680944,wo=.018053968510807,ua=new I({id:"rec2020",name:"REC.2020",base:Yt,toBase:e=>e.map(function(t){return t<4.5*wo?t/4.5:Math.pow((t+zt-1)/zt,1/.45)}),fromBase:e=>e.map(function(t){return t>=wo?zt*Math.pow(t,.45)-(zt-1):4.5*t}),formats:{color:{}}}),fa=new I({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]}),ha=new I({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],formats:{color:{}}}),Co={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},vo=Array(3).fill("<percentage> | <number>[0, 255]"),Mo=Array(3).fill("<number>[0, 255]"),ct=new I({id:"srgb",name:"sRGB",base:ha,fromBase:e=>e.map(t=>{let r=t<0?-1:1,n=t*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*t}),toBase:e=>e.map(t=>{let r=t<0?-1:1,n=t*r;return n<=.04045?t/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:vo},rgb_number:{name:"rgb",commas:!0,coords:Mo,noAlpha:!0},color:{},rgba:{coords:vo,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Mo},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,r=>{t.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:r=!0}={})=>{t<1&&e.push(t),e=e.map(o=>Math.round(255*o));let n=r&&e.every(o=>o%17==0);return"#"+e.map(o=>n?(o/17).toString(16):o.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){let t={spaceId:"srgb",coords:null,alpha:1};if((e=e.toLowerCase())==="transparent"?(t.coords=Co.black,t.alpha=0):t.coords=Co[e],t.coords)return t}}}}),da=new I({id:"p3",name:"P3",base:fa,fromBase:ct.fromBase,toBase:ct.toBase,formats:{color:{id:"display-p3"}}}),ri;if(te.display_space=ct,typeof CSS<"u"&&CSS.supports)for(let e of[F,ua,da]){let t=e.getMinCoords(),r=at({space:e,coords:t,alpha:1});if(CSS.supports("color",r)){te.display_space=e;break}}function pa(e,t,r="lab"){let n=(r=M.get(r)).from(e),a=r.from(t);return Math.sqrt(n.reduce((o,l,s)=>{let c=a[s];return isNaN(l)||isNaN(c)?o:o+(c-l)**2},0))}function de(e){return X(e,[V,"y"])}function So(e,t){me(e,[V,"y"],t)}var ni=Object.freeze({__proto__:null,getLuminance:de,register:function(e){Object.defineProperty(e.prototype,"luminance",{get(){return de(this)},set(t){So(this,t)}})},setLuminance:So}),ko=.022,oi=1.414;function Eo(e){return e>=ko?e:e+(ko-e)**oi}function De(e){let t=e<0?-1:1,r=Math.abs(e);return t*Math.pow(r,2.4)}var Ao=24/116,$t=24389/27,Ir=G.D65,Jr=new M({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Ir,base:V,fromBase(e){let t=e.map((r,n)=>r/Ir[n]).map(r=>r>.008856451679035631?Math.cbrt(r):($t*r+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>Ao?Math.pow(t[0],3):(116*t[0]-16)/$t,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/$t,t[2]>Ao?Math.pow(t[2],3):(116*t[2]-16)/$t].map((r,n)=>r*Ir[n])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Hr=.5*Math.pow(5,.5)+.5,_t=Object.freeze({__proto__:null,contrastAPCA:function(e,t){let r,n,a,o,l,s;t=A(t),e=A(e),t=$(t,"srgb"),[o,l,s]=t.coords;let c=.2126729*De(o)+.7151522*De(l)+.072175*De(s);e=$(e,"srgb"),[o,l,s]=e.coords;let u=.2126729*De(o)+.7151522*De(l)+.072175*De(s),d=Eo(c),f=Eo(u),g=f>d;return Math.abs(f-d)<5e-4?n=0:g?(r=f**.56-d**.57,n=1.14*r):(r=f**.65-d**.62,n=1.14*r),a=Math.abs(n)<.1?0:n>0?n-.027:n+.027,100*a},contrastDeltaPhi:function(e,t){e=A(e),t=A(t);let r=X(e,[Jr,"l"]),n=X(t,[Jr,"l"]),a=Math.abs(Math.pow(r,Hr)-Math.pow(n,Hr)),o=Math.pow(a,1/Hr)*Math.SQRT2-40;return o<7.5?0:o},contrastLstar:function(e,t){e=A(e),t=A(t);let r=X(e,[F,"l"]),n=X(t,[F,"l"]);return Math.abs(r-n)},contrastMichelson:function(e,t){e=A(e),t=A(t);let r=Math.max(de(e),0),n=Math.max(de(t),0);n>r&&([r,n]=[n,r]);let a=r+n;return a===0?0:(r-n)/a},contrastWCAG21:function(e,t){e=A(e),t=A(t);let r=Math.max(de(e),0),n=Math.max(de(t),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)},contrastWeber:function(e,t){e=A(e),t=A(t);let r=Math.max(de(e),0),n=Math.max(de(t),0);return n>r&&([r,n]=[n,r]),n===0?5e4:(r-n)/n}});function Lo(e){let[t,r,n]=ht(e,V),a=t+15*r+3*n;return[4*t/a,9*r/a]}function No(e){let[t,r,n]=ht(e,V),a=t+r+n;return[t/a,r/a]}var ai=Object.freeze({__proto__:null,register:function(e){Object.defineProperty(e.prototype,"uv",{get(){return Lo(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return No(this)}})},uv:Lo,xy:No}),Ro=Math.PI/180,nn=new M({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:V,fromBase:e=>e.map(t=>Math.max(203*t,0)),toBase:e=>e.map(t=>Math.max(t/203,0))}),Dt=1.15,qt=.66,Oo=2610/16384,Po=.8359375,Bo=2413/128,To=18.6875,jo=32/(1.7*2523),It=-.56,xr=16295499532821565e-27,si=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ii=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],li=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],ci=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],ga=new M({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:nn,fromBase(e){let[t,r,n]=e,a=z(si,[Dt*t-(Dt-1)*n,qt*r-(qt-1)*t,n]).map(function(c){return((Po+Bo*(c/1e4)**Oo)/(1+To*(c/1e4)**Oo))**134.03437499999998}),[o,l,s]=z(li,a);return[(1+It)*o/(1+It*o)-xr,l,s]},toBase(e){let[t,r,n]=e,a=z(ci,[(t+xr)/(1+It-It*(t+xr)),r,n]).map(function(u){return 1e4*((Po-u**jo)/(To*u**jo-Bo))**6.277394636015326}),[o,l,s]=z(ii,a),c=(o+(Dt-1)*s)/Dt;return[c,(l+(qt-1)*c)/qt,s]},formats:{color:{}}}),Ur=new M({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:ga,fromBase(e){let t,[r,n,a]=e,o=2e-4;return t=Math.abs(n)<o&&Math.abs(a)<o?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),be(t)]},toBase:e=>[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)],formats:{color:{}}}),zo=.8359375,$o=2413/128,_o=18.6875,Do=2610/16384,ui=2523/32,fi=16384/2610,qo=32/2523,hi=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],di=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],pi=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],gi=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Kr=new M({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:nn,fromBase:e=>function(t){let r=t.map(function(n){return((zo+$o*(n/1e4)**Do)/(1+_o*(n/1e4)**Do))**ui});return z(di,r)}(z(hi,e)),toBase(e){let t=function(r){return z(pi,r).map(function(o){return 1e4*(Math.max(o**qo-zo,0)/($o-_o*o**qo))**fi})}(e);return z(gi,t)},formats:{color:{}}}),Gt={deltaE76:function(e,t){return pa(e,t,"lab")},deltaECMC:function(e,t,{l:r=2,c:n=1}={}){let[a,o,l]=F.from(e),[,s,c]=lt.from(F,[a,o,l]),[u,d,f]=F.from(t),g=lt.from(F,[u,d,f])[1];s<0&&(s=0),g<0&&(g=0);let y=a-u,m=s-g,w=(o-d)**2+(l-f)**2-m**2,b=.511;a>=16&&(b=.040975*a/(1+.01765*a));let C,v=.0638*s/(1+.0131*s)+.638;Number.isNaN(c)&&(c=0),C=c>=164&&c<=345?.56+Math.abs(.2*Math.cos((c+168)*Ro)):.36+Math.abs(.4*Math.cos((c+35)*Ro));let P=Math.pow(s,4),B=Math.sqrt(P/(P+1900)),T=(y/(r*b))**2;return T+=(m/(n*v))**2,T+=w/(v*(B*C+1-B))**2,Math.sqrt(T)},deltaE2000:Xr,deltaEJz:function(e,t){let[r,n,a]=Ur.from(e),[o,l,s]=Ur.from(t),c=r-o,u=n-l;Number.isNaN(a)&&Number.isNaN(s)?(a=0,s=0):Number.isNaN(a)?a=s:Number.isNaN(s)&&(s=a);let d=a-s,f=2*Math.sqrt(n*l)*Math.sin(d/2*(Math.PI/180));return Math.sqrt(c**2+u**2+f**2)},deltaEITP:function(e,t){let[r,n,a]=Kr.from(e),[o,l,s]=Kr.from(t);return 720*Math.sqrt((r-o)**2+.25*(n-l)**2+(a-s)**2)},deltaEOK:Yr};function ot(e,t,r={}){ft(r)&&(r={method:r});let{method:n=te.deltaE,...a}=r;e=A(e),t=A(t);for(let o in Gt)if("deltae"+n.toLowerCase()===o.toLowerCase())return Gt[o](e,t,a);throw new TypeError(`Unknown deltaE method: ${n}`)}var mi=Object.freeze({__proto__:null,darken:function(e,t=.25){return me(e,[M.get("oklch","lch"),"l"],r=>r*(1-t))},lighten:function(e,t=.25){return me(e,[M.get("oklch","lch"),"l"],r=>r*(1+t))}});function Io(e,t,r=.5,n={}){return[e,t]=[A(e),A(t)],pe(r)==="object"&&([r,n]=[.5,r]),ut(e,t,n)(r)}function Ho(e,t,r={}){let n;on(e)&&([n,r]=[e,t],[e,t]=n.rangeArgs.colors);let{maxDeltaE:a,deltaEMethod:o,steps:l=2,maxSteps:s=1e3,...c}=r;n||([e,t]=[A(e),A(t)],n=ut(e,t,c));let u=ot(e,t),d=a>0?Math.max(l,Math.ceil(u/a)+1):l,f=[];if(s!==void 0&&(d=Math.min(d,s)),d===1)f=[{p:.5,color:n(.5)}];else{let g=1/(d-1);f=Array.from({length:d},(y,m)=>{let w=m*g;return{p:w,color:n(w)}})}if(a>0){let g=f.reduce((y,m,w)=>{if(w===0)return 0;let b=ot(m.color,f[w-1].color,o);return Math.max(y,b)},0);for(;g>a;){g=0;for(let y=1;y<f.length&&f.length<s;y++){let m=f[y-1],w=f[y],b=(w.p+m.p)/2,C=n(b);g=Math.max(g,ot(C,m.color),ot(C,w.color)),f.splice(y,0,{p:b,color:n(b)}),y++}}}return f=f.map(g=>g.color),f}function ut(e,t,r={}){if(on(e)){let[c,u]=[e,t];return ut(...c.rangeArgs.colors,{...c.rangeArgs.options,...u})}let{space:n,outputSpace:a,progression:o,premultiplied:l}=r;e=A(e),t=A(t),e=Le(e),t=Le(t);let s={colors:[e,t],options:r};if(n=n?M.get(n):M.registry[te.interpolationSpace]||e.space,a=a?M.get(a):n,e=$(e,n),t=$(t,n),e=ye(e),t=ye(t),n.coords.h&&n.coords.h.type==="angle"){let c=r.hue=r.hue||"shorter",u=[n,"h"],[d,f]=[X(e,u),X(t,u)];isNaN(d)&&!isNaN(f)?d=f:isNaN(f)&&!isNaN(d)&&(f=d),[d,f]=function(g,y){if(g==="raw")return y;let[m,w]=y.map(be),b=w-m;return g==="increasing"?b<0&&(w+=360):g==="decreasing"?b>0&&(m+=360):g==="longer"?-180<b&&b<180&&(b>0?m+=360:w+=360):g==="shorter"&&(b>180?m+=360:b<-180&&(w+=360)),[m,w]}(c,[d,f]),me(e,u,d),me(t,u,f)}return l&&(e.coords=e.coords.map(c=>c*e.alpha),t.coords=t.coords.map(c=>c*t.alpha)),Object.assign(c=>{c=o?o(c):c;let u=e.coords.map((g,y)=>it(g,t.coords[y],c)),d=it(e.alpha,t.alpha,c),f={space:n,coords:u,alpha:d};return l&&(f.coords=f.coords.map(g=>g/d)),a!==n&&(f=$(f,a)),f},{rangeArgs:s})}function on(e){return pe(e)==="function"&&!!e.rangeArgs}te.interpolationSpace="lab";var bi=Object.freeze({__proto__:null,isRange:on,mix:Io,range:ut,register:function(e){e.defineFunction("mix",Io,{returns:"color"}),e.defineFunction("range",ut,{returns:"function<color>"}),e.defineFunction("steps",Ho,{returns:"array<color>"})},steps:Ho}),ma=new M({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ct,fromBase:e=>{let t=Math.max(...e),r=Math.min(...e),[n,a,o]=e,[l,s,c]=[NaN,0,(r+t)/2],u=t-r;if(u!==0){switch(s=c===0||c===1?0:(t-c)/Math.min(c,1-c),t){case n:l=(a-o)/u+(a<o?6:0);break;case a:l=(o-n)/u+2;break;case o:l=(n-a)/u+4}l*=60}return s<0&&(l+=180,s=Math.abs(s)),l>=360&&(l-=360),[l,100*s,100*c]},toBase:e=>{let[t,r,n]=e;function a(o){let l=(o+t/30)%12,s=r*Math.min(n,1-n);return n-s*Math.max(-1,Math.min(l-3,9-l,1))}return t%=360,t<0&&(t+=360),r/=100,n/=100,[a(0),a(8),a(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),ba=new M({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:ma,fromBase(e){let[t,r,n]=e;r/=100,n/=100;let a=n+r*Math.min(n,1-n);return[t,a===0?0:200*(1-n/a),100*a]},toBase(e){let[t,r,n]=e;r/=100,n/=100;let a=n*(1-r/2);return[t,a===0||a===1?0:(n-a)/Math.min(a,1-a)*100,100*a]}}),yi=new M({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:ba,fromBase(e){let[t,r,n]=e;return[t,n*(100-r)/100,100-n]},toBase(e){let[t,r,n]=e;r/=100,n/=100;let a=r+n;if(a>=1)return[t,0,100*(r/a)];let o=1-n;return[t,100*(o===0?0:1-r/o),100*o]},formats:{hwb:{coords:["<number> | <angle>","<percentage>","<percentage>"]}}}),ya=new I({id:"a98rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),wi=new I({id:"a98rgb",name:"Adobe\xAE 98 RGB compatible",base:ya,toBase:e=>e.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),fromBase:e=>e.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t)),formats:{color:{id:"a98-rgb"}}}),wa=new I({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:rn,toXYZ_M:[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],fromXYZ_M:[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]]}),Ci=new I({id:"prophoto",name:"ProPhoto",base:wa,toBase:e=>e.map(t=>t<.03125?t/16:t**1.8),fromBase:e=>e.map(t=>t>=.001953125?t**(1/1.8):16*t),formats:{color:{id:"prophoto-rgb"}}}),vi=new M({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:qe,fromBase(e){let t,[r,n,a]=e,o=2e-4;return t=Math.abs(n)<o&&Math.abs(a)<o?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),be(t)]},toBase(e){let t,r,[n,a,o]=e;return isNaN(o)?(t=0,r=0):(t=a*Math.cos(o*Math.PI/180),r=a*Math.sin(o*Math.PI/180)),[n,t,r]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Mi=G.D65,Ca=.42,xo=1/Ca,Fr=2*Math.PI,va=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Si=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],ki=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Ei={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Ae={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Ai=180/Math.PI,Fo=Math.PI/180;function Ma(e,t){return e.map(n=>{let a=ee(t*Math.abs(n)*.01,Ca);return 400*Xt(a,n)/(a+27.13)})}var Vo=function(e,t,r,n,a){let o={};o.discounting=a,o.refWhite=e,o.surround=n;let l=e.map(m=>100*m);o.la=t,o.yb=r;let s=l[1],c=z(va,l),u=(n=Ei[o.surround])[0];o.c=n[1],o.nc=n[2];let d=(1/(5*o.la+1))**4;o.fl=d*o.la+.1*(1-d)*(1-d)*Math.cbrt(5*o.la),o.flRoot=o.fl**.25,o.n=o.yb/s,o.z=1.48+Math.sqrt(o.n),o.nbb=.725*o.n**-.2,o.ncb=o.nbb;let f=a?1:Math.max(Math.min(u*(1-1/3.6*Math.exp((-o.la-42)/92)),1),0);o.dRgb=c.map(m=>it(1,s/m,f)),o.dRgbInv=o.dRgb.map(m=>1/m);let g=c.map((m,w)=>m*o.dRgb[w]),y=Ma(g,o.fl);return o.aW=o.nbb*(2*y[0]+y[1]+.05*y[2]),o}(Mi,64/Math.PI*.2,20,"average",!1);function Li(e,t){if(!(e.J!==void 0^e.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(e.C!==void 0^e.M!==void 0^e.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(e.h!==void 0^e.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(e.J===0||e.Q===0)return[0,0,0];let r=0;r=e.h!==void 0?be(e.h)*Fo:function(m){let w=(m%400+400)%400,b=Math.floor(.01*w);w%=100;let[C,v]=Ae.h.slice(b,b+2),[P,B]=Ae.e.slice(b,b+2);return be((w*(B*C-P*v)-100*C*B)/(w*(B-P)-100*B))}(e.H)*Fo;let n=Math.cos(r),a=Math.sin(r),o=0;e.J!==void 0?o=.1*ee(e.J,.5):e.Q!==void 0&&(o=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let l=0;e.C!==void 0?l=e.C/o:e.M!==void 0?l=e.M/t.flRoot/o:e.s!==void 0&&(l=4e-4*e.s**2*(t.aW+4)/t.c);let s=ee(l*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),c=.25*(Math.cos(r+2)+3.8),u=t.aW*ee(o,2/t.c/t.z),d=5e4/13*t.nc*t.ncb*c,f=u/t.nbb,g=23*(f+.305)*tn(s,23*d+s*(11*n+108*a)),y=function(m,w){let b=100/w*27.13**xo;return m.map(C=>{let v=Math.abs(C);return Xt(b*ee(v/(400-v),xo),C)})}(z(ki,[f,g*n,g*a]).map(m=>1*m/1403),t.fl);return z(Si,y.map((m,w)=>m*t.dRgbInv[w])).map(m=>m/100)}function Ni(e,t){let r=e.map(b=>100*b),n=Ma(z(va,r).map((b,C)=>b*t.dRgb[C]),t.fl),a=n[0]+(-12*n[1]+n[2])/11,o=(n[0]+n[1]-2*n[2])/9,l=(Math.atan2(o,a)%Fr+Fr)%Fr,s=.25*(Math.cos(l+2)+3.8),c=ee(5e4/13*t.nc*t.ncb*tn(s*Math.sqrt(a**2+o**2),n[0]+n[1]+1.05*n[2]+.305),.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),u=ee(t.nbb*(2*n[0]+n[1]+.05*n[2])/t.aW,.5*t.c*t.z),d=100*ee(u,2),f=4/t.c*u*(t.aW+4)*t.flRoot,g=c*u,y=g*t.flRoot,m=be(l*Ai),w=function(b){let C=be(b);C<=Ae.h[0]&&(C+=360);let v=ia(Ae.h,C)-1,[P,B]=Ae.h.slice(v,v+2),[T,Y]=Ae.e.slice(v,v+2),we=(C-P)/T;return Ae.H[v]+100*we/(we+(B-C)/Y)}(m);return{J:d,C:g,h:m,s:50*ee(t.c*c/(t.aW+4),.5),Q:f,M:y,H:w}}var Ri=new M({id:"cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:V,fromBase(e){let t=Ni(e,Vo);return[t.J,t.M,t.h]},toBase:e=>Li({J:e[0],M:e[1],h:e[2]},Vo),formats:{color:{}}}),Wo=2610/16384,Zo=32/2523,Go=.8359375,Xo=2413/128,Yo=18.6875,Oi=new I({id:"rec2100pq",name:"REC.2100-PQ",base:Yt,toBase:e=>e.map(function(t){return 1e4*(Math.max(t**Zo-Go,0)/(Xo-Yo*t**Zo))**6.277394636015326/203}),fromBase:e=>e.map(function(t){let r=Math.max(203*t/1e4,0);return((Go+Xo*r**Wo)/(1+Yo*r**Wo))**78.84375}),formats:{color:{id:"rec2100-pq"}}}),Jo=.17883277,Uo=.28466892,Ko=.55991073,Vr=3.7743,Pi=new I({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Yt,toBase:e=>e.map(function(t){return t<=.5?t**2/3*Vr:(Math.exp((t-Ko)/Jo)+Uo)/12*Vr}),fromBase:e=>e.map(function(t){return(t/=Vr)<=1/12?Math.sqrt(3*t):Jo*Math.log(12*t-Uo)+Ko}),formats:{color:{id:"rec2100-hlg"}}}),Sa={};function Ht({id:e,toCone_M:t,fromCone_M:r}){Sa[e]=arguments[0]}function Qo(e,t,r="Bradford"){let n=Sa[r],[a,o,l]=z(n.toCone_M,e),[s,c,u]=z(n.toCone_M,t),d=z([[s/a,0,0],[0,c/o,0],[0,0,u/l]],n.toCone_M);return z(n.fromCone_M,d)}ge.add("chromatic-adaptation-start",e=>{e.options.method&&(e.M=Qo(e.W1,e.W2,e.options.method))}),ge.add("chromatic-adaptation-end",e=>{e.M||(e.M=Qo(e.W1,e.W2,e.options.method))}),Ht({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]}),Ht({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]}),Ht({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]}),Ht({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]}),Object.assign(G,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),G.ACES=[.32168/.33767,1,.34065/.33767];var ka=new I({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:G.ACES,toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],formats:{color:{}}}),xt=2**-16,Wr=-.35828683,Ft=(Math.log2(65504)+9.72)/17.52,Bi=new I({id:"acescc",name:"ACEScc",coords:{r:{range:[Wr,Ft],name:"Red"},g:{range:[Wr,Ft],name:"Green"},b:{range:[Wr,Ft],name:"Blue"}},referred:"scene",base:ka,toBase:e=>e.map(function(t){return t<=-.3013698630136986?2*(2**(17.52*t-9.72)-xt):t<Ft?2**(17.52*t-9.72):65504}),fromBase:e=>e.map(function(t){return t<=0?(Math.log2(xt)+9.72)/17.52:t<xt?(Math.log2(xt+.5*t)+9.72)/17.52:(Math.log2(t)+9.72)/17.52}),formats:{color:{}}}),ea=Object.freeze({__proto__:null,A98RGB:wi,A98RGB_Linear:ya,ACEScc:Bi,ACEScg:ka,CAM16_JMh:Ri,HSL:ma,HSV:ba,HWB:yi,ICTCP:Kr,JzCzHz:Ur,Jzazbz:ga,LCH:lt,Lab:F,Lab_D65:Jr,OKLCH:vi,OKLab:qe,P3:da,P3_Linear:fa,ProPhoto:Ci,ProPhoto_Linear:wa,REC_2020:ua,REC_2020_Linear:Yt,REC_2100_HLG:Pi,REC_2100_PQ:Oi,XYZ_ABS_D65:nn,XYZ_D50:rn,XYZ_D65:V,sRGB:ct,sRGB_Linear:ha}),q=class e{constructor(...t){let r,n,a,o;t.length===1&&(r=A(t[0])),r?(n=r.space||r.spaceId,a=r.coords,o=r.alpha):[n,a,o]=t,Object.defineProperty(this,"space",{value:M.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=a?a.slice():[0,0,0],this.alpha=o>1?1:o<0?0:o;for(let l=0;l<this.coords.length;l++)this.coords[l]==="NaN"&&(this.coords[l]=NaN);for(let l in this.space.coords)Object.defineProperty(this,l,{get:()=>this.get(l),set:s=>this.set(l,s)})}get spaceId(){return this.space.id}clone(){return new e(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...t){let r=function(n,{space:a=te.display_space,...o}={}){let l=at(n,o);if(typeof CSS>"u"||CSS.supports("color",l)||!te.display_space)l=new String(l),l.color=n;else{let s=n;if((n.coords.some(st)||st(n.alpha))&&!(ri??=CSS.supports("color","hsl(none 50% 50%)"))&&(s=Le(n),s.coords=s.coords.map(Zr),s.alpha=Zr(s.alpha),l=at(s,o),CSS.supports("color",l)))return l=new String(l),l.color=s,l;s=$(s,a),l=new String(at(s,o)),l.color=s}return l}(this,...t);return r.color=new e(r.color),r}static get(t,...r){return t instanceof e?t:new e(t,...r)}static defineFunction(t,r,n=r){let{instance:a=!0,returns:o}=n,l=function(...s){let c=r(...s);if(o==="color")c=e.get(c);else if(o==="function<color>"){let u=c;c=function(...d){let f=u(...d);return e.get(f)},Object.assign(c,u)}else o==="array<color>"&&(c=c.map(u=>e.get(u)));return c};t in e||(e[t]=l),a&&(e.prototype[t]=function(...s){return l(this,...s)})}static defineFunctions(t){for(let r in t)e.defineFunction(r,t[r],t[r])}static extend(t){if(t.register)t.register(e);else for(let r in t)e.defineFunction(r,t[r])}};q.defineFunctions({get:X,getAll:ht,set:me,setAll:ca,to:$,equals:function(e,t){return e=A(e),t=A(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((r,n)=>r===t.coords[n])},inGamut:Ee,toGamut:ye,distance:pa,toString:at}),Object.assign(q,{util:Xs,hooks:ge,WHITES:G,Space:M,spaces:M.registry,parse:la,defaults:te});for(let e of Object.keys(ea))M.register(ea[e]);for(let e in M.registry)Qr(e,M.registry[e]);function Qr(e,t){let r=e.replace(/-/g,"_");Object.defineProperty(q.prototype,r,{get(){let n=this.getAll(e);return typeof Proxy>"u"?n:new Proxy(n,{has:(a,o)=>{try{return M.resolveCoord([t,o]),!0}catch{}return Reflect.has(a,o)},get:(a,o,l)=>{if(o&&typeof o!="symbol"&&!(o in a)){let{index:s}=M.resolveCoord([t,o]);if(s>=0)return a[s]}return Reflect.get(a,o,l)},set:(a,o,l,s)=>{if(o&&typeof o!="symbol"&&!(o in a)||o>=0){let{index:c}=M.resolveCoord([t,o]);if(c>=0)return a[c]=l,this.setAll(e,a),!0}return Reflect.set(a,o,l,s)}})},set(n){this.setAll(e,n)},configurable:!0,enumerable:!0})}ge.add("colorspace-init-end",e=>{Qr(e.id,e),e.aliases?.forEach(t=>{Qr(t,e)})}),q.extend(Gt),q.extend({deltaE:ot}),Object.assign(q,{deltaEMethods:Gt}),q.extend(mi),q.extend({contrast:function(e,t,r={}){ft(r)&&(r={algorithm:r});let{algorithm:n,...a}=r;if(!n){let o=Object.keys(_t).map(l=>l.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${o}`)}e=A(e),t=A(t);for(let o in _t)if("contrast"+n.toLowerCase()===o.toLowerCase())return _t[o](e,t,a);throw new TypeError(`Unknown contrast algorithm: ${n}`)}}),q.extend(ai),q.extend(ni),q.extend(bi),q.extend(_t);var L1=h.live([0,0,0]),Ea=h(({over:e,x:t,y:r},[],{onremove:n})=>{let a,o=!1,l=h.live(),s=h.live({t:0,r:0,b:0,l:0}),c=s.get(({b,t:C})=>b-C),u=s.get(({r:b,l:C})=>b-C),d=s.get(({t:b})=>r-b-8),f=s.get(({l:b})=>t-b-8),g=s.get(({r:b})=>b-t-9),y=s.get(({b})=>b-r-9);h.live.from(e,t,r,l,(b,C,v)=>{o||(o=!0,requestAnimationFrame(()=>{o=!1,s({t:w(b,C,v,0,-1).b+1,r:w(b,C,v,1,0).a,b:w(b,C,v,0,1).b,l:w(b,C,v,-1,0).a+1})}))}),m(e());function m(b,C){a=b.style.cursor,C&&(C.style.cursor=a),b.style.cursor="none"}function w(b,C,v,P,B){let T;do T=document.elementFromPoint(C=C+P,v=v+B);while(b===T);return{a:C,b:v}}return()=>h`
    position fixed
    zi 2146666666
    t 0
    l 0
    transform translate(${t}, ${r})
    pointer-events none
    transition opacity 0.3s
    [animate] {
      opacity 0
    }
  `({dom:[h.animate,()=>()=>e()&&(e().style.cursor=a),()=>e.observe(m),h.on(document,"copy",b=>{b.preventDefault(),b.clipboardData.setData("text/plain",O.color()+" / "+new q(O.color()).to("srgb").toString({format:"hex"})),O.inspect(!1)}),h.on(window,"scroll",b=>{l(b),e(document.elementFromPoint(t(),r()))})]},h`
      position absolute
      d grid
      pi center
      w 100
      t 0
      l 0
      h 32
      transition transform 0.2s
      transform translate(${t.get(b=>b>120?-108:8)}, ${r.get(b=>b>window.innerHeight-60&&(t()<120||t()>window.innerWidth-220)?-78:b>60?-40:8)})
      fs 12
      p 4 10
      br 16
      bc rgb(0 0 0/.85)
      backdrop-filter blur(5)
      c white
    `(u," x ",c),h`
      position absolute
      d flex
      ai center
      w 200
      gap 8
      h 32
      l 0
      t 0
      transition transform 0.2s
      transform translate(${t.get(b=>b>window.innerWidth-220?-208:8)}, ${r.get(b=>b<60?t()>window.innerWidth-220||t()<220?48:8:b>window.innerHeight-60?-40:t()<220||t()>window.innerWidth-220?8:-40)})
      fs 12
      p 6 8 6 6
      br 16
      bc rgb(0 0 0/.85)
      backdrop-filter blur(5)
      c white
    `(h`
        flex-shrink 0
        w 20
        h 20
        br 13
        bs 0 0 0 1 rgb(255 255 255/.5)
        transition background-color .1s
        bc ${O.color}
      `,O.color),[g,y,f,d].map((b,C)=>[h`
        position absolute
        w ${b}
        h 1
        l 0
        t 0
        transform-origin .5px .5px
        transform rotate(${C*90}) translate(8)
        backdrop-filter invert(1) grayscale(1) brightness(2)
        animation .3s .3s {
          from { scale 0 }
        }
      `,h`
        position absolute
        w 1
        h 7
        t -3
        l 0
        transform rotate(${C*90}) translateX(calc(8px + ${b}))
        backdrop-filter invert(1) grayscale(1) brightness(2)
        animation .3s .3s {
          from { scale 0 }
        }
      `]))});var Jt=h.live(document.body),Aa=h.live(0),La=h.live(0),Ut=h.live(!1,()=>setTimeout(()=>Ut(!1),100)),Ti=h.live.from(O.inspect,Jt,Ut,(e,t)=>e&&(t===document.documentElement||t===document.body?{left:0,top:0,width:window.innerWidth,height:window.innerHeight}:t.getBoundingClientRect()));O.inspect.observe(e=>{e?window[$e]=!0:delete window[$e],co.redraw()});window.addEventListener("mouseover",$i,{capture:!0,passive:!0});window.addEventListener("mousemove",_i,{capture:!0,passive:!0});window.addEventListener("keydown",zi,{capture:!0,passive:!1});window.addEventListener("scroll",Ut,{capture:!0,passive:!0});var Na=Ti.get(e=>e&&h`
    position fixed
    z-index 2146666665
    pointer-events none
    l 0
    b 0
    r 0
    t 0
    transition opacity .3s
    [animate] {
      o 0
    }
  `({dom:[h.animate,h.on(window,"click",ji,{capture:!0}),h.on(window,"blur",O.inspect.set(()=>!1),{capture:!0})]},Ea({over:Jt,x:Aa,y:La}),h`span
      ff monospace
      fs 10
      zi 1
      p 2 4
      bc white
      position absolute
      white-space nowrap
      br 3
      bs 0 0 3px rgba(0,0,0,.5)
      t ${e.bottom+8}
      l ${e.left}
      animation 0.3s {
        from { o 0 }
      }
    `(Math.round(e.left)+","+Math.round(e.top)+" <"+Jt().tagName.toLowerCase()+"> "+Math.round(e.width)+"x"+Math.round(e.height)),h`svg
      position absolute
      top 0
      left 0
    `({width:"100%",height:"100%"},h`defs`(h`mask#hole`(h`rect`({width:"100%",height:"100%",fill:"white"}),h`rect
            transition all ${Ut.get(t=>t?0:".3s")}
          `({fill:"black",rx:4,ry:4,width:e.width,height:e.height,x:e.left,y:e.top}))),h`rect`({fill:"rgba(0, 150, 255, 0.5)",width:"100%",height:"100%",mask:"url(#hole)"}))));function ji(e){e.preventDefault(),e.stopPropagation();let t=e.target;for(;t;){if(t.hasOwnProperty($e)){let r=O.parseStackTrace(t[$e]),n=r[3]||r.pop();if(n)return O.editor(n)}t=t.parentNode}}function zi(e){(e.metaKey||e.ctrlKey)&&e.key==="i"?(e.preventDefault(),e.stopPropagation(),window.hasOwnProperty($e)?O.inspect(!1):O.inspect(!0)):O.inspect()&&e.key==="Escape"&&O.inspect(!1)}function $i(e){window.sintools&&window.sintools.contains(e.target)||Jt(e.target)}function _i(e){window.sintools&&window.sintools.contains(e.target)||(Aa(e.clientX),La(e.clientY))}h.scroll=!1;h.style(Object.assign(document.createElement("style"),{wat:"hej"}));var Ra=Object.assign(document.createElement("div"),{id:"sintools"});document.documentElement.appendChild(Ra);O.redraw.observe(h.redraw);h.css`
  #sintools { font-family ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace }
  #sintools *, #sintools:before, #sintools:before { box-sizing border-box }
`;h.mount(Ra,()=>[fo,Na]);
