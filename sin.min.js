var k=class{constructor(t,r,n=null,i=0,s=null,o=null){this.level=i,this.component=r,this.inline=t,this.tag=n,this.attrs=s,this.key=s?s.key:void 0,this.dom=null,this.children=o}};var q=typeof window>"u"||typeof window.document>"u";function mt(e){return!e&&e!==0&&e!==""}function pe(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function D(e){return e&&y(e.observe)}function y(e){return typeof e=="function"}function Ue(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function Me(e){return e&&Array.isArray(e.raw)}function ze(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function Ie(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function St(e){return(he(e.attrs.class)+he(e.attrs.className)+e.tag.classes).trim()}function Be(e){return Array.isArray(e)?e:[e]}function ge(){}function de(e){return ze(e)||(e==="cssFloat"?"float":pe(e))}function he(e){return D(e)?he(e.value):y(e)?he(e()):e?typeof e=="object"?sr(e):e+" ":""}function sr(e){let t="";for(let r in e)t+=(t?" ":"")+(e[r]||"");return t}typeof globalThis>"u"&&(window.globalThis=window);var b=q?{}:window;["head","get","put","post","delete","patch"].forEach(e=>U[e]=function(t,r={}){return r.method=e,U(t,r)});U.redraw=()=>{};var ye="application/json";var ar=typeof Uint8Array>"u"?[]:[Object.getPrototypeOf(Uint8Array)],or="Blob ArrayBuffer DataView FormData URLSearchParams".split(" ").map(e=>globalThis[e]).filter(e=>e).concat(ar);function U(e,{method:t="GET",redraw:r=!0,responseType:n,query:i,body:s,user:o,pass:a,headers:l={},config:c,timeout:u=0}={}){let d=!b.chrome&&new Error,f=new b.XMLHttpRequest,O=!1,Q=new Promise((T,R)=>{t=t.toUpperCase(),f.addEventListener("readystatechange",function(){if(f.readyState===f.DONE){try{f.status&&Object.defineProperty(f,"body",{value:F===ye?JSON.parse(f.response):f.response}),f.status===304||f.status>=200&&f.status<300?T(O?f:f.body):R(De(f))}catch(j){R(j)}r&&U.redraw&&U.redraw()}}),f.addEventListener("error",()=>R(De(f))),f.addEventListener("abort",()=>R(De(f))),f.open(t,lr(e,i),!0,o,a),f.timeout=u,n&&(f.responseType=n);let F=!1,w=!1;Object.entries(l).forEach(([j,Z])=>{f.setRequestHeader(j,Z),j.toLowerCase()==="accept"&&(F=Z),j.toLowerCase()==="content-type"&&(w=Z)}),!F&&!n&&f.setRequestHeader("Accept",F=ye),!w&&s!==void 0&&!or.some(j=>s instanceof j)&&f.setRequestHeader("Content-Type",w=ye),c&&c(f),f.send(w===ye?JSON.stringify(s):s)}).catch(T=>{throw d&&!d.message&&Object.defineProperty(d,"message",{value:T.message}),Object.defineProperties(d||new Error(T.message),{...T,status:{value:f.status,enumerable:!0},body:{value:f.body||f.response,enumerable:!0},xhr:{value:f}})});return Object.defineProperty(Q,"xhr",{get(){return O=!0,Q}}),Q}function De(e){return new Error(e.status?e.status+(e.statusText?" "+e.statusText:""):"Unknown")}function lr(e,t){let r=new URL(e,"http://x"),n=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+r.search+(n?(r.search?"&":"?")+n:"")+(r.hash||"")}var be=class{constructor(t,r){this.live=t,this.transform=r}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(r=>t(this.transform(r)))}};function _(e,t){let r=new Set;return y(t)&&r.add(t),n.observe=o=>(r.add(o),()=>r.delete(o)),n.valueOf=n.toString=n.toJSON=()=>e,n.detach=ge,n.reduce=s,n.set=o=>(...a)=>(n(y(o)?o(...a):o),n),n.get=o=>new be(n,a=>y(o)?o(a):a[o]),n.if=(o,a=!0,l=!1)=>new be(n,c=>c===o?a:l),Object.defineProperty(n,"value",{get:()=>e,set:i});function n(o){return arguments.length&&i(o),e}function i(o){o!==e&&(e=o,r.forEach(async a=>a(o)))}function s(o,a){let l=1,c=_(arguments.length>1?o(a,e,l++):e);return n.observe(u=>c.value=o(c.value,u,l++)),c}}_.from=function(...e){let t=e.pop(),r=_(t(...e.map($e))),n=e.map(i=>i.observe(()=>r(t(...e.map($e)))));return r.detach=()=>n.forEach($e),r};function $e(e){return e()}var He=(e,t)=>(e[t.split("-").map(r=>r[0]).join("")]=t,e),At=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","pointer-events","right","top","text-align","text-decoration","text-transform","text-shadow","user-select","white-space","width","z-index"];var ie=b.document,M=ie.querySelector("style.sin")||ie.createElement("style"),ur=/^(ms|moz|webkit)[-A-Z]/i,Ge=M&&M.getAttribute("id")||"sin-",X=ie.createElement("div"),Ot={},Ct={},Ke={};var Nt=e=>Object.entries(e).forEach(([t,r])=>Ot["@"+t]=r),me={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","text-shadow":"px","@media":"px"},Ae=Array.from(Object.keys(X.style.hasOwnProperty("width")?X.style:Object.getPrototypeOf(X.style)).reduce((e,t)=>(e.add(t.match(ur)?"-"+pe(t):pe(t)),e),new Set(["float"]))),cr=Object.assign(Ae.reduce(He,{}),At.reduce(He,{})),Je=Ae.reduce((e,t)=>{let r=t.match(/-(ms|o|webkit|moz)-/g);if(r){let n=t.replace(/-(ms|o|webkit|moz)-/,"");Ae.indexOf(n)===-1&&(n==="flexDirection"&&(e.flex="-"+r[1].toLowerCase()+"-flex"),e[n]=t)}return e},{}),Qe=new Map,fr=q||typeof b<"u"&&b.CSS&&CSS.supports("color","var(--support-test)"),hr=["perspective","blur","drop-shadow","inset","polygon"],pr=e=>e.indexOf("translate")===0||hr.indexOf(e)>-1,gr=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,We=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,Pt=e=>e>=48&&e<=57||e===46,dr=e=>e>=65&&e<=90||e>=97&&e<=122,Lt=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,yr=e=>e===34||e===39,Et=e=>e===32||e===58||e===9,br=e=>e===59||e===10||e===125,tt=e=>e===38||e===58||e===64||e===91,mr=e=>e===59||e===125,rt=e=>e[e.length-1],N=[],Y=[],V=-1,m=-1,v=-1,te=-1,Ce=-1,G=-1,h=-1,x=-1,H=-1,Tt=-1,I=-1,P="",Ze="",A="",z="&",$="",re="",Se="",S="",Xe="",Ye="",ne="",W="",g="",C="",kt="",E=null,wt=!0,Ee=!1,xe=!1,_e=!0,et=!1,B=0;function nt(e){return cr[e]||e}function jt(e,t,r){return(e?";":"")+(Ee?t:Sr(t))+":"+r}function Sr(e){return Ct[e]||(Ct[e]=Pr(nt(e)))}function Ar(e){return e.replace(/,\s*[:[]?/g,t=>tt(t.charCodeAt(t.length-1))?",&"+rt(t):",& ")}function ke(e,t){if(wt&&(M&&ie.head&&ie.head.appendChild(M),wt=!1),M&&M.sheet)try{M.sheet.insertRule(e,t??M.sheet.cssRules.length)}catch(r){console.error("Insert rule error:",r,e)}}function it([e,...t],r,n=0,i){if(Qe.has(e))return{...Qe.get(e),args:t};let s={};Ye=ne=W=S=C=A="",N.length=Y.length=B=0,x=m=Tt=Ce=I=-1,E=i?{}:null,et=!1,xe=!1,_e=!0,g=e[0];for(let a=0;a<e.length;a++)if(E?vt(0,a===e.length-1):Cr(e,a,t,r),g=e[a+1],a<t.length){if(fr&&m>=0){let l=e[a].slice(m);P=Ge+Math.abs(B).toString(31),s[kt="--"+P+a]={property:A,unit:qt(A,rt(Y)),index:a},C+=l+"var("+kt+")"}else t[a]&&(g=t[a]+g),_e=!1;m=0}if(et)if(i)Object.entries(E).forEach(([a,l])=>{ke(a.replace(/&\s+/g,"").replace(/{&$/,"")+"{"+l+"}")});else{P=Ge+Math.abs(B).toString(31),W+=(W?" ":"")+P,Ze="";for(let a=0;a<n;a++)Ze+="."+P;Object.entries(E).forEach(([a,l])=>{ke(a.replace(/&/g,(tt(a.charCodeAt(0))?"."+P:"")+"."+P+Ze)+"{"+l+"}")})}let o={name:Ye,classes:W,id:ne,args:t,vars:s,parent:r};return _e&&Qe.set(e,o),o}function Cr(e,t,r,n){for(let i=0;i<=g.length;i++)if(h=g.charCodeAt(i),i<g.length&&(B=Math.imul(31,B)+h|0),xe){if(We(h)){E={},vt(i++,t===e.length-1);break}}else!We(h)||i===g.length?(W=(v!==-1?g.slice(v+1,i).replace(/\./g," "):"")+W+(n?" "+n.classes:""),ne===""&&(ne=(te!==-1?g.slice(te,v===-1?i:v):"")||(n?n.id:null)),Ye=g.slice(0,ne?te-1:v!==-1?v:i)||n&&n.name,te=v=-1,xe=!0):h===35?te=i+1:v===-1&&h===46&&(v=i)}function Er(e){return Ot[e]||e}function vt(e,t){for(let r=e;r<=g.length;r++)h=g.charCodeAt(r),r<g.length&&(B=Math.imul(31,B)+h|0),G===-1&&m>=0&&(Ee?mr(h):br(h)||t&&r===g.length)&&kr(r),G!==-1?G===h&&g.charCodeAt(r-1)!==92&&(G=-1):G===-1&&yr(h)?(G=h,m===-1&&(m=r)):h===123?wr(r):h===125||t&&r===g.length?Or():r!==g.length&&V===-1&&We(h)?(V=r,Ce=h):!A&&V>=0&&Et(h)?(A=g.slice(V,r),Ee=h===58):m===-1&&A&&!Et(h)?(m=r,Pt(h)?H=r:h===36&&(I=r)):m!==-1?Vt(r):(h===9||h===32)&&(x=r+1)}function kr(e){H>-1&&!Lt(h)?Ft(e):I>-1&&Rt(e),A==="@import"?ke(A+" "+g.slice(m,e)+";",0):S+=jt(S,A,C+g.slice(m,e)),et=!0,V=m=-1,Ee=!1,A=C=""}function wr(e){A==="animation"?(S&&(E[z||"&"]=S),re=C+g.slice(m,e).trim(),Xe=C="",S=""):re?(Se=g.slice(V,e).trim(),S=""):(S&&(E[z||"&"]=S),$=(Ce===64?Er(A)+(C||"")+g.slice(m-1,e):g.slice(V,e)).trim(),$.indexOf(",")!==-1&&($=Ar($)),C=A="",N.push((tt(Ce)?"":" ")+($==="@font-face"?Array(++Tt+1).join(" "):"")+$),z=Ut(N),S=E[z||"&"]||""),V=m=-1,A=""}function Or(){Se?(Xe+=Se+"{"+S+"}",Se=S=""):re?(S=E[z||"&"]||"",P=Ge+Math.abs(B).toString(31),ke("@keyframes "+P+"{"+Xe+"}"),S+=jt(S,"animation",re+" "+P),re=""):(N.pop(),N.length&&N[0].indexOf("@keyframes")===0?E[N[0]]=(E[N[0]]||"")+$+"{"+S+"}":S&&(E[z||"&"]=S+N.map(e=>e.charCodeAt(0)===64?"}":"").join("")),z=Ut(N),S=E[z||"&"]||""),V=m=-1,A=""}function Vt(e){Pt(h)?H===-1&&(H=e):H>-1?Ft(e):I>-1&&Rt(e),h===40?Y.push(g.slice(Math.max(x,m),e)):h===41?Y.pop():h===9||h===32?x=e+1:h===36&&(I=e)}function Rt(e){dr(h)||(C=C+g.slice(m,I)+"var(--"+g.slice(I+1,e)+")",m=e,I=-1)}function Ft(e){!Lt(h)&&g.charCodeAt(x)!==35&&(C=C+g.slice(m,e)+qt(A,rt(Y)),m=e),H=-1}function qt(e,t=""){e=nt(e);let r=e+","+t;return r in Ke?Ke[r]:Ke[r]=t&&pr(t)?"px":gr(t)?"deg":t?"":Nr(e)}function we(e,{property:t,unit:r}){if(!e&&e!==0)return"";if(y(e)&&(e=e()),typeof e=="number")return e+r;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";g=e,C="",m=0,H=x=-1,Y.length=0,A=t;for(let n=0;n<=e.length;n++)h=e.charCodeAt(n),Vt(n);return C+e.slice(m)}function Ut(e){let t="",r="";return e.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?t+=n+"{":r+=n),t+(r==="@font-face"||r===":root"?"":"&")+r}function Nr(e){if(e=nt(e),ze(e)||e in me)return me[e];try{return X.style[e]="1px",X.style.setProperty(e,"1px"),me[e]=X.style[e].slice(-3)==="1px"?"px":""}catch{return me[e]=""}}function Pr(e){if(Ae.indexOf(e)===-1){if(Je[e])return console.log(e,"prefixed to",Je[e]),Je[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}function st(e,t){let r=URLSearchParams,n=t.search,i=new r(n),s={replace:l=>(i=new r(l),a())};for(let l in r.prototype)s[l]=(...c)=>{let u=o()[l](...c);return a(),u};return s;function o(){return n===t.search?i:(n=t.search,i=new r(n))}function a(){b.history.pushState(b.history.state,null,t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var Mt=!1,zt={};function se(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function It(e){return e.split(/(?=\/)/)}function Lr(e,t){return e.reduce((r,n,i)=>r+(n==="404"?1:n===t[i]?6:n&&t[i]&&n.toLowerCase()===t[i].toLowerCase()?5:n[1]===":"&&t[i]&&t[i].length>1?4:n==="/"&&!t[i]?3:n==="*"||n==="/*"?2:-1/0),0)}function Tr(e,t){return e.reduce((r,n,i)=>(n[1]===":"&&(r[n.slice(2)]=decodeURIComponent(t[i].slice(1))),r),{})}function Bt(e,t,r){return y(e)?e(t,[],r):e}function Oe(e,t,r){let n=r.location,i=e(({route:c,...u},[d],f)=>(f.route=c,()=>typeof d=="string"?import((d[0]==="/"?"":c)+d).then(O=>Bt(O.default,u,f)):Bt(d,u,f)));return l.query=st(e,r.location),l.toString=l,l.has=c=>c==="/"?s(n)===t||s(n)==="/"&&t==="":s(n).indexOf(se(t+"/"+c))===0,Object.defineProperty(l,"path",{get(){let c=s(n),u=c.indexOf("/",t.length+1);return u===-1?c:c.slice(0,u)}}),l;function s(c,u=0){return(e.pathmode[0]==="#"?c.hash.slice(e.pathmode.length+u):e.pathmode[0]==="?"?c.search.slice(e.pathmode.length+u):c.pathname.slice(e.pathmode+u)).replace(/(.)\/$/,"$1")}function o(c,{state:u,replace:d=!1,scroll:f=a(c)}={}){c!==s(n)&&(e.pathmode[0]==="#"?b.location.hash=e.pathmode+c:e.pathmode[0]==="?"?b.location.search=e.pathmode+c:b.history[d?"replaceState":"pushState"](u,null,e.pathmode+c),zt[c]=u,e.redraw(),f&&scrollTo(0,0))}function a(c){return c.split("/")[1]!==l.path.split("/")[1]}function l(c,u={}){if(typeof c>"u")return t+"/";if(typeof c=="string")return o(se(c[0]==="/"?c:"/"+c),u);Mt||(Mt=!0,e.pathmode[0]==="#"?b.addEventListener("hashchange",e.redraw,{passive:!0}):y(b.history.pushState)&&b.addEventListener("popstate",e.redraw,{passive:!0}));let d=s(n,t.length),f=It(d),[,O,Q]=Object.entries(c).reduce((F,[w,j])=>{w=It(se(w));let Z=Lr(w,f);return Z>F[0]?[Z,w,j]:F},[0]),T=t+(O&&O[0]!=="*"?O.map((F,w)=>f[w]).join(""):"");(Q===void 0||O==="404")&&r.status(404);let R=Oe(e,T.replace(/\/$/,""),r);return R.parent=l,R.root=l.parent?l.parent.root:l,i({key:T||"/",route:R,...t+d===T&&zt[t+d]||{},...Tr(O||[],f)},Q)}}var L=b.document,Dt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function p(...e){let t=typeof e[0];return t==="string"?ct(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Zt(ct,Me(e[0])?Qt(e):t==="function"?new k(Re,e):new k(Re,[e[1],e[0]]))}function ct(...e){return Me(e[0])?Zt(ct,Qt(e,this)):qr(e,this)}function Qt(e,t){let r=t?t.level+1:0;return new k(t&&t.inline,t&&t.component,it(e,t&&t.tag,r),r)}function Zt(e,t){let r=e.bind(t);return r[qe]=!0,r}var Te=new WeakSet,_t=new Map,ft=Symbol("deferrable"),oe=Symbol("observable"),Le=Symbol("component"),ht=Symbol("event"),le=Symbol("array"),Ne=Symbol("live"),$t=Symbol("size"),je=Symbol("life"),ve=Symbol("attr"),at=Symbol("keys"),Gt=Symbol("key"),qe=Symbol("s"),pt=!0,Ve=[],Re=!1;p.sleep=(e,...t)=>new Promise(r=>setTimeout(r,e,...t));p.with=(e,t)=>t(e);p.isServer=q;p.pathmode="";p.redraw=ue;p.mount=Mr;p.css=(...e)=>it(e,null,0,!0);p.animate=Rr;p.http=U;p.http.redraw=!p.isServer&&ue;p.medias=Nt;p.live=_;p.on=Vr;p.trust=vr;p.route=Oe(p,"",{location:b.location});p.window=b;p.error=p(e=>{q?console.error(e):Promise.resolve().then(()=>{throw e});let t=jr(e.stack);return()=>p`pre;all initial;d block;ws pre-wrap;m 0;c white;bc #ff0033;p 8 12;br 6;overflow auto`(p`code`(""+e,t.map(({name:r,file:n,line:i,col:s})=>p` o 0.75`("    at ",r&&r+" ",p`a c white`({href:n,target:"_BLANK"},n+":"+i+":"+s))),typeof e=="object"&&JSON.stringify(e,null,2).replace(/"([a-z]\w+)":/ig,"$1:")))});function jr(e){return e.split(`
`).reduce((t,r)=>(r=r.match(/( +at )?(.*)[@\(](.+):([0-9]+):([0-9]+)/),r&&t.push({name:r[2].trim(),file:r[3].replace(location.origin,""),line:parseInt(r[4]),col:parseInt(r[5])}),t),[])}function vr(e,...t){return p(()=>{let r=L.createElement("div");r.innerHTML=String.raw({raw:e},...t);let n=[...r.childNodes];return()=>n})}function Vr(e,t,r,n){return()=>{let i=s=>nr(r,s);return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}}function Rr(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),r=>r&&new Promise(n=>{let i=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(i=!0,t(n)),{once:!0,passive:!0}),sn(()=>i?t(n):n())});function t(r){e.addEventListener("transitionend",r,{once:!0,passive:!0}),e.addEventListener("transitioncancel",r,{once:!0,passive:!0})}}function Fr(e,t){e.addEventListener("click",r=>{if(!r.defaultPrevented&&(r.button===0||r.which===0||r.which===1)&&(!r.currentTarget.target||r.currentTarget.target==="_self")&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey){r.preventDefault();let n=e[ve].state;t(e.getAttribute("href"),{state:n})}})}function qr(e,t){let r=Ur(e&&e[0]);return new k(t.inline,t.component,t.tag,t?t.level+1:0,r?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Ur(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof k)&&!(e instanceof b.Node)}function Mr(e,t,r={},n={}){if(y(t)||(n=r||{},r=t||{},t=e,e=L.body),!(t instanceof k)&&(t=p(t)),"location"in n||(n.location=b.location),"error"in n||(n.error=p.error),q)return{view:t,attrs:r,context:n};n.title=p.live(L.title,i=>L.title=i),n.status=n.head=n.headers=ge,n.hydrating=zr(e.firstChild),n.route=Oe(p,"",n),_t.set(e,{view:t,attrs:r,context:n}),Wt({view:t,attrs:r,context:n},e)}function zr(e){return e&&e.nodeType===8&&e.nodeValue==="h"&&(e.remove(),!0)}function ue(){pt&&(requestAnimationFrame(Ir),pt=!1)}function Ir(){_t.forEach(Wt),pt=!0}function Wt({view:e,attrs:t,context:r},n){Re=!0;try{let i=e(t,[],r);ce(n,Be(i),r)}catch(i){t.error=i,ce(n,Be(r.error(t,[],r)),r)}Re=!1,Ve.forEach(i=>i()),Ve=[]}function ce(e,t,r,n,i=e.lastChild){let s=t[0]&&t[0].key!==void 0&&new Array(t.length),o=Ht(n,e),a=o&&at in o,l=i?i.nextSibling:null;s&&(s.rev={})&&a?Dr(e,r,o[at],t,s,l):Br(e,r,t,s,o,l);let c=Ht(n,e);return s&&(c[at]=s),K(c,l&&l.previousSibling||e.lastChild)}function Ht(e,t){let r=e?e.nextSibling:t.firstChild;for(;Te.has(r);)r=r.nextSibling;return r}function ae(e,t,r,n){e[n]={dom:t,key:r},e.rev[r]=n}function Br(e,t,r,n,i,s=null){let o=0,a,l;for(;o<r.length;)(i===null||!Te.has(i))&&(l=r[o],a=i!==s?fe(i,l,t,e):fe(null,l,t),i===s&&e.insertBefore(a.dom,s),n&&ae(n,a.first,l.key,o),i=a.last,o++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=J(i,e)));for(;i&&i!==s;)i=J(i,e)}function Dr(e,t,r,n,i,s){let o=r.rev,a=r.length-1,l=n.length-1,c=r[a],u=n[l],d=-1;e:for(;;){for(;c.key===u.key;){if(s=ee(c.dom,u,t,e).first,ae(i,s,u.key,l),delete o[u.key],l===0)break e;if(a===0){u=n[--l];break}c=r[--a],u=n[--l]}if(u.key in o){if(d=o[u.key],d>l)d=ee(r[d].dom,u,t,e),ot(e,d,s),s=d.first,ae(i,s,u.key,l);else if(d!==l)d=ee(r[d].dom,u,t,e),ot(e,d,s),s=d.first,ae(i,s,u.key,l);else{c=r[--a];continue}if(delete o[u.key],l===0)break;u=n[--l]}else{if(d=ee(null,u,t),ot(e,d,s),s=d.first,ae(i,s,u.key,l),l===0)break;u=n[--l]}}for(let f in o)J(r[o[f]].dom,e)}function ot(e,{first:t,last:r},n){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,n)!==r)}function fe(e,t,r,n,i,s){return D(t)?$r(e,t,r,n,i,s):y(t)?fe(e,t(),r,n,i,s):t instanceof k?ee(e,t,r,n,i,s):t instanceof Promise?ee(e,p(()=>t)(),r,n,i,s):Array.isArray(t)?Yt(e,t,r,n,s):t instanceof Node?K(t):xt(e,t,n,s)}function ee(e,t,r,n,i,s){return t.component?yt(e,t,r,n,i,s):Jr(e,t,r,n,s)}function $r(e,t,r,n){if(e&&Ne in e&&e[Ne]===t)return e[Ne];let i;return s(t.value),t.observe(s),i;function s(o){i=fe(e,o,r,n||e&&e.parentNode),i.first[Ne]=i,e=i.first}}function K(e,t=e,r=t){return{dom:e,first:t,last:r}}function Hr(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function Kr(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&Hr(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[le]=t),t}function Xt(e){return e&&le in e?e[le]:Kr(e)}function Yt(e,t,r,n,i){i&&e&&n&&(e=Yt(e,[],r,n).first);let s=Xt(e)||e,o=xt(e,"["+t.length,n,!1,8);if(n){let a=s?s.nextSibling:null;ce(n,t,r,o.first,s);let l=a?a.previousSibling:n.lastChild;return s!==l&&(o.first[le]=l),K(o.dom,o.first,l)}return n=new DocumentFragment,n.appendChild(o.dom),ce(n,t,r,o.first,s),o.first[le]=n.lastChild,K(n,o.first,n.lastChild)}function xt(e,t,r,n,i=typeof t=="boolean"||t==null?8:3){let s=n||!e||e.nodeType!==i;return s&&ir(e,e=i===8?L.createComment(t):L.createTextNode(t),r),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),K(e)}function Jr(e,t,r,n,i=e===null||Zr(e,t)){let s=r.NS;t.attrs.xmlns||Dt[t.tag.name]&&(r.NS=t.attrs.xmlns||Dt[t.tag.name]),i&&ir(e,e=_r(t,r),n);let o=t.children&&t.children.length;return Yr(e,t,r,i),o?ce(e,t.children,r):e[$t]&&Qr(e.firstChild,e),e[$t]=o,r.NS=s,"key"in t&&(e[Gt]=t.key),K(e)}function Qr(e,t){for(;e;)e=J(e,t)}function Zr(e,t){return e[Gt]!==t.key||e.nodeName.toUpperCase()!==(t.tag.name||"div").toUpperCase()}function _r(e,t){let r=e.attrs.is;return t.NS?r?L.createElementNS(t.NS,e.tag.name,{is:r}):L.createElementNS(t.NS,e.tag.name):r?L.createElement(e.tag.name||"DIV",{is:r}):L.createElement(e.tag.name||"DIV")}var gt=class{constructor(t,r,n,i,s,o){this.init=t,this.id=r,this.key=void 0,this.view=n,this.error=i,this.caught=void 0,this.loading=s,this.hydrating=o}},dt=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t){if(this.i>=this.xs.length)return!0;let r=this.xs[this.i];return r.key!==t.key||r.init&&r.init!==t.component[0]}add(t,r,n){let[i,s]=t.component,o=new gt(t.inline?!1:i,b.count=(b.count||0)+1,i,s&&s.error||r.error,s&&s.loading||r.loading,r.hydrating);o.context=Object.create(r,{onremove:{value:l=>this.life.push(()=>l)},redraw:{value:()=>{yt(this.dom.first,t,r,n,this,!1,!0)}},reload:{value:()=>{yt(this.dom.first,t,r,n,this,!0)}},ignore:{value:l=>o.ignore=l}});let a=er(!0,o,t,o.context,this);return o.promise=a&&y(a.then)&&a,o.stateful=o.promise||y(a)&&!a[qe],o.view=o.promise?o.loading:a,this.xs.length=this.i,this.xs[this.i]=o,this.xs[this.top=this.i++]}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}cut(){return this.xs.length=this.top=this.i}};function Gr(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return K(e,e,t)}function Wr(e,t){e.first.nextSibling[Le]=t,e.first.remove(),e.last&&e.last.remove()}function yt(e,t,r,n,i=e&&e[Le]||new dt,s=i.changed(t),o=!1){let a=s?i.add(t,r,n):i.next();if(!s&&!o&&a.ignore)return i.pop(),i.dom;t.key&&s&&(a.key=t.key);let l=a.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97;if(l)a.next=Gr(e);else{let u=er(s,a,t,a.context,i);u&&u[qe]&&(u=u()),a.next=fe(e,!a.caught&&!a.promise&&u instanceof k?Xr(u,t):u,a.context,n,i,(s||a.recreate)&&!a.hydrating?!0:void 0),a.hydrating&&(a.hydrating=!1),a.recreate&&(a.recreate=!1)}s&&a.promise&&a.promise.then(u=>a.view="default"in u?u.default:u).catch(u=>{a.caught=u,a.view=a.error.bind(a.error,u)}).then(()=>a.next.first[Le]&&(l&&Wr(a.next,i),a.recreate=!0,a.promise=!1,ue()));let c=e!==a.next.first;return i.pop()&&(c||s)&&(i.dom=a.next,a.next.first[Le]=i,!a.promise&&tr(a.next.first,t.attrs,t.children,a.context,i.life)),a.next}function er(e,t,r,n,i){try{return Kt(e,t,r,n)}catch(s){return t.caught=s,t.view=t.error.bind(t.error,s),i.cut(),Kt(e,t,r,n)}}function Kt(e,t,r,n){return t.stateful||e?y(t.view)&&!t.view[qe]?t.view(r.attrs,r.children,n):t.view:r.component[0](r.attrs,r.children,n)}function Xr(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function Yr(e,t,r){let n=t.tag,i=e[ve],s=!i;!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(s&&t.tag.classes||t.attrs.class!==(i&&i.class)||t.attrs.className!==(i&&i.className)||e.className!==t.tag.classes)&&ut(e,t,r),s&&lt(e,t.attrs.class,()=>ut(e,t,r)),s&&lt(e,t.attrs.className,()=>ut(e,t,r)),t.attrs.type!=null&&Fe(e,"type",t.attrs.type,r);for(let a in t.attrs)if(Ie(a))a==="deferrable"&&(e[ft]=t.attrs[a]);else if(!i||i[a]!==t.attrs[a]){let l=t.attrs[a];s&&lt(e,l,c=>Fe(e,a,c,r)),en(e,r,t.attrs,a,i&&i[a],l)}if(i)for(let a in i)a in t.attrs||(Ue(a)?rr(e,a):Ie(a)?a==="deferrable"&&(e[ft]=!1):e.removeAttribute(a));let o=xr(e,t.attrs.style,i&&i.style);if(t.tag)for(Jt(e,t.tag.vars,t.tag.args,s,o);n=n.parent;)Jt(e,n.vars,n.args,s,o);s&&t.attrs.dom&&tr(e,t.attrs,t.children,r,t.attrs.dom),e[ve]=t.attrs}function xr(e,t,r){if(r!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(r==null||typeof r!="object"){e.style.cssText="";for(let n in t){let i=t[n];i!=null&&e.style.setProperty(de(n),i+"")}return!0}for(let n in t){let i=t[n];i!=null&&(i=i+"")!=r[n]+""&&e.style.setProperty(de(n),i)}for(let n in r)r[n]!=null&&t[n]==null&&e.style.removeProperty(de(n));return!0}}function lt(e,t,r){if(!D(t))return;let n=oe in e,i=n?e[oe]:new Set;n||(e[oe]=i),i.add(t.observe(r))}function ut(e,t,r){let n=St(t);n?r.NS?e.setAttribute("class",n):e.className=n:e.removeAttribute("class")}function Jt(e,t,r,n,i){for(let s in t){let o=t[s],a=r[o.index];bt(e,s,a,o,n,i)}}function bt(e,t,r,n,i,s,o){if(D(r)){i&&r.observe(a=>e.style.setProperty(t,we(a,n))),(i||s)&&bt(e,t,r.value,n,i,i);return}if(y(r)){requestAnimationFrame(()=>bt(e,t,r(e),n,i,s,o));return}e.style.setProperty(t,we(r,n)),o&&Ve.push(()=>e.style.setProperty(t,we(r,n)))}function tr(e,t,r,n,i){Ve.push(()=>{i=[].concat(i).map(s=>y(s)&&s(e,t,r,n)).filter(s=>y(s)),i.length&&(e[je]=(e[je]||[]).concat(i))})}function en(e,t,r,n,i,s){if(i===s)return;n==="href"&&s&&!String(s).match(/^([a-z]+:|\/\/)/)&&(s=p.pathmode+se(s),Fr(e,t.route));let o=Ue(n);o&&typeof i==typeof s||(o?s?tn(e,r,n):rr(e,n):Fe(e,n,s,t))}function Fe(e,t,r,n){if(y(r))return Fe(e,t,r(),n);!n.NS&&t in e?e[t]=r:mt(r)?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r)}function rr(e,t){e.removeEventListener(t.slice(2),e[ht])}function tn(e,t,r){e.addEventListener(r.slice(2),e[ht]||(e[ht]=rn(e)))}function rn(e){return{handleEvent:t=>nr(e[ve]["on"+t.type],t)}}function nr(e,t){let r=y(e)?e.call(t.currentTarget,t):y(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!D(r)&&!D(e)&&ue(),r&&y(r.then)&&r.then(ue)}function ir(e,t,r){if(!!r)return e&&(r.insertBefore(t,e),J(e,r)),t}function nn(e,t,r,n,i){let s=Xt(e);if(!s||e===s)return e.nextSibling;let o=s.nextSibling;if(e=e.nextSibling,!e)return o;do e=J(e,t,r,n,i);while(e&&e!==o);return o}function Pe(e,t){oe in t&&t[oe].forEach(r=>r()),e.removeChild(t)}function J(e,t,r=!0,n=[],i=!1){let s=e.nextSibling;if(Te.has(e))return s;if(e.nodeType===8)if(e.nodeValue.charCodeAt(0)===97){if(s=e.nextSibling,Pe(t,e),!s)return s;e=s,s=e.nextSibling}else e.nodeValue.charCodeAt(0)===91&&(s=nn(e,t,r,n,i));if(e.nodeType!==1)return r&&Pe(t,e),s;if(je in e)for(let a of e[je])try{let l=a(i||r);(i||r)&&l&&y(l.then)&&n.push(l)}catch(l){console.error(l)}!i&&(i=e[ft]||!1);let o=e.firstChild;for(;o;)J(o,e,!1,n,i),o=o.nextSibling;return r&&(n.length===0?Pe(t,e):(Te.add(e),Promise.allSettled(n).then(()=>Pe(t,e)))),s}function sn(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{p as default};
