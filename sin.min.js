var w=class{constructor(t,r,n=null,i=0,s=null,l=null){this.level=i,this.component=r,this.inline=t,this.tag=n,this.attrs=s,this.key=s?s.key:void 0,this.dom=null,this.children=l}};var F=typeof window>"u"||typeof window.document>"u";function St(e){return!e&&e!==0&&e!==""}function he(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function B(e){return e&&y(e.observe)}function y(e){return typeof e=="function"}function qe(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function Me(e){return e&&Array.isArray(e.raw)}function De(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function ze(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function mt(e){return(ce(e.attrs.class)+ce(e.attrs.className)+e.tag.classes).trim()}function Be(e){return Array.isArray(e)?e:[e]}function pe(){}function ge(e){return De(e)||(e==="cssFloat"?"float":he(e))}function ce(e){return B(e)?ce(e.value):y(e)?ce(e()):e?typeof e=="object"?ar(e):e+" ":""}function ar(e){let t="";for(let r in e)t+=(t?" ":"")+(e[r]||"");return t}typeof globalThis>"u"&&(window.globalThis=window);var S=F?{}:window;["head","get","put","post","delete","patch"].forEach(e=>U[e]=function(t,r={}){return r.method=e,U(t,r)});U.redraw=()=>{};var de="application/json",ye=e=>e,lr=e=>JSON.stringify(e),or=e=>JSON.parse(e),ur=typeof Uint8Array>"u"?[]:[Object.getPrototypeOf(Uint8Array)],fr="Blob ArrayBuffer DataView FormData URLSearchParams".split(" ").map(e=>globalThis[e]).filter(e=>e).concat(ur);function U(e,{method:t="GET",redraw:r=!0,responseType:n,query:i,body:s,user:l,pass:a,headers:o={},config:u,timeout:f=0,parse:g=ye,serialize:C=ye}={}){let c=new S.XMLHttpRequest;return new Promise((K,R)=>{t=t.toUpperCase(),c.addEventListener("readystatechange",async function(){if(c.readyState===c.DONE){try{c.body=await g(c.response,c),c.status===304||c.status>=200&&c.status<300?K(c):R(Ie(c))}catch(E){R(E)}r&&U.redraw&&U.redraw()}}),c.addEventListener("error",()=>R(Ie(c))),c.addEventListener("abort",()=>R(Ie(c))),c.open(t,cr(e,i),!0,l,a),c.timeout=f,n&&(c.responseType=n);let T=!1,V=!1;Object.entries(o).forEach(([E,Y])=>{c.setRequestHeader(E,Y),E.toLowerCase()==="accept"&&(T=Y),E.toLowerCase()==="content-type"&&(V=Y)}),!T&&!n&&c.setRequestHeader("Accept",T=de),T&&T.indexOf(de)===0&&g===ye&&(g=or),!V&&s!==void 0&&!fr.some(E=>s instanceof E)&&c.setRequestHeader("Content-Type",V=de),V&&s!==void 0&&V.indexOf(de)===0&&C===ye&&(C=lr),u&&u(c),s===null?c.send():c.send(C(s,c))}).catch(K=>(c.error=K,c))}function Ie(e){return new Error(e.status+(e.statusText?" "+e.statusText:""))}function cr(e,t){let r=new URL(e,"http://x"),n=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+r.search+(n?(r.search?"&":"?")+n:"")+(r.hash||"")}var be=class{constructor(t,r){this.live=t,this.transform=r}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(r=>t(this.transform(r)))}};function Q(e,t){let r=new Set;return y(t)&&r.add(t),n.observe=l=>(r.add(l),()=>r.delete(l)),n.valueOf=n.toString=n.toJSON=()=>e,n.detach=pe,n.reduce=s,n.set=l=>(...a)=>(n(y(l)?l(...a):l),n),n.get=l=>new be(n,a=>y(l)?l(a):a[l]),n.if=(l,a=!0,o=!1)=>new be(n,u=>u===l?a:o),Object.defineProperty(n,"value",{get:()=>e,set:i});function n(l){return arguments.length&&i(l),e}function i(l){l!==e&&(e=l,r.forEach(async a=>a(l)))}function s(l,a){let o=1,u=Q(arguments.length>1?l(a,e,o++):e);return n.observe(f=>u.value=l(u.value,f,o++)),u}}Q.from=function(...e){let t=e.pop(),r=Q(t(...e.map(He))),n=e.map(i=>i.observe(()=>r(t(...e.map(He)))));return r.detach=()=>n.forEach(He),r};function He(e){return e()}var $e=(e,t)=>(e[t.split("-").map(r=>r[0]).join("")]=t,e),At=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","pointer-events","right","top","text-align","text-decoration","text-transform","text-shadow","user-select","white-space","width","z-index"];var re=S.document,q=re.querySelector("style.sin")||re.createElement("style"),hr=/^(ms|moz|webkit)[-A-Z]/i,We=q&&q.getAttribute("id")||"sin-",W=re.createElement("div"),wt={},Ct={},Je={};var Nt=e=>Object.entries(e).forEach(([t,r])=>wt["@"+t]=r),Se={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","text-shadow":"px","@media":"px"},Ae=Array.from(Object.keys(W.style.hasOwnProperty("width")?W.style:Object.getPrototypeOf(W.style)).reduce((e,t)=>(e.add(t.match(hr)?"-"+he(t):he(t)),e),new Set(["float"]))),pr=Object.assign(Ae.reduce($e,{}),At.reduce($e,{})),Ke=Ae.reduce((e,t)=>{let r=t.match(/-(ms|o|webkit|moz)-/g);if(r){let n=t.replace(/-(ms|o|webkit|moz)-/,"");Ae.indexOf(n)===-1&&(n==="flexDirection"&&(e.flex="-"+r[1].toLowerCase()+"-flex"),e[n]=t)}return e},{}),Qe=new Map,gr=F||typeof S<"u"&&S.CSS&&CSS.supports("color","var(--support-test)"),dr=["perspective","blur","drop-shadow","inset","polygon"],yr=e=>e.indexOf("translate")===0||dr.indexOf(e)>-1,br=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,Xe=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,Lt=e=>e>=48&&e<=57||e===46,Sr=e=>e>=65&&e<=90||e>=97&&e<=122,Pt=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,mr=e=>e===34||e===39,Et=e=>e===32||e===58||e===9,Ar=e=>e===59||e===10||e===125,Tt=e=>e===58||e===64||e===38||e===91,Cr=e=>e===59||e===125,tt=e=>e[e.length-1],N=[],X=[],v=-1,b=-1,j=-1,x=-1,Ce=-1,Z=-1,h=-1,ne=-1,H=-1,Vt=-1,D=-1,L="",Ze="",A="",M="&",I="",ee="",me="",m="",_e="",Ye="",te="",G="",p="",k="",kt="",O=null,Ot=!0,Ee=!1,xe=!1,Ge=!0,et=!1,z=0;function rt(e){return pr[e]||e}function jt(e,t,r){return(e?";":"")+(Ee?t:Er(t))+":"+r}function Er(e){return Ct[e]||(Ct[e]=Vr(rt(e)))}function kr(e){return e.replace(/,\s*[:[]?/g,t=>Tt(t.charCodeAt(t.length-1))?",&"+tt(t):",& ")}function ke(e,t){if(Ot&&(q&&re.head&&re.head.appendChild(q),Ot=!1),q&&q.sheet)try{q.sheet.insertRule(e,t??q.sheet.cssRules.length)}catch(r){console.error("Insert rule error:",r,e)}}function nt([e,...t],r,n=0,i){if(Qe.has(e))return{...Qe.get(e),args:t};let s={};Ye=te=G=m=k=A="",N.length=X.length=z=0,ne=b=Vt=Ce=D=-1,O=i?{}:null,et=!1,xe=!1,Ge=!0,p=e[0];for(let a=0;a<e.length;a++)if(O?vt(0,a===e.length-1):Or(e,a,t,r),p=e[a+1],a<t.length){if(gr&&b>=0){let o=e[a].slice(b);L=We+Math.abs(z).toString(31),s[kt="--"+L+a]={property:A,unit:qt(A,tt(X)),index:a},k+=o+"var("+kt+")"}else t[a]&&(p=t[a]+p),Ge=!1;b=0}if(et)if(i)Object.entries(O).forEach(([a,o])=>{ke(a.replace(/&\s+/g,"").replace(/{&$/,"")+"{"+o+"}")});else{L=We+Math.abs(z).toString(31),G+=(G?" ":"")+L,Ze="";for(let a=0;a<n;a++)Ze+="."+L;Object.entries(O).forEach(([a,o])=>{ke(a.replace(/&/g,(a==="&"?"."+L:"")+"."+L+Ze)+"{"+o+"}")})}let l={name:Ye,classes:G,id:te,args:t,vars:s,parent:r};return Ge&&Qe.set(e,l),l}function Or(e,t,r,n){for(let i=0;i<=p.length;i++)if(h=p.charCodeAt(i),i<p.length&&(z=Math.imul(31,z)+h|0),xe){if(Xe(h)){O={},vt(i++,t===e.length-1);break}}else!Xe(h)||i===p.length?(G=(j!==-1?p.slice(j+1,i).replace(/\./g," "):"")+G+(n?" "+n.classes:""),te===""&&(te=(x!==-1?p.slice(x,j===-1?i:j):"")||(n?n.id:null)),Ye=p.slice(0,te?x-1:j!==-1?j:i)||n&&n.name,x=j=-1,xe=!0):h===35?x=i+1:j===-1&&h===46&&(j=i)}function wr(e){return wt[e]||e}function vt(e,t){for(let r=e;r<=p.length;r++)h=p.charCodeAt(r),r<p.length&&(z=Math.imul(31,z)+h|0),Z===-1&&b>=0&&(Ee?Cr(h):Ar(h)||t&&r===p.length)&&Nr(r),Z!==-1?Z===h&&p.charCodeAt(r-1)!==92&&(Z=-1):Z===-1&&mr(h)?(Z=h,b===-1&&(b=r)):h===123?Lr(r):h===125||t&&r===p.length?Pr():r!==p.length&&v===-1&&Xe(h)?(v=r,Ce=h):!A&&v>=0&&Et(h)?(A=p.slice(v,r),Ee=h===58):b===-1&&A&&!Et(h)?(b=r,Lt(h)?H=r:h===36&&(D=r)):b!==-1&&Rt(r)}function Nr(e){H>-1&&!Pt(h)?Ut(e):D>-1&&Ft(e),A==="@import"?ke(A+" "+p.slice(b,e)+";",0):m+=jt(m,A,k+p.slice(b,e)),et=!0,v=b=-1,Ee=!1,A=k=""}function Lr(e){A==="animation"?(m&&(O[M||"&"]=m),ee=k+p.slice(b,e).trim(),_e=k="",m=""):ee?(me=p.slice(v,e).trim(),m=""):(m&&(O[M||"&"]=m),I=(Ce===64?wr(A)+(k||" ")+p.slice(b,e):p.slice(v,e)).trim(),I.indexOf(",")!==-1&&(I=kr(I)),k=A="",N.push((Tt(Ce)?"":" ")+(I==="@font-face"?Array(++Vt+1).join(" "):"")+I),M=Mt(N),m=O[M||"&"]||""),v=b=-1,A=""}function Pr(){me?(_e+=me+"{"+m+"}",me=m=""):ee?(m=O[M||"&"]||"",L=We+Math.abs(z).toString(31),ke("@keyframes "+L+"{"+_e+"}"),m+=jt(m,"animation",ee+" "+L),ee=""):(N.pop(),N.length&&N[0].indexOf("@keyframes")===0?O[N[0]]=(O[N[0]]||"")+I+"{"+m+"}":m&&(O[M||"&"]=m+N.map(e=>e.charCodeAt(0)===64?"}":"").join("")),M=Mt(N),m=O[M||"&"]||""),v=b=-1,A=""}function Rt(e){Lt(h)?H===-1&&(H=e):H>-1?Ut(e):D>-1&&Ft(e),h===40?X.push(p.slice(Math.max(ne,b),e)):h===41?X.pop():h===9||h===32?ne=e+1:h===36&&(D=e)}function Ft(e){Sr(h)||(k=k+p.slice(b,D)+"var(--"+p.slice(D+1,e)+")",b=e,D=-1)}function Ut(e){!Pt(h)&&p.charCodeAt(ne)!==35&&(k=k+p.slice(b,e)+qt(A,tt(X)),b=e),H=-1}function qt(e,t=""){e=rt(e);let r=e+","+t;return r in Je?Je[r]:Je[r]=t&&yr(t)?"px":br(t)?"deg":t?"":Tr(e)}function Oe(e,{property:t,unit:r}){if(!e&&e!==0)return"";if(y(e)&&(e=e()),typeof e=="number")return e+r;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";p=e,k="",b=0,H=ne=-1,X.length=0,A=t;for(let n=0;n<=e.length;n++)h=e.charCodeAt(n),Rt(n);return k+e.slice(b)}function Mt(e){let t="",r="";return e.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?t+=n+"{":r+=n),t+(r==="@font-face"||r===":root"?"":"&")+r}function Tr(e){if(e=rt(e),De(e)||e in Se)return Se[e];try{return W.style[e]="1px",W.style.setProperty(e,"1px"),Se[e]=W.style[e].slice(-3)==="1px"?"px":""}catch{return Se[e]=""}}function Vr(e){if(Ae.indexOf(e)===-1){if(Ke[e])return console.log(e,"prefixed to",Ke[e]),Ke[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}function it(e,t){let r=URLSearchParams,n=t.search,i=new r(n),s={replace:o=>(i=new r(o),a())};for(let o in r.prototype)s[o]=(...u)=>(o=l()[o](...u),a(),o);return s;function l(){return n===t.search?i:(n=t.search,i=new r(n))}function a(){S.history.pushState(S.history.state,null,t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var Dt=!1,zt={};function ie(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function Bt(e){return e.split(/(?=\/)/)}function jr(e,t){return e.reduce((r,n,i)=>r+(n==="404"?1:n===t[i]?6:n&&t[i]&&n.toLowerCase()===t[i].toLowerCase()?5:n[1]===":"&&t[i]&&t[i].length>1?4:n==="/"&&!t[i]?3:n==="*"||n==="/*"?2:-1/0),0)}function vr(e,t){return e.reduce((r,n,i)=>(n[1]===":"&&(r[n.slice(2)]=decodeURIComponent(t[i].slice(1))),r),{})}function It(e,t,r){return y(e)?e(t,[],r):e}function we(e,t,r){let n=r.location,i=e(({route:u,...f},[g],C)=>(C.route=u,()=>typeof g=="string"?import((g[0]==="/"?"":u)+g).then(c=>It(c.default,f,C)):It(g,f,C)));return o.query=it(e,r.location),o.toString=o,o.has=u=>u==="/"?s(n)===t||s(n)==="/"&&t==="":s(n).indexOf(ie(t+"/"+u))===0,Object.defineProperty(o,"path",{get(){let u=s(n),f=u.indexOf("/",t.length+1);return f===-1?u:u.slice(0,f)}}),o;function s(u,f=0){return(e.pathmode[0]==="#"?u.hash.slice(e.pathmode.length+f):e.pathmode[0]==="?"?u.search.slice(e.pathmode.length+f):u.pathname.slice(e.pathmode+f)).replace(/(.)\/$/,"$1")}function l(u,{state:f,replace:g=!1,scroll:C=a(u)}={}){u!==s(n)&&(e.pathmode[0]==="#"?S.location.hash=e.pathmode+u:e.pathmode[0]==="?"?S.location.search=e.pathmode+u:S.history[g?"replaceState":"pushState"](f,null,e.pathmode+u),zt[u]=f,e.redraw(),C&&scrollTo(0,0))}function a(u){return u.split("/")[1]!==o.path.split("/")[1]}function o(u,f={}){if(typeof u>"u")return t+"/";if(typeof u=="string")return l(ie(u[0]==="/"?u:"/"+u),f);Dt||(Dt=!0,e.pathmode[0]==="#"?S.addEventListener("hashchange",e.redraw,{passive:!0}):y(S.history.pushState)&&S.addEventListener("popstate",e.redraw,{passive:!0}));let g=s(n,t.length),C=Bt(g),[,c,K]=Object.entries(u).reduce((V,[E,Y])=>{E=Bt(ie(E));let bt=jr(E,C);return bt>V[0]?[bt,E,Y]:V},[0]),R=t+(c&&c[0]!=="*"?c.map((V,E)=>C[E]).join(""):"");(K===void 0||c==="404")&&r.status(404);let T=we(e,R.replace(/\/$/,""),r);return T.parent=o,T.root=o.parent?o.parent.root:o,i({key:R||"/",route:T,...t+g===R&&zt[t+g]||{},...vr(c||[],C)},K)}}var P=S.document,Ht={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function d(...e){let t=typeof e[0];return t==="string"?ut(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Gt(ut,Me(e[0])?Zt(e):t==="function"?new w(Re,e):new w(Re,[e[1],e[0]]))}function ut(...e){return Me(e[0])?Gt(ut,Zt(e,this)):Mr(e,this)}function Zt(e,t){let r=t?t.level+1:0;return new w(t&&t.inline,t&&t.component,nt(e,t&&t.tag,r),r)}function Gt(e,t){let r=e.bind(t);return r[Ue]=!0,r}var Te=new WeakSet,Wt=new Map,ft=Symbol("deferrable"),ae=Symbol("observable"),Pe=Symbol("component"),ct=Symbol("event"),le=Symbol("array"),Ne=Symbol("live"),$t=Symbol("size"),Ve=Symbol("life"),je=Symbol("attr"),st=Symbol("keys"),Xt=Symbol("key"),Ue=Symbol("s"),ht=!0,ve=[],Re=!1;d.sleep=(e,...t)=>new Promise(r=>setTimeout(r,e,...t));d.isServer=F;d.pathmode="";d.redraw=oe;d.mount=zr;d.css=(...e)=>nt(e,null,0,!0);d.animate=Ur;d.http=U;d.http.redraw=!d.isServer&&oe;d.medias=Nt;d.live=Q;d.on=Fr;d.trust=Rr;d.route=we(d,"",{location:S.location});d.window=S;d.error=d(e=>(F?console.error(e):Promise.resolve().then(()=>{throw e}),()=>d`pre;all initial;d block;ws pre-wrap;m 0;c white;bc #ff0033;p 8 12;br 6;overflow auto`(d`code`(e&&e.stack||e||new Error("Unknown Error").stack))));function Rr(e,...t){return d(()=>{let r=P.createElement("div");r.innerHTML=String.raw({raw:e},...t);let n=[...r.childNodes];return()=>n})}function Fr(e,t,r,n){return()=>{let i=s=>ir(r,s);return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}}function Ur(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),r=>r&&new Promise(n=>{let i=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(i=!0,t(n)),{once:!0,passive:!0}),ln(()=>i?t(n):n())});function t(r){e.addEventListener("transitionend",r,{once:!0,passive:!0}),e.addEventListener("transitioncancel",r,{once:!0,passive:!0})}}function qr(e,t){e.addEventListener("click",r=>{if(!r.defaultPrevented&&(r.button===0||r.which===0||r.which===1)&&(!r.currentTarget.target||r.currentTarget.target==="_self")&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey){r.preventDefault();let n=e[je].state;t(e.getAttribute("href"),{state:n})}})}function Mr(e,t){let r=Dr(e&&e[0]);return new w(t.inline,t.component,t.tag,t?t.level+1:0,r?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Dr(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof w)}function zr(e,t,r={},n={}){if(y(t)||(n=r||{},r=t||{},t=e,e=P.body),!(t instanceof w)&&(t=d(t)),"location"in n||(n.location=S.location),"error"in n||(n.error=d.error),F)return{view:t,attrs:r,context:n};n.title=d.live(P.title,i=>P.title=i),n.status=n.head=n.headers=pe,n.hydrating=Br(e.firstChild),n.route=we(d,"",n),Wt.set(e,{view:t,attrs:r,context:n}),_t({view:t,attrs:r,context:n},e)}function Br(e){return e&&e.nodeType===8&&e.nodeValue==="h"&&(e.remove(),!0)}function oe(){ht&&(requestAnimationFrame(Ir),ht=!1)}function Ir(){Wt.forEach(_t),ht=!0}function _t({view:e,attrs:t,context:r},n){Re=!0;try{let i=e(t,[],r);ue(n,Be(i),r)}catch(i){t.error=i,ue(n,Be(r.error(t,[],r)),r)}Re=!1,ve.forEach(i=>i()),ve=[]}function ue(e,t,r,n,i=e.lastChild){let s=t[0]&&t[0].key!==void 0&&new Array(t.length),l=Jt(n,e),a=l&&st in l,o=i?i.nextSibling:null;s&&(s.rev={})&&a?$r(e,r,l[st],t,s,o):Hr(e,r,t,s,l,o);let u=Jt(n,e);return s&&(u[st]=s),$(u,o&&o.previousSibling||e.lastChild)}function Jt(e,t){let r=e?e.nextSibling:t.firstChild;for(;Te.has(r);)r=r.nextSibling;return r}function se(e,t,r,n){e[n]={dom:t,key:r},e.rev[r]=n}function Hr(e,t,r,n,i,s=null){let l=0,a,o;for(;l<r.length;)(i===null||!Te.has(i))&&(o=r[l],a=i!==s?fe(i,o,t,e):fe(null,o,t),i===s&&e.insertBefore(a.dom,s),n&&se(n,a.first,o.key,l),i=a.last,l++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=J(i,e)));for(;i&&i!==s;)i=J(i,e)}function $r(e,t,r,n,i,s){let l=r.rev,a=r.length-1,o=n.length-1,u=r[a],f=n[o],g=-1;e:for(;;){for(;u.key===f.key;){if(s=_(u.dom,f,t,e).first,se(i,s,f.key,o),delete l[f.key],o===0)break e;if(a===0){f=n[--o];break}u=r[--a],f=n[--o]}if(f.key in l){if(g=l[f.key],g>o)g=_(r[g].dom,f,t,e),at(e,g,s),s=g.first,se(i,s,f.key,o);else if(g!==o)g=_(r[g].dom,f,t,e),at(e,g,s),s=g.first,se(i,s,f.key,o);else{u=r[--a];continue}if(delete l[f.key],o===0)break;f=n[--o]}else{if(g=_(null,f,t),at(e,g,s),s=g.first,se(i,s,f.key,o),o===0)break;f=n[--o]}}for(let C in l)J(r[l[C]].dom,e)}function at(e,{first:t,last:r},n){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,n)!==r)}function fe(e,t,r,n,i,s){return B(t)?Jr(e,t,r,n,i,s):y(t)?fe(e,t(),r,n,i,s):t instanceof w?_(e,t,r,n,i,s):t instanceof Promise?_(e,d(()=>t)(),r,n,i,s):Array.isArray(t)?xt(e,t,r,n,s):t instanceof Node?$(t):er(e,t,n,s)}function _(e,t,r,n,i,s){return t.component?dt(e,t,r,n,i,s):Zr(e,t,r,n,s)}function Jr(e,t,r,n){if(e&&Ne in e&&e[Ne]===t)return e[Ne];let i;return s(t.value),t.observe(s),i;function s(l){i=fe(e,l,r,n||e&&e.parentNode),i.first[Ne]=i,e=i.first}}function $(e,t=e,r=t){return{dom:e,first:t,last:r}}function Kr(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function Qr(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&Kr(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[le]=t),t}function Yt(e){return e&&le in e?e[le]:Qr(e)}function xt(e,t,r,n,i){i&&e&&n&&(e=xt(e,[],r,n).first);let s=Yt(e)||e,l=er(e,"["+t.length,n,!1,8);if(n){let a=s?s.nextSibling:null;ue(n,t,r,l.first,s);let o=a?a.previousSibling:n.lastChild;return s!==o&&(l.first[le]=o),$(l.dom,l.first,o)}return n=new DocumentFragment,n.appendChild(l.dom),ue(n,t,r,l.first,s),l.first[le]=n.lastChild,$(n,l.first,n.lastChild)}function er(e,t,r,n,i=typeof t=="boolean"||t==null?8:3){let s=n||!e||e.nodeType!==i;return s&&sr(e,e=i===8?P.createComment(t):P.createTextNode(t),r),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),$(e)}function Zr(e,t,r,n,i=e===null||Wr(e,t)){let s=r.NS;t.attrs.xmlns||Ht[t.tag.name]&&(r.NS=t.attrs.xmlns||Ht[t.tag.name]),i&&sr(e,e=Xr(t,r),n);let l=t.children&&t.children.length;return en(e,t,r,i),l?ue(e,t.children,r):e[$t]&&Gr(e.firstChild,e),e[$t]=l,r.NS=s,"key"in t&&(e[Xt]=t.key),$(e)}function Gr(e,t){for(;e;)e=J(e,t)}function Wr(e,t){return e[Xt]!==t.key||e.nodeName.toUpperCase()!==(t.tag.name||"div").toUpperCase()}function Xr(e,t){let r=e.attrs.is;return t.NS?r?P.createElementNS(t.NS,e.tag.name,{is:r}):P.createElementNS(t.NS,e.tag.name):r?P.createElement(e.tag.name||"DIV",{is:r}):P.createElement(e.tag.name||"DIV")}var pt=class{constructor(t,r,n,i,s,l){this.init=t,this.id=r,this.key=void 0,this.view=n,this.error=i,this.loading=s,this.hydrating=l}},gt=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t){if(this.i>=this.xs.length)return!0;let r=this.xs[this.i];return r.key!==t.key||r.init&&r.init!==t.component[0]}add(t,r,n){let[i,s]=t.component,l=new pt(t.inline?!1:i,S.count=(S.count||0)+1,i,s&&s.error||r.error,s&&s.loading||r.loading,r.hydrating);l.context=Object.create(r,{onremove:{value:o=>this.life.push(()=>o)},redraw:{value:()=>{dt(this.dom.first,t,r,n,this,!1,!0)}},reload:{value:()=>{dt(this.dom.first,t,r,n,this,!0)}},ignore:{value:o=>l.ignore=o}});let a=tr(!0,l,t,l.context,this);return l.promise=a&&y(a.then)&&a,l.stateful=l.promise||y(a)&&!a[Ue],l.view=l.promise?l.loading:a,this.xs.length=this.i,this.xs[this.i]=l,this.xs[this.top=this.i++]}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}cut(){return this.xs.length=this.top=this.i}};function _r(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return $(e,e,t)}function Yr(e,t){e.first.nextSibling[Pe]=t,e.first.remove(),e.last&&e.last.remove()}function dt(e,t,r,n,i=e&&e[Pe]||new gt,s=i.changed(t),l=!1){let a=s?i.add(t,r,n):i.next();if(!s&&!l&&a.ignore)return i.pop(),i.dom;t.key&&s&&(a.key=t.key);let o=a.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97;if(o)a.next=_r(e);else{let f=tr(s,a,t,a.context,i);f&&f[Ue]&&(f=f()),a.next=fe(e,!a.error&&!a.promise&&f instanceof w?xr(f,t):f,a.context,n,i,(s||a.recreate)&&!a.hydrating?!0:void 0),a.hydrating&&(a.hydrating=!1),a.recreate&&(a.recreate=!1)}s&&a.promise&&a.promise.then(f=>a.view="default"in f?f.default:f).catch(f=>{a.error=f,a.view=a.error.bind(a.error,f)}).then(()=>a.next.first[Pe]&&(o&&Yr(a.next,i),a.recreate=!0,a.promise=!1,oe()));let u=e!==a.next.first;return i.pop()&&(u||s)&&(i.dom=a.next,a.next.first[Pe]=i,!a.promise&&rr(a.next.first,t.attrs,t.children,a.context,i.life)),a.next}function tr(e,t,r,n,i){try{return Kt(e,t,r,n)}catch(s){return t.error=s,t.view=t.error.bind(t.error,s),i.cut(),Kt(e,t,r,n)}}function Kt(e,t,r,n){return t.stateful||e?y(t.view)&&!t.view[Ue]?t.view(r.attrs,r.children,n):t.view:r.component[0](r.attrs,r.children,n)}function xr(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function en(e,t,r){let n=t.tag,i=e[je],s=!i;!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(s&&t.tag.classes||t.attrs.class!==(i&&i.class)||t.attrs.className!==(i&&i.className)||e.className!==t.tag.classes)&&ot(e,t,r),s&&lt(e,t.attrs.class,()=>ot(e,t,r)),s&&lt(e,t.attrs.className,()=>ot(e,t,r)),t.attrs.type!=null&&Fe(e,"type",t.attrs.type,r);for(let a in t.attrs)if(ze(a))a==="deferrable"&&(e[ft]=t.attrs[a]);else if(!i||i[a]!==t.attrs[a]){let o=t.attrs[a];s&&lt(e,o,u=>Fe(e,a,u,r)),rn(e,r,t.attrs,a,i&&i[a],o)}if(i)for(let a in i)a in t.attrs||(qe(a)?nr(e,a):ze(a)?a==="deferrable"&&(e[ft]=!1):e.removeAttribute(a));let l=tn(e,t.attrs.style,i&&i.style);if(t.tag)for(Qt(e,t.tag.vars,t.tag.args,s,l);n=n.parent;)Qt(e,n.vars,n.args,s,l);s&&t.attrs.dom&&rr(e,t.attrs,t.children,r,t.attrs.dom),e[je]=t.attrs}function tn(e,t,r){if(r!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(r==null||typeof r!="object"){e.style.cssText="";for(let n in t){let i=t[n];i!=null&&e.style.setProperty(ge(n),i+"")}return!0}for(let n in t){let i=t[n];i!=null&&(i=i+"")!=r[n]+""&&e.style.setProperty(ge(n),i)}for(let n in r)r[n]!=null&&t[n]==null&&e.style.removeProperty(ge(n));return!0}}function lt(e,t,r){if(!B(t))return;let n=ae in e,i=n?e[ae]:new Set;n||(e[ae]=i),i.add(t.observe(r))}function ot(e,t,r){let n=mt(t);n?r.NS?e.setAttribute("class",n):e.className=n:e.removeAttribute("class")}function Qt(e,t,r,n,i){for(let s in t){let l=t[s],a=r[l.index];yt(e,s,a,l,n,i)}}function yt(e,t,r,n,i,s,l){if(B(r)){i&&r.observe(a=>e.style.setProperty(t,Oe(a,n))),(i||s)&&yt(e,t,r.value,n,i,i);return}if(y(r))return yt(e,t,r(e),n,i,s,l);e.style.setProperty(t,Oe(r,n)),l&&ve.push(()=>e.style.setProperty(t,Oe(r,n)))}function rr(e,t,r,n,i){ve.push(()=>{i=[].concat(i).map(s=>y(s)&&s(e,t,r,n)).filter(s=>y(s)),i.length&&(e[Ve]=(e[Ve]||[]).concat(i))})}function rn(e,t,r,n,i,s){if(i===s)return;n==="href"&&s&&!String(s).match(/^([a-z]+:|\/\/)/)&&(s=d.pathmode+ie(s),qr(e,t.route));let l=qe(n);l&&typeof i==typeof s||(l?s?nn(e,r,n):nr(e,n):Fe(e,n,s,t))}function Fe(e,t,r,n){if(y(r))return Fe(e,t,r(),n);!n.NS&&t in e?e[t]=r:St(r)?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r)}function nr(e,t){e.removeEventListener(t.slice(2),e[ct])}function nn(e,t,r){e.addEventListener(r.slice(2),e[ct]||(e[ct]=sn(e)))}function sn(e){return{handleEvent:t=>ir(e[je]["on"+t.type],t)}}function ir(e,t){let r=y(e)?e.call(t.currentTarget,t):y(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!B(r)&&!B(e)&&oe(),r&&y(r.then)&&r.then(oe)}function sr(e,t,r){if(!!r)return e&&(r.insertBefore(t,e),J(e,r)),t}function an(e,t,r,n,i){let s=Yt(e);if(!s||e===s)return e.nextSibling;let l=s.nextSibling;if(e=e.nextSibling,!e)return l;do e=J(e,t,r,n,i);while(e&&e!==l);return l}function Le(e,t){ae in t&&t[ae].forEach(r=>r()),e.removeChild(t)}function J(e,t,r=!0,n=[],i=!1){let s=e.nextSibling;if(Te.has(e))return s;if(e.nodeType===8)if(e.nodeValue.charCodeAt(0)===97){if(s=e.nextSibling,Le(t,e),!s)return s;e=s,s=e.nextSibling}else e.nodeValue.charCodeAt(0)===91&&(s=an(e,t,r,n,i));if(e.nodeType!==1)return r&&Le(t,e),s;if(Ve in e)for(let a of e[Ve])try{let o=a(i||r);(i||r)&&o&&y(o.then)&&n.push(o)}catch(o){console.error(o)}!i&&(i=e[ft]||!1);let l=e.firstChild;for(;l;)J(l,e,!1,n,i),l=l.nextSibling;return r&&(n.length===0?Le(t,e):(Te.add(e),Promise.allSettled(n).then(()=>Le(t,e)))),s}function ln(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{d as default};
