var M=class{constructor(t,n=null,r=0,s={},i=null){this.level=r,this.component=t,this.tag=n,this.attrs=s,this.key="key"in s?s.key:null,this.dom=null,this.children=i}};["get","put","post","delete","patch"].forEach(e=>F[e]=function(t,n={}){return n.method=e,F(t,n)});F.redraw=()=>{};function F(e,{method:t="GET",redraw:n=!0,body:r=null,user:s=void 0,pass:i=void 0,headers:a={},config:l,parse:o=f=>JSON.parse(f.responseText),serialize:u=f=>JSON.stringify(f)}={}){return new Promise((f,c)=>{let b=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){let E=b.responseText,D;try{E=o(b)}catch(Z){D=Z}D||b.status>=300?c(D||b.status):f(E),n&&F.redraw()}},b.onerror=b.onabort=c,b.open(t.toUpperCase(),e,!0,s,i),Object.keys(a).forEach(E=>a[E]&&E.setRequestHeader(E,a[E])),!("Content-Type"in a)&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in a)&&b.setRequestHeader("Accept","application/json, text/*"),l&&l(b),r===null?b.send():b.send(u(r))})}var _=typeof window=="undefined"||typeof window.document=="undefined";function g(e){return typeof e=="function"}function xe(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="class"||e==="className"}function et(e){return(ve(e.attrs.class)+ve(e.attrs.className)+e.tag.classes).trim()}function Ae(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function ve(e){return g(e)?ve(e()):e?typeof e=="object"&&!(e instanceof A)?Object.keys(e).reduce((t,n)=>t+e[n]?n+" ":"",""):e+" ":""}var A=class{constructor(t,n){this.live=t,this.transform=n}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(n=>t(this.transform(n)))}};function U(e,t){let n=new Set;return g("function")&&n.add(t),r[Symbol.hasInstance]=a=>a===A,r.observe=a=>(n.add(a),()=>n.delete(a)),r.valueOf=r.toString=r.toJSON=()=>e||"",r.detach=()=>{},r.reduce=i,r.set=a=>l=>(l&&(l.redraw=!1),r(g(a)?a(e):a||l)),r.get=a=>new A(r,l=>g(a)?a(l):l[a]),r.if=(a,l=!0,o=!1)=>new A(r,u=>u===a?l:o),Object.defineProperty(r,"value",{get:()=>e,set:s});function r(a){return arguments.length&&s(a),e}function s(a){a!==e&&(e=a,n.forEach(l=>l(a)))}function i(a,l){let o=1,u=U(arguments.length>1?a(l,e,o++):e);return r.observe(f=>u.value=a(u.value,f,o++)),u}}U.from=function(...e){let t=e.pop(),n=U(t(...e.map(ke))),r=e.map(s=>s.observe(()=>n(t(...e.map(ke)))));return n.detach=()=>r.forEach(ke),n};function ke(e){return e()}var m=_?{}:window;var Oe=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),tt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","right","top","text-align","text-decoration","text-transform","width","z-index"];var P=m.document,L=P&&P.querySelector&&(P.querySelector("style.sin")||P.createElement("style")),Pt=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,nt=e=>e.replace(/(\B[A-Z])/g,"-$1").toLowerCase(),je=L&&L.getAttribute("id")||"sin-",K=P.createElement("div"),rt={},st={},we={};var it=e=>Object.entries(e).forEach(([t,n])=>rt["@"+t]=n),ae={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},oe=["float"].concat(Object.keys(K.style.hasOwnProperty("width")?K.style:Object.getPrototypeOf(K.style))).reduce((e,t)=>(t.indexOf("-")===-1&&e.push(t.match(Pt)?"-"+nt(t):nt(t)),e),[]).sort(),qt=Object.assign(oe.reduce(Oe,{}),tt.reduce(Oe,{})),Ne=oe.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");oe.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),Me=new Map,It=typeof m!="undefined"&&m.CSS&&CSS.supports("color","var(--support-test)"),Le=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,lt=e=>e>=48&&e<=57||e===46,Ve=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,Wt=e=>e===34||e===39,at=e=>e===32||e===58||e===9,zt=e=>e===59||e===10||e===125,ot=e=>e===58||e===64||e===38||e===91,Te=e=>e[e.length-1],q=[],ue=[],j=-1,y=-1,w=-1,G=-1,Re=-1,$=-1,h=-1,ut=-1,B=-1,N="",Fe="",C="",V="&",J="",Q="",fe="",S="",Pe="",qe="",Y="",X="",p="",v="",ft="",k=null,ct=!0,ce=!1,Ie=!1,We=!0,ze=!1,ht=-1,T=0;function De(e){return qt[e]||e}function pt(e,t){return(ce?e:Dt(e))+":"+t+";"}function Dt(e){return st[e]||(st[e]=Bt(De(e)))}function Ht(e){return e.replace(/,\s*[:[]?/g,t=>ot(t.charCodeAt(t.length-1))?",&"+Te(t):",& ")}function he(e,t){if(ct&&(L&&P.head&&P.head.appendChild(L),ct=!1),L&&L.sheet)try{L.sheet.insertRule(e,t??L.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function He([e,...t],n,r=0,s){if(Me.has(e))return{...Me.get(e),args:t};let i={};qe=Y=X=S=v="",q.length=T=0,y=ht=-1,k=s?{}:null,ze=!1,Ie=!1,We=!0,p=e[0];for(let l=0;l<e.length;l++)if(k?gt(0,l===e.length-1):Ut(e,l,t,n),p=e[l+1],l<t.length)if(It&&y>=0){let o=e[l].slice(y);N=je+Math.abs(T).toString(31),i[ft="--"+N+l]={unit:yt(C,Te(ue)),index:l},v+=o+"var("+ft+")",y=0}else t[l]&&(p=t[l]+p),We=!1;if(ze)if(s)Object.entries(k).forEach(([l,o])=>he(l.replace(/&\s+/g,"")+"{"+o+"}"));else{N=je+Math.abs(T).toString(31),X+=(X?" ":"")+N,Fe="";for(let l=0;l<r;l++)Fe+="."+N;Object.entries(k).forEach(([l,o])=>{he(l.replace(/&/g,"."+N+Fe)+"{"+o+"}")})}let a={name:qe,classes:X,id:Y,args:t,vars:i,parent:n};return We&&Me.set(e,a),a}function Ut(e,t,n,r){for(let s=0;s<=p.length;s++)if(h=p.charCodeAt(s),s<p.length&&(T=Math.imul(31,T)+h|0),Ie){if(Le(h)){k={},gt(s++,t===e.length-1);break}}else!Le(h)||s===p.length?(X=(w!==-1?p.slice(w+1,s).replace(/\./g," "):"")+X+(r?" "+r.classes:""),Y===""&&(Y=(G!==-1?p.slice(G,w===-1?s:w):"")||(r?r.id:null)),qe=p.slice(0,Y?G-1:w!==-1?w:s)||r&&r.name,G=w=-1,Ie=!0):h===35?G=s+1:w===-1&&h===46&&(w=s)}function Kt(e){return rt[e]||e}function gt(e,t){for(let n=e;n<=p.length;n++)h=p.charCodeAt(n),n<p.length&&(T=Math.imul(31,T)+h|0),$===-1&&y>=0&&(ce?h===59||h===125:zt(h)||t&&n===p.length)&&(B>-1&&!Ve(h)&&dt(n),C==="@import"?he(C+" "+p.slice(y,n),0):S+=pt(C,v+p.slice(y,n)),ze=!0,j=y=-1,ce=!1,C=v=""),$!==-1?$===h&&p.charCodeAt(n-1)!==92&&($=-1):$===-1&&Wt(h)?($=h,y===-1&&(y=n)):h===123?(C==="animation"?(S&&(k[V||"&"]=S),Q=v+p.slice(y,n).trim(),Pe=v="",S=""):Q?(fe=p.slice(j,n).trim(),S=""):(S&&(k[V||"&"]=S),J=Re===64?Kt(C+v+p.slice(y,n).trim()):p.slice(j,n).trim(),J.indexOf(",")!==-1&&(J=Ht(J)),v=C="",q.push((ot(Re)?"":" ")+(J==="@font-face"?Array(++ht+1).join(" "):"")+J),V=q.toString(),S=k[V||"&"]||""),j=y=-1,C=""):h===125||t&&n===p.length?(fe?(Pe+=fe+"{"+S+"}",fe=S=""):Q?(N=je+Math.abs(T).toString(31),he("@keyframes "+N+"{"+Pe+"}"),S=(k[V||"&"]||"")+pt("animation",Q+" "+N),Q=""):(S&&(k[V||"&"]=S),q.pop(),V=q.toString(),S=k[V||"&"]||""),j=y=-1,C=""):n!==p.length&&j===-1&&Le(h)?(j=n,Re=h):!C&&j>=0&&at(h)?(C=p.slice(j,n),ce=h===58):y===-1&&C&&!at(h)?(y=n,lt(h)&&(B=n)):y!==-1&&(lt(h)?B===-1&&(B=n):B>-1&&dt(n),h===40?ue.push(p.slice(Math.max(ut,y),n)):h===41?ue.pop():(h===9||h===32)&&(ut=n+1))}function dt(e){Ve(h)||(v=v+p.slice(y,e)+yt(C,Te(ue)),y=e),B=-1}function pe(e,t){return!e&&e!==0?"":(g(e)&&(e=v()),typeof e!="string"||!Ve(e.charCodeAt(e.length-1))?e+t:e.charCodeAt(0)===36?"var(--"+e.slice(1)+")":e)}function yt(e,t=""){e=De(e);let n=e+","+t;return n in we?we[n]:we[n]=t&&(t.indexOf("translate")===0||"perspective blur drop-shadow inset polygon".indexOf(t)>-1)?"px":t.indexOf("rotate")===0||t.indexOf("skew")===0?"deg":t?"":$t(e)}q.toString=function(){let e="",t="";return q.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"||t===":root"?"":"&")+t};function $t(e){if(e=De(e),e[0]==="-"&&e[1]==="-"||e in ae)return ae[e];try{return K.style[e]="1px",K.style.setProperty(e,"1px"),ae[e]=K.style[e].slice(-3)==="1px"?"px":""}catch{return ae[e]=""}}function Bt(e){if(oe.indexOf(e)===-1){if(Ne[e])return console.log(e,"prefixed to",Ne[e]),Ne[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}var bt=!1,mt={};function x(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function St(e){return e.split(/(?=\/)/)}function Jt(e,t){return e.reduce((n,r,s)=>n+(r==="404"?1:r===t[s]?6:r&&t[s]&&r.toLowerCase()===t[s].toLowerCase()?5:r[1]===":"&&t[s]&&t[s].length>1?4:r==="/"&&!t[s]?3:r==="*"||r==="/*"?2:-1/0),0)}function Xt(e,t){return e.reduce((n,r,s)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[s].slice(1))),n),{})}function Ct(e,t,n){return g(e)?e(t,[],n):e}function ge(e,t,n){let r=e((o,[u],f)=>(f.route=o.route,()=>typeof u=="string"?import((u[0]==="/"?"":l)+u).then(c=>Ct(c.default,o,f)):Ct(u,o,f)));return l.toString=l,l.has=o=>o==="/"?s(n)===t||s(n)==="/"&&t==="":s(n).indexOf(x(t+"/"+o))===0,Object.defineProperty(l,"current",{get(){let o=s(n),u=o.indexOf("/",t.length+1);return u===-1?o:o.slice(0,u)}}),l;function s(o,u=0){return(e.pathmode[0]==="#"?o.hash.slice(e.pathmode.length+u):e.pathmode[0]==="?"?o.search.slice(e.pathmode.length+u):o.pathname.slice(e.pathmode+u)).replace(/(.)\/$/,"$1")}function i(o,{state:u,replace:f=!1,scroll:c=a(o)}={}){o!==l.current&&(e.pathmode[0]==="#"?m.location.hash=e.pathmode+o:e.pathmode[0]==="?"?m.location.search=e.pathmode+o:m.history[f?"replaceState":"pushState"](u,null,e.pathmode+o),mt[o]=u,e.redraw(),c&&scrollTo(0,0))}function a(o){return o.split("/")[1]!==l.current.split("/")[1]}function l(o,u={}){if(typeof o=="undefined")return t+"/";if(typeof o=="string")return i(x(o[0]==="/"?o:"/"+o),u);bt||(bt=!0,e.pathmode[0]==="#"?m.addEventListener("hashchange",e.redraw,{passive:!0}):g(m.history.pushState)&&m.addEventListener("popstate",e.redraw,{passive:!0}));let f=s(n,t.length),c=St(f),[b,E,D=u.notFound]=Object.entries(o).reduce((Ee,[H,Ft])=>{H=St(x(H));let Ye=Jt(H,c);return Ye>Ee[0]?[Ye,H,Ft]:Ee},[0]),Z=t+(E&&E[0]!=="*"?E.map((Ee,H)=>c[H]).join(""):"");(D===void 0||u.notFound)&&l.notFound(!0);let Ce=ge(e,Z.replace(/\/$/,""),n);return Ce.parent=l,Ce.root=l.parent?l.parent.root:l,r({key:Z||"/",route:Ce,...t+f===Z&&mt[t+f]||{},...Xt(E||[],c)},D)}}var O=m.document,Zt={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};d.isServer=_;function d(...e){let t=typeof e[0];return t==="string"?Ue(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Ue.bind(t==="function"?new M(e):At(e))}function Ue(...e){return e[0]&&Array.isArray(e[0].raw)?Ue.bind(At(e,this)):xt(e,this)}var R=new WeakMap,de=new WeakSet,ee=new WeakMap,ye=new WeakMap,te=new WeakMap,ne=new WeakMap,I=new WeakMap,be=new WeakMap,Et=new Map,Ke=!0,me=[];d.pathmode="";d.redraw=re;d.mount=tn;d.css=(...e)=>He(e,null,0,!0);d.animate=Qt;d.http=F;d.http.redraw=re;d.medias=it;d.live=U;d.on=Gt;d.trust=_t;d.route=ge(d,"",m.location);function _t(e){return d(()=>{let t=O.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n})}function Gt(e,t,n,r){return()=>{let s=i=>Tt(n,i);return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)}}function Qt(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),()=>new Promise(n=>{let r=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(r=!0,t(n)),{once:!0,passive:!0}),jn(()=>r?t(n):n())});function t(n){e.addEventListener("transitionend",n,{once:!0,passive:!0}),e.addEventListener("transitioncancel",n,{once:!0,passive:!0})}}function Yt(e,t){e.addEventListener("click",n=>{if(!n.defaultPrevented&&(n.button===0||n.which===0||n.which===1)&&(!n.currentTarget.target||n.currentTarget.target==="_self")&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey){n.preventDefault();let r=I.get(e).state;t(e.getAttribute("href"),{state:r})}})}function At(e,t){let n=t?t.level+1:0;return new M(t&&t.component,He(e,t&&t.tag,n),n)}function xt(e,t){let n=en(e&&e[0]);return new M(t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function en(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof M)}function tn(e,t,n={},r={}){if(g(t)||(r=n||{},n=t||{},t=e,e=O.body),r.status=d.live(200),r.title=d.live(O.title),r.head=d.live(""),_)return{view:t,attrs:n,context:r};r.title.observe(s=>O.title=s),n.route=r.route=ge(d,"",r.location||m.location),!("catcher"in r)&&(r.catcher=nn),Et.set(e,{view:t,attrs:n,context:r}),vt({view:t,attrs:n,context:r},e)}function nn(e){return console.error(e),d`pre;m 0;c white;bc #ff0033;p 16;br 6;overflow auto`(d`code`(e.stack))}function re(){Ke&&(requestAnimationFrame(rn),Ke=!1)}function rn(){Et.forEach(vt),Ke=!0}function vt({view:e,attrs:t,context:n},r){Se(r,[].concat(e(t,[],n)),n),me.forEach(s=>s()),me=[]}function Se(e,t,n,r,s=e.lastChild){let i=t[0]&&t[0].key!=null&&new Array(t.length),a=r?r.nextSibling:e.firstChild,l=be.has(a),o=s?s.nextSibling:null;i&&(i.rev={})&&l?ln(e,n,be.get(a),t,i,o):sn(e,n,t,i,a,o);let u=r?r.nextSibling:e.firstChild;return i&&(be.set(u,i),u!==a&&be.delete(a)),W(u,o&&o.previousSibling||e.lastChild)}function se(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function sn(e,t,n,r,s,i=null){let a=0,l,o;for(;a<n.length;)(s===null||!de.has(s))&&(o=n[a],l=s!==i?ie(s,o,t,e):ie(null,o,t),s===i&&e.insertBefore(l.dom,i),r&&se(r,l.first,o.key,a),s=l.last,a++),s!==null&&(s=s.nextSibling,s!==null&&s.nodeType===8&&s.nodeValue===","&&(s=z(s,e).after));for(;s&&s!==i;)s=z(s,e).after}function ln(e,t,n,r,s,i){let a=n.rev,l=n.length-1,o=r.length-1,u=n[l],f=r[o],c=-1;e:for(;;){for(;u.key===f.key;){if(i=le(u.dom,f,t,e).first,se(s,i,f.key,o),delete a[f.key],o===0)break e;if(l===0){f=r[--o];break}u=n[--l],f=r[--o]}if(f.key in a){if(c=a[f.key],c>o)c=le(n[c].dom,f,t,e),$e(e,c,i),i=c.first,se(s,i,f.key,o);else if(c!==o)c=le(n[c].dom,f,t,e),$e(e,c,i),i=c.first,se(s,i,f.key,o);else{u=n[--l];continue}if(delete a[f.key],o===0)break;f=r[--o]}else{if(c=le(null,f,t),$e(e,c,i),i=c.first,se(s,i,f.key,o),o===0)break;f=r[--o]}}for(let b in a)z(n[a[b]].dom,e)}function $e(e,{first:t,last:n},r){let s=t,i;do i=s,s=i.nextSibling;while(e.insertBefore(i,r)!==n)}function ie(e,t,n,r,s,i){return g(t)?t instanceof A?an(e,t,n,r,s,i):ie(e,t(),n,r,s,i):t instanceof M?le(e,t,n,r,s,i):Array.isArray(t)?fn(e,t,n,r):t instanceof Node?W(t):Ot(e,t,r,i)}function le(e,t,n,r,s,i){return t.component?Be(e,t,n,r,s,i):cn(e,t,n,r,i)}function an(e,t,n,r){if(ye.has(e))return ye.get(e);let s;return i(t()),t.observe(i),s;function i(a){s=ie(e,a,n,r||e&&e.parentNode),ye.set(s.first,s),e&&e!==s.first&&ye.delete(e),e=s.first}}function W(e,t=e,n=t){return{dom:e,first:t,last:n}}function on(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function un(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&on(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&te.set(e,t),t}function kt(e){return te.has(e)?te.get(e):un(e)}function fn(e,t,n,r){let s=kt(e)||e,i=Ot(e,"["+t.length,r,!1,8);if(r){let a=s?s.nextSibling:null;Se(r,t,n,i.first,s);let l=a?a.previousSibling:r.lastChild;return s!==l&&te.set(i.first,l),W(i.dom,i.first,l)}return r=new DocumentFragment,r.appendChild(i.dom),Se(r,t,n,i.first,s),te.set(i.first,r.lastChild),W(r,i.first,r.lastChild)}function Ot(e,t,n,r,s=typeof t=="boolean"||t==null?8:3){let i=r||!e||e.nodeType!==s;return i&&Rt(e,e=s===8?O.createComment(t):O.createTextNode(t),n),!i&&e.nodeValue!==""+t&&(e.nodeValue=t),W(e)}function cn(e,t,n,r,s=e===null||hn(e,t)){let i=n.NS;s&&Rt(e,e=pn(t,n),r);let a=Sn(e,t,n,s);return t.attrs.domSize=t.children&&t.children.length,Se(e,t.children,n),n.NS=i,W(e)}function hn(e,t){return e.tagName!==(t.tag.name||"DIV").toUpperCase()}function pn(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||Zt[e.tag.name])?n?O.createElementNS(t.NS,e.tag.name,{is:n}):O.createElementNS(t.NS,e.tag.name):n?O.createElement(e.tag.name||"DIV",{is:n}):O.createElement(e.tag.name||"DIV")}function gn(){let e=[],t=0,n=0;return{life:[],get exhausted(){return t>=e.length},get key(){return t<e.length?e[t].key:null},add(s,i,a,l){let o={id:m.count=(m.count||0)+1,key:null,view:s.component[0],catcher:s.component[1]||i.catcher,loader:s.component[2]||i.loader};o.context=jt(s,i,a,l,o);let u=wt(!0,o,s,o.context,l);return o.promise=u&&g(u.then)&&u,o.stateful=o.promise||g(u),o.view=o.promise?o.loader:u,e.length=t,e[t]=o,e[n=t++]},next(s,i,a,l){let o=t<e.length&&e[n=t++];return o&&(o.context=jt(s,i,a,l,o)),o},pop(){return--t==0&&(e.length=n+1,!(n=0))},cut(){return e.length=n=t}}}function jt(e,t,n,r,s){return Object.create(t,{onremove:{value:i=>r.life.push(()=>i)},redraw:{value:()=>Be(r.dom.first,e,t,n,r,!1,!0)},reload:{value:()=>Be(r.dom.first,e,t,n,r,!0)},ignore:{value:i=>s.ignore=i}})}function dn(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return W(e,e,t)}function yn(e,t){R.delete(e.first),R.set(e.first.nextSibling,t),e.first.remove(),e.last.remove()}function Be(e,t,n,r,s=R.has(e)?R.get(e):gn(),i=s.exhausted||s.key!==t.key,a=!1){let l=i?s.add(t,n,r,s):s.next(t,n,r,s);if(!i&&!a&&l.ignore)return s.pop(),s.dom;t.key&&i&&(l.key=t.key);let o=l.promise&&e&&e.nodeType===8&&e.nodeValue.endsWith("async"),u=l.next=o?dn(e):ie(e,bn(wt(i,l,t,l.context,s),t),l.context,r,s,i||void 0);i&&l.promise&&l.promise.then(c=>l.view=c).catch(c=>l.view=l.catcher.bind(null,c)).then(()=>R.has(l.next.first)&&(o&&yn(u,s),l.promise=!1,re()));let f=e!==u.first;return s.pop()&&(f||i)&&(f&&R.delete(e),s.dom=l.next=u,R.set(u.first,s),!l.promise&&Lt(u.first,t.attrs,t.children,l.context,s.life)),u}function wt(e,t,n,r,s){try{return Nt(e,t,n,r)}catch(i){return t.view=t.catcher.bind(null,i),s.cut(),Nt(t.stateful||e,t,n,r)}}function Nt(e,t,n,r){return t.stateful||e?g(t.view)?t.view(n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function bn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function mn(e){for(let t in e)return!1;return!0}function Sn(e,t,n,r){let s=t.tag,i,a=!r&&I.has(e)?I.get(e):void 0;a&&t.attrs&&(t.attrs.handleEvent=a.handleEvent),!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(r&&t.tag.classes||t.attrs.class!==(a&&a.class)||t.attrs.className!==(a&&a.className)||e.className!==t.tag.classes)&&Xe(e,t),r&&Je(e,t.attrs.class,()=>Xe(e,t)),r&&Je(e,t.attrs.className,()=>Xe(e,t));for(let l in t.attrs)!xe(l)&&(!a||a[l]!==t.attrs[l])&&(i=t.attrs[l],r&&Je(e,i,o=>_e(e,l,o,n)),Cn(e,n,t.attrs,l,a&&a[l],i),i=!0);if(a)for(let l in a)l in t.attrs||(Ae(l)?Vt(e,I,l):e.removeAttribute(l));if(t.tag)for(Mt(e,t.tag.vars,t.tag.args,r);s=s.parent;)Mt(e,s.vars,s.args,r);return r&&t.attrs.dom&&Lt(e,t.attrs,t.children,n,t.attrs.dom),i?I.set(e,t.attrs):a&&mn(t.attrs)&&I.delete(e),a}function Je(e,t,n){if(!(t instanceof A))return;let r=ee.has(e),s=r?ee.get(e):new Set;!r&&ee.set(e,s),s.add(t.observe(n))}function Xe(e,t){let n=et(t);n?e.className=n:e.removeAttribute("class")}function Mt(e,t,n,r){for(let s in t){let{unit:i,index:a}=t[s],l=n[a];Ze(e,s,l,i,r)}}function Ze(e,t,n,r,s,i){if(!g(n)){e.style.setProperty(t,pe(n,r)),i&&me.push(()=>e.style.setProperty(t,pe(n,r)));return}if(!(n instanceof A))return Ze(e,t,n(e),r,s,s);s&&(n.observe(a=>e.style.setProperty(t,pe(a,r))),Ze(e,t,n.value,r,s,s))}function Lt(e,t,n,r,s){me.push(()=>{s=[].concat(s).map(i=>g(i)&&i(e,t,n,r)).filter(i=>g(i)),s.length&&ne.set(e,(ne.get(e)||[]).concat(s))})}function Cn(e,t,n,r,s,i){if(s===i)return;r==="href"&&i&&!i.match(/^([a-z]+:)?\/\//)&&(i=d.pathmode+x(i),Yt(e,t.route));let a=Ae(r);a&&typeof s==typeof i||(a?i?En(e,n,r):Vt(e,n,r):_e(e,r,i,t))}function _e(e,t,n,r){if(g(n))return _e(e,t,n(),r);!n&&n!==0?e.removeAttribute(t):!r.NS&&t in e&&typeof n!="boolean"?e[t]=n:e.setAttribute(t,n===!0?"":n)}function Vt(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function En(e,t,n){!t.handleEvent&&(t.handleEvent=An(e)),e.addEventListener(n.slice(2),t.handleEvent)}function An(e){return{handleEvent:t=>Tt(I.get(e)["on"+t.type],t)}}function Tt(e,t){let n=g(e)?e.call(t.currentTarget,t):g(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!(e instanceof A)&&re(),n&&g(n.then)&&n.then(re)}function Rt(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),z(e,n)),t}function Ge(e,t,n){return de.add(e),Promise.allSettled(n).then(()=>{de.delete(e),z(e,t)})}function vn(e){try{return e()}catch(t){console.error(t)}}function kn(e,t,n){if(!ne.has(e))return n.length&&Ge(e,t,n);let r=ne.get(e).map(vn).filter(s=>s&&g(s.then));return ne.delete(e),r.length===0?n.length&&Ge(e,t,n):Ge(e,t,r.concat(n))}function On(e,t,n,r){let s=kt(e);if(!s||e===s)return e.nextSibling;let i=s.nextSibling;if(e=e.nextSibling,!e)return i;do{let a=z(e,t,r);a.life&&n.push(a.life),e=a.after}while(e&&e!==i);return i}function Qe(e,t){ee.has(t)&&ee.get(t).forEach(n=>n()),R.delete(t),e.removeChild(t)}function z(e,t,n=!0){if(!t||de.has(e))return{after:e.nextSibling,life:null};let r=[],s=e.nextSibling;if(e.nodeType===8&&e.nodeValue.endsWith("async")&&(s=e.nextSibling,Qe(t,e),e=s,s=e.nextSibling),e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&(s=On(e,t,r,n)),e.nodeType!==1)return n&&Qe(t,e),{after:s,life:null};let i=e.firstChild;for(;i!==null;){let l=z(i,e,!1).life;l&&r.push(l),i=i.nextSibling}let a=kn(e,t,r);return n&&!a&&Qe(t,e),{after:s,life:a}}function jn(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{d as default};
