var T=class{constructor(t,n=null,r=0,i={},s=null){this.level=r,this.component=t,this.tag=n,this.attrs=i,this.key="key"in i?i.key:null,this.dom=null,this.children=s}};var Q=typeof window=="undefined"||typeof window.document=="undefined";function X(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function z(e){return e&&d(e.observe)}function d(e){return typeof e=="function"}function ve(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function ue(e){return e[0]==="-"&&e[1]==="-"}function ke(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="class"||e==="className"||e==="style"}function at(e){return(Oe(e.attrs.class)+Oe(e.attrs.className)+e.tag.classes).trim()}function we(e){return Array.isArray(e)?e:[e]}function Oe(e){return d(e)?Oe(e()):e?typeof e=="object"&&!z(e)?Object.keys(e).reduce((t,n)=>t+e[n]?n+" ":"",""):e+" ":""}var b=Q?{}:window;["get","put","post","delete","patch"].forEach(e=>V[e]=function(t,n={}){return n.method=e,V(t,n)});V.redraw=()=>{};function V(e,{method:t="GET",redraw:n=!0,body:r=null,user:i=void 0,pass:s=void 0,headers:l={},config:o,parse:a=f=>JSON.parse(f.responseText),serialize:u=f=>JSON.stringify(f)}={}){return new Promise((f,c)=>{let g=new b.XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===g.DONE){let S=g.responseText,W;try{S=a(g)}catch(G){W=G}W||g.status>=300?c(W||g.status):f(S),n&&V.redraw&&V.redraw()}},g.onerror=g.onabort=S=>c(S||g.statusText),g.open(t.toUpperCase(),e,!0,i,s),Object.keys(l).forEach(S=>l[S]&&S.setRequestHeader(S,l[S])),!("Content-Type"in l)&&g.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in l)&&g.setRequestHeader("Accept","application/json, text/*"),o&&o(g),r===null?g.send():g.send(u(r))})}var Ne=class{constructor(t,n){this.live=t,this.transform=n}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(n=>t(this.transform(n)))}};function H(e,t){let n=new Set;return d("function")&&n.add(t),r.observe=l=>(n.add(l),()=>n.delete(l)),r.valueOf=r.toString=r.toJSON=()=>e||"",r.detach=()=>{},r.reduce=s,r.set=l=>o=>(o&&(o.redraw=!1),r(d(l)?l(e):l||o)),r.get=l=>new Ne(r,o=>d(l)?l(o):o[l]),r.if=(l,o=!0,a=!1)=>new Ne(r,u=>u===l?o:a),Object.defineProperty(r,"value",{get:()=>e,set:i});function r(l){return arguments.length&&i(l),e}function i(l){l!==e&&(e=l,n.forEach(o=>o(l)))}function s(l,o){let a=1,u=H(arguments.length>1?l(o,e,a++):e);return r.observe(f=>u.value=l(u.value,f,a++)),u}}H.from=function(...e){let t=e.pop(),n=H(t(...e.map(Te))),r=e.map(i=>i.observe(()=>n(t(...e.map(Te)))));return n.detach=()=>r.forEach(Te),n};function Te(e){return e()}var Ve=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),lt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","right","top","text-align","text-decoration","text-transform","width","z-index"];var R=b.document,L=R&&R.querySelector&&(R.querySelector("style.sin")||R.createElement("style")),Dt=/^(ms|moz|webkit)[-A-Z]/i,Le=L&&L.getAttribute("id")||"sin-",$=R.createElement("div"),ot={},ut={},je={};var ft=e=>Object.entries(e).forEach(([t,n])=>ot["@"+t]=n),fe={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},ce=Array.from(Object.keys($.style.hasOwnProperty("width")?$.style:Object.getPrototypeOf($.style)).reduce((e,t)=>(e.add(t.match(Dt)?"-"+X(t):X(t)),e),new Set(["float"]))),zt=Object.assign(ce.reduce(Ve,{}),lt.reduce(Ve,{})),Me=ce.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");ce.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),Pe=new Map,Ht=typeof b!="undefined"&&b.CSS&&CSS.supports("color","var(--support-test)"),Re=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,ct=e=>e>=48&&e<=57||e===46,qe=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,$t=e=>e===34||e===39,ht=e=>e===32||e===58||e===9,Bt=e=>e===59||e===10||e===125,pt=e=>e===58||e===64||e===38||e===91,Kt=e=>e===59||e===125,Fe=e=>e[e.length-1],q=[],he=[],w=-1,m=-1,O=-1,_=-1,Ie=-1,B=-1,h=-1,gt=-1,K=-1,N="",Ue="",A="",j="&",J="",Y="",pe="",C="",We="",De="",x="",Z="",p="",E="",dt="",v=null,yt=!0,ge=!1,ze=!1,He=!0,$e=!1,bt=-1,M=0;function Be(e){return zt[e]||e}function mt(e,t){return(ge?e:Jt(e))+":"+t+";"}function Jt(e){return ut[e]||(ut[e]=_t(Be(e)))}function Zt(e){return e.replace(/,\s*[:[]?/g,t=>pt(t.charCodeAt(t.length-1))?",&"+Fe(t):",& ")}function de(e,t){if(yt&&(L&&R.head&&R.head.appendChild(L),yt=!1),L&&L.sheet)try{L.sheet.insertRule(e,t??L.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Ke([e,...t],n,r=0,i){if(Pe.has(e))return{...Pe.get(e),args:t};let s={};De=x=Z=C=E="",q.length=M=0,m=bt=-1,v=i?{}:null,$e=!1,ze=!1,He=!0,p=e[0];for(let o=0;o<e.length;o++)if(v?St(0,o===e.length-1):Gt(e,o,t,n),p=e[o+1],o<t.length)if(Ht&&m>=0){let a=e[o].slice(m);N=Le+Math.abs(M).toString(31),s[dt="--"+N+o]={unit:At(A,Fe(he)),index:o},E+=a+"var("+dt+")",m=0}else t[o]&&(p=t[o]+p),He=!1;if($e)if(i)Object.entries(v).forEach(([o,a])=>de(o.replace(/&\s+/g,"")+"{"+a+"}"));else{N=Le+Math.abs(M).toString(31),Z+=(Z?" ":"")+N,Ue="";for(let o=0;o<r;o++)Ue+="."+N;Object.entries(v).forEach(([o,a])=>{de(o.replace(/&/g,"."+N+Ue)+"{"+a+"}")})}let l={name:De,classes:Z,id:x,args:t,vars:s,parent:n};return He&&Pe.set(e,l),l}function Gt(e,t,n,r){for(let i=0;i<=p.length;i++)if(h=p.charCodeAt(i),i<p.length&&(M=Math.imul(31,M)+h|0),ze){if(Re(h)){v={},St(i++,t===e.length-1);break}}else!Re(h)||i===p.length?(Z=(O!==-1?p.slice(O+1,i).replace(/\./g," "):"")+Z+(r?" "+r.classes:""),x===""&&(x=(_!==-1?p.slice(_,O===-1?i:O):"")||(r?r.id:null)),De=p.slice(0,x?_-1:O!==-1?O:i)||r&&r.name,_=O=-1,ze=!0):h===35?_=i+1:O===-1&&h===46&&(O=i)}function Qt(e){return ot[e]||e}function St(e,t){for(let n=e;n<=p.length;n++)h=p.charCodeAt(n),n<p.length&&(M=Math.imul(31,M)+h|0),B===-1&&m>=0&&(ge?Kt(h):Bt(h)||t&&n===p.length)&&(K>-1&&!qe(h)&&Ct(n),A==="@import"?de(A+" "+p.slice(m,n),0):C+=mt(A,E+p.slice(m,n)),$e=!0,w=m=-1,ge=!1,A=E=""),B!==-1?B===h&&p.charCodeAt(n-1)!==92&&(B=-1):B===-1&&$t(h)?(B=h,m===-1&&(m=n)):h===123?(A==="animation"?(C&&(v[j||"&"]=C),Y=E+p.slice(m,n).trim(),We=E="",C=""):Y?(pe=p.slice(w,n).trim(),C=""):(C&&(v[j||"&"]=C),J=Ie===64?Qt(A+E+p.slice(m,n).trim()):p.slice(w,n).trim(),J.indexOf(",")!==-1&&(J=Zt(J)),E=A="",q.push((pt(Ie)?"":" ")+(J==="@font-face"?Array(++bt+1).join(" "):"")+J),j=q.toString(),C=v[j||"&"]||""),w=m=-1,A=""):h===125||t&&n===p.length?(pe?(We+=pe+"{"+C+"}",pe=C=""):Y?(N=Le+Math.abs(M).toString(31),de("@keyframes "+N+"{"+We+"}"),C=(v[j||"&"]||"")+mt("animation",Y+" "+N),Y=""):(C&&(v[j||"&"]=C),q.pop(),j=q.toString(),C=v[j||"&"]||""),w=m=-1,A=""):n!==p.length&&w===-1&&Re(h)?(w=n,Ie=h):!A&&w>=0&&ht(h)?(A=p.slice(w,n),ge=h===58):m===-1&&A&&!ht(h)?(m=n,ct(h)&&(K=n)):m!==-1&&(ct(h)?K===-1&&(K=n):K>-1&&Ct(n),h===40?he.push(p.slice(Math.max(gt,m),n)):h===41?he.pop():(h===9||h===32)&&(gt=n+1))}function Ct(e){qe(h)||(E=E+p.slice(m,e)+At(A,Fe(he)),m=e),K=-1}function ye(e,t){return!e&&e!==0?"":(d(e)&&(e=E()),typeof e!="string"||!qe(e.charCodeAt(e.length-1))?e+t:e.charCodeAt(0)===36?"var(--"+e.slice(1)+")":e)}function At(e,t=""){e=Be(e);let n=e+","+t;return n in je?je[n]:je[n]=t&&(t.indexOf("translate")===0||"perspective blur drop-shadow inset polygon".indexOf(t)>-1)?"px":t.indexOf("rotate")===0||t.indexOf("skew")===0?"deg":t?"":Xt(e)}q.toString=function(){let e="",t="";return q.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"||t===":root"?"":"&")+t};function Xt(e){if(e=Be(e),ue(e)||e in fe)return fe[e];try{return $.style[e]="1px",$.style.setProperty(e,"1px"),fe[e]=$.style[e].slice(-3)==="1px"?"px":""}catch{return fe[e]=""}}function _t(e){if(ce.indexOf(e)===-1){if(Me[e])return console.log(e,"prefixed to",Me[e]),Me[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}function Je(e,t){let n=URLSearchParams,r=t.search,i=new n(r),s={replace:a=>(i=new n(a),o())};for(let a in n.prototype)s[a]=(...u)=>(a=l()[a](...u),o(),a);return s;function l(){return r===t.search?i:(r=t.search,i=new n(r))}function o(){b.history.pushState(b.history.state,null,t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var Et=!1,vt={};function ee(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function kt(e){return e.split(/(?=\/)/)}function Yt(e,t){return e.reduce((n,r,i)=>n+(r==="404"?1:r===t[i]?6:r&&t[i]&&r.toLowerCase()===t[i].toLowerCase()?5:r[1]===":"&&t[i]&&t[i].length>1?4:r==="/"&&!t[i]?3:r==="*"||r==="/*"?2:-1/0),0)}function xt(e,t){return e.reduce((n,r,i)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[i].slice(1))),n),{})}function wt(e,t,n){return d(e)?e(t,[],n):e}function Ze(e,t,n){let r=n.location,i=e((u,[f],c)=>(c.route=u.route,()=>typeof f=="string"?import((f[0]==="/"?"":a)+f).then(g=>wt(g.default,u,c)):wt(f,u,c)));return a.query=Je(e,n.location),a.toString=a,a.has=u=>u==="/"?s(r)===t||s(r)==="/"&&t==="":s(r).indexOf(ee(t+"/"+u))===0,Object.defineProperty(a,"path",{get(){let u=s(r),f=u.indexOf("/",t.length+1);return f===-1?u:u.slice(0,f)}}),a;function s(u,f=0){return(e.pathmode[0]==="#"?u.hash.slice(e.pathmode.length+f):e.pathmode[0]==="?"?u.search.slice(e.pathmode.length+f):u.pathname.slice(e.pathmode+f)).replace(/(.)\/$/,"$1")}function l(u,{state:f,replace:c=!1,scroll:g=o(u)}={}){u!==a.path&&(e.pathmode[0]==="#"?b.location.hash=e.pathmode+u:e.pathmode[0]==="?"?b.location.search=e.pathmode+u:b.history[c?"replaceState":"pushState"](f,null,e.pathmode+u),vt[u]=f,e.redraw(),g&&scrollTo(0,0))}function o(u){return u.split("/")[1]!==a.path.split("/")[1]}function a(u,f={}){if(typeof u=="undefined")return t+"/";if(typeof u=="string")return l(ee(u[0]==="/"?u:"/"+u),f);Et||(Et=!0,e.pathmode[0]==="#"?b.addEventListener("hashchange",e.redraw,{passive:!0}):d(b.history.pushState)&&b.addEventListener("popstate",e.redraw,{passive:!0}));let c=s(r,t.length),g=kt(c),[,S,W]=Object.entries(u).reduce((Ee,[D,Wt])=>{D=kt(ee(D));let st=Yt(D,g);return st>Ee[0]?[st,D,Wt]:Ee},[0]),G=t+(S&&S[0]!=="*"?S.map((Ee,D)=>g[D]).join(""):"");(W===void 0||S==="404")&&n.status(404);let Ae=Ze(e,G.replace(/\/$/,""),n);return Ae.parent=a,Ae.root=a.parent?a.parent.root:a,i({key:G||"/",route:Ae,...t+c===G&&vt[t+c]||{},...xt(S||[],g)},W)}}var k=b.document,en={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};y.isServer=Q;function y(...e){let t=typeof e[0];return t==="string"?Ge(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Ge.bind(t==="function"?new T(e):Nt(e))}function Ge(...e){return e[0]&&Array.isArray(e[0].raw)?Ge.bind(Nt(e,this)):an(e,this)}var P=new WeakMap,be=new WeakSet,te=new WeakMap,me=new WeakMap,ne=new WeakMap,re=new WeakMap,F=new WeakMap,Se=new WeakMap,Ot=new Map,Qe=!0,Ce=[];y.pathmode="";y.redraw=ie;y.mount=on;y.css=(...e)=>Ke(e,null,0,!0);y.animate=rn;y.http=V;y.http.redraw=!y.isServer&&ie;y.medias=ft;y.live=H;y.on=nn;y.trust=tn;function tn(e){return y(()=>{let t=k.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n})}function nn(e,t,n,r){return()=>{let i=s=>It(n,s);return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}}function rn(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),()=>new Promise(n=>{let r=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(r=!0,t(n)),{once:!0,passive:!0}),Pn(()=>r?t(n):n())});function t(n){e.addEventListener("transitionend",n,{once:!0,passive:!0}),e.addEventListener("transitioncancel",n,{once:!0,passive:!0})}}function sn(e,t){e.addEventListener("click",n=>{if(!n.defaultPrevented&&(n.button===0||n.which===0||n.which===1)&&(!n.currentTarget.target||n.currentTarget.target==="_self")&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey){n.preventDefault();let r=F.get(e).state;t(e.getAttribute("href"),{state:r})}})}function Nt(e,t){let n=t?t.level+1:0;return new T(t&&t.component,Ke(e,t&&t.tag,n),n)}function an(e,t){let n=ln(e&&e[0]);return new T(t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function ln(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof T)}function on(e,t,n={},r={}){if(d(t)||(r=n||{},n=t||{},t=e,e=k.body),r.status=y.live(200),r.title=y.live(k.title),r.head=y.live(""),r.headers=y.live({}),"location"in r||(r.location=b.location),"catcher"in r||(r.catcher=un),Q)return{view:t,attrs:n,context:r};r.title.observe(i=>k.title=i),r.route=Ze(y,"",r),Ot.set(e,{view:t,attrs:n,context:r}),Tt({view:t,attrs:n,context:r},e)}function un(e){return console.error(e),y`pre;m 0;c white;bc #ff0033;p 16;br 6;overflow auto`(y`code`(e&&e.stack||e||new Error("Unknown Error").stack))}function ie(){Qe&&(requestAnimationFrame(fn),Qe=!1)}function fn(){Ot.forEach(Tt),Qe=!0}function Tt({view:e,attrs:t,context:n},r){try{let i=e(t,[],n);se(r,we(i),n)}catch(i){se(r,we(n.catcher(i,t,[],n)),n)}Ce.forEach(i=>i()),Ce=[]}function se(e,t,n,r,i=e.lastChild){let s=t[0]&&t[0].key!=null&&new Array(t.length),l=r?r.nextSibling:e.firstChild,o=Se.has(l),a=i?i.nextSibling:null;s&&(s.rev={})&&o?hn(e,n,Se.get(l),t,s,a):cn(e,n,t,s,l,a);let u=r?r.nextSibling:e.firstChild;return s&&(Se.set(u,s),u!==l&&Se.delete(l)),I(u,a&&a.previousSibling||e.lastChild)}function ae(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function cn(e,t,n,r,i,s=null){let l=0,o,a;for(;l<n.length;)(i===null||!be.has(i))&&(a=n[l],o=i!==s?le(i,a,t,e):le(null,a,t),i===s&&e.insertBefore(o.dom,s),r&&ae(r,o.first,a.key,l),i=o.last,l++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=U(i,e).after));for(;i&&i!==s;)i=U(i,e).after}function hn(e,t,n,r,i,s){let l=n.rev,o=n.length-1,a=r.length-1,u=n[o],f=r[a],c=-1;e:for(;;){for(;u.key===f.key;){if(s=oe(u.dom,f,t,e).first,ae(i,s,f.key,a),delete l[f.key],a===0)break e;if(o===0){f=r[--a];break}u=n[--o],f=r[--a]}if(f.key in l){if(c=l[f.key],c>a)c=oe(n[c].dom,f,t,e),Xe(e,c,s),s=c.first,ae(i,s,f.key,a);else if(c!==a)c=oe(n[c].dom,f,t,e),Xe(e,c,s),s=c.first,ae(i,s,f.key,a);else{u=n[--o];continue}if(delete l[f.key],a===0)break;f=r[--a]}else{if(c=oe(null,f,t),Xe(e,c,s),s=c.first,ae(i,s,f.key,a),a===0)break;f=r[--a]}}for(let g in l)U(n[l[g]].dom,e)}function Xe(e,{first:t,last:n},r){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,r)!==n)}function le(e,t,n,r,i,s){return d(t)?z(t)?pn(e,t,n,r,i,s):le(e,t(),n,r,i,s):t instanceof T?oe(e,t,n,r,i,s):Array.isArray(t)?yn(e,t,n,r):t instanceof Node?I(t):Lt(e,t,r,s)}function oe(e,t,n,r,i,s){return t.component?_e(e,t,n,r,i,s):bn(e,t,n,r,s)}function pn(e,t,n,r){if(me.has(e))return me.get(e);let i;return s(t()),t.observe(s),i;function s(l){i=le(e,l,n,r||e&&e.parentNode),me.set(i.first,i),e&&e!==i.first&&me.delete(e),e=i.first}}function I(e,t=e,n=t){return{dom:e,first:t,last:n}}function gn(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function dn(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&gn(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&ne.set(e,t),t}function Vt(e){return ne.has(e)?ne.get(e):dn(e)}function yn(e,t,n,r){let i=Vt(e)||e,s=Lt(e,"["+t.length,r,!1,8);if(r){let l=i?i.nextSibling:null;se(r,t,n,s.first,i);let o=l?l.previousSibling:r.lastChild;return i!==o&&ne.set(s.first,o),I(s.dom,s.first,o)}return r=new DocumentFragment,r.appendChild(s.dom),se(r,t,n,s.first,i),ne.set(s.first,r.lastChild),I(r,s.first,r.lastChild)}function Lt(e,t,n,r,i=typeof t=="boolean"||t==null?8:3){let s=r||!e||e.nodeType!==i;return s&&Ut(e,e=i===8?k.createComment(t):k.createTextNode(t),n),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),I(e)}function bn(e,t,n,r,i=e===null||mn(e,t)){let s=n.NS;return i&&Ut(e,e=Sn(t,n),r),wn(e,t,n,i),se(e,t.children,n),n.NS=s,I(e)}function mn(e,t){return e.tagName!==(t.tag.name||"DIV").toUpperCase()}function Sn(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||en[e.tag.name])?n?k.createElementNS(t.NS,e.tag.name,{is:n}):k.createElementNS(t.NS,e.tag.name):n?k.createElement(e.tag.name||"DIV",{is:n}):k.createElement(e.tag.name||"DIV")}function Cn(){let e=[],t=0,n=0;return{life:[],get exhausted(){return t>=e.length},get key(){return t<e.length?e[t].key:null},add(i,s,l,o){let a={id:b.count=(b.count||0)+1,key:null,view:i.component[0],catcher:i.component[1]||s.catcher,loader:i.component[2]||s.loader};a.context=jt(i,s,l,o,a);let u=Mt(!0,a,i,a.context,o);return a.promise=u&&d(u.then)&&u,a.stateful=a.promise||d(u),a.view=a.promise?a.loader:u,e.length=t,e[t]=a,e[n=t++]},next(i,s,l,o){let a=t<e.length&&e[n=t++];return a&&(a.context=jt(i,s,l,o,a)),a},pop(){return--t===0&&(e.length=n+1,!(n=0))},cut(){return e.length=n=t}}}function jt(e,t,n,r,i){return Object.create(t,{onremove:{value:s=>r.life.push(()=>s)},redraw:{value:()=>_e(r.dom.first,e,t,n,r,!1,!0)},reload:{value:()=>_e(r.dom.first,e,t,n,r,!0)},ignore:{value:s=>i.ignore=s}})}function An(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return I(e,e,t)}function En(e,t){P.delete(e.first),P.set(e.first.nextSibling,t),e.first.remove(),e.last.remove()}function _e(e,t,n,r,i=P.has(e)?P.get(e):Cn(),s=i.exhausted||i.key!==t.key,l=!1){let o=s?i.add(t,n,r,i):i.next(t,n,r,i);if(!s&&!l&&o.ignore)return i.pop(),i.dom;t.key&&s&&(o.key=t.key);let a=o.promise&&e&&e.nodeType===8&&e.nodeValue.endsWith("async"),u=o.next=a?An(e):le(e,vn(Mt(s,o,t,o.context,i),t),o.context,r,i,s||void 0);s&&o.promise&&o.promise.then(c=>o.view=c).catch(c=>o.view=o.catcher.bind(null,c)).then(()=>P.has(o.next.first)&&(a&&En(u,i),o.promise=!1,ie()));let f=e!==u.first;return i.pop()&&(f||s)&&(f&&P.delete(e),i.dom=o.next=u,P.set(u.first,i),!o.promise&&qt(u.first,t.attrs,t.children,o.context,i.life)),u}function Mt(e,t,n,r,i){try{return Pt(e,t,n,r)}catch(s){return t.view=t.catcher.bind(null,s),i.cut(),Pt(t.stateful||e,t,n,r)}}function Pt(e,t,n,r){return t.stateful||e?d(t.view)?t.view(n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function vn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function kn(e){for(let t in e)return!1;return!0}function wn(e,t,n,r){let i=t.tag,s=!1,l=!r&&F.has(e)?F.get(e):void 0;l&&t.attrs&&(t.attrs.handleEvent=l.handleEvent),!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(r&&t.tag.classes||t.attrs.class!==(l&&l.class)||t.attrs.className!==(l&&l.className)||e.className!==t.tag.classes)&&et(e,t),r&&xe(e,t.attrs.class,()=>et(e,t)),r&&xe(e,t.attrs.className,()=>et(e,t));for(let a in t.attrs)if(!ke(a)&&(!l||l[a]!==t.attrs[a])){let u=t.attrs[a];r&&xe(e,u,f=>nt(e,a,f,n)),Nn(e,n,t.attrs,a,l&&l[a],u),s=!0}if(l)for(let a in l)a in t.attrs||(ve(a)?Ft(e,F,a):!ke(a)&&e.removeAttribute(a));let o=On(e,t.attrs.style,l.style);if(t.tag)for(Rt(e,t.tag.vars,t.tag.args,r,o);i=i.parent;)Rt(e,i.vars,i.args,r,o);r&&t.attrs.dom&&qt(e,t.attrs,t.children,n,t.attrs.dom),s?F.set(e,t.attrs):l&&kn(t.attrs)&&F.delete(e)}function On(e,t,n){if(n!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(n==null||typeof n!="object"){e.style.cssText="";for(let r in t){let i=t[r];i!=null&&e.style.setProperty(Ye(r),i+"")}return!0}for(let r in t){let i=t[r];i!=null&&(i=i+"")!=n[r]+""&&e.style.setProperty(Ye(r),i)}for(let r in n)n[r]!=null&&t[r]==null&&e.style.removeProperty(Ye(r));return!0}}function Ye(e){return ue(e)?e:e==="cssFloat"?"float":X(e)}function xe(e,t,n){if(!z(t))return;let r=te.has(e),i=r?te.get(e):new Set;!r&&te.set(e,i),i.add(t.observe(n))}function et(e,t){let n=at(t);n?e.className=n:e.removeAttribute("class")}function Rt(e,t,n,r,i){for(let s in t){let{unit:l,index:o}=t[s],a=n[o];tt(e,s,a,l,r,i)}}function tt(e,t,n,r,i,s,l){if(z(n)){i&&n.observe(o=>e.style.setProperty(t,ye(o,r))),i||s&&tt(e,t,n.value,r,i,i);return}if(d(n))return tt(e,t,n(e),r,i,s,l);e.style.setProperty(t,ye(n,r)),l&&Ce.push(()=>e.style.setProperty(t,ye(n,r)))}function qt(e,t,n,r,i){Ce.push(()=>{i=[].concat(i).map(s=>d(s)&&s(e,t,n,r)).filter(s=>d(s)),i.length&&re.set(e,(re.get(e)||[]).concat(i))})}function Nn(e,t,n,r,i,s){if(i===s)return;r==="href"&&s&&!s.match(/^([a-z]+:)?\/\//)&&(s=y.pathmode+ee(s),sn(e,t.route));let l=ve(r);l&&typeof i==typeof s||(l?s?Tn(e,n,r):Ft(e,n,r):nt(e,r,s,t))}function nt(e,t,n,r){if(d(n))return nt(e,t,n(),r);!n&&n!==0?e.removeAttribute(t):!r.NS&&t in e&&typeof n!="boolean"?e[t]=n:e.setAttribute(t,n===!0?"":n)}function Ft(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function Tn(e,t,n){!t.handleEvent&&(t.handleEvent=Vn(e)),e.addEventListener(n.slice(2),t.handleEvent)}function Vn(e){return{handleEvent:t=>It(F.get(e)["on"+t.type],t)}}function It(e,t){let n=d(e)?e.call(t.currentTarget,t):d(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!z(e)&&ie(),n&&d(n.then)&&n.then(ie)}function Ut(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),U(e,n)),t}function rt(e,t,n){return be.add(e),Promise.allSettled(n).then(()=>{be.delete(e),U(e,t)})}function Ln(e){try{return e()}catch(t){console.error(t)}}function jn(e,t,n){if(!re.has(e))return n.length&&rt(e,t,n);let r=re.get(e).map(Ln).filter(i=>i&&d(i.then));return re.delete(e),r.length===0?n.length&&rt(e,t,n):rt(e,t,r.concat(n))}function Mn(e,t,n,r){let i=Vt(e);if(!i||e===i)return e.nextSibling;let s=i.nextSibling;if(e=e.nextSibling,!e)return s;do{let l=U(e,t,r);l.life&&n.push(l.life),e=l.after}while(e&&e!==s);return s}function it(e,t){te.has(t)&&te.get(t).forEach(n=>n()),P.delete(t),e.removeChild(t)}function U(e,t,n=!0){if(!t||be.has(e))return{after:e.nextSibling,life:null};let r=[],i=e.nextSibling;if(e.nodeType===8&&e.nodeValue.endsWith("async")&&(i=e.nextSibling,it(t,e),e=i,i=e.nextSibling),e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&(i=Mn(e,t,r,n)),e.nodeType!==1)return n&&it(t,e),{after:i,life:null};let s=e.firstChild;for(;s!==null;){let o=U(s,e,!1).life;o&&r.push(o),s=s.nextSibling}let l=jn(e,t,r);return n&&!l&&it(t,e),{after:i,life:l}}function Pn(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{y as default};
