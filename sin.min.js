var j=typeof window!="undefined"?window:Et();function Et(){return{location:{},document:{documentElement:{style:{}},querySelector:()=>null,createElement:e=>{let t={tagName:e.toUpperCase(),setAttribute:(n,r)=>t.x=r,getAttribute:n=>t[n],style:{setProperty:()=>!0}};return e==="style"&&Object.assign(t,{sheet:{insertRule:(n,r)=>r?t.sheet.cssRules.splice(r,0,Je(n)):t.sheet.cssRules.push(Je(n)),cssRules:[]}}),t}}}}function Je(e){return e+e.match(/\{/g).map(()=>"}").join("")}var P=class{constructor(t,n=null,r=0,s={},i=null){this.level=r,this.component=t,this.tag=n,this.attrs=s,this.key="key"in s?s.key:null,this.dom=null,this.children=i}};["get","put","post","delete","patch"].forEach(e=>N[e]=function(t,n={}){return n.method=e,N(t,n)});N.redraw=()=>{};function N(e,{method:t="GET",redraw:n=!0,body:r=null,user:s=void 0,pass:i=void 0,headers:a={},config:l=()=>{},raw:o=!1,background:c=!1,extract:u=p=>JSON.parse(p.responseText)}={}){return new Promise((p,A)=>{let g=new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE){let C=g.responseText,Z;if(!o)try{C=u(g)}catch(_){Z=_}(Z||g.status>=300?A:p)({status:g.status,body:C,xhr:g}),n&&!c&&N.redraw()}},g.onerror=g.onabort=C=>A({event:C,xhr:g}),g.open(t.toUpperCase(),e,!0,s,i),Object.keys(a).forEach(C=>a[C]&&g.setRequestHeader(C,a[C])),!("Content-Type"in a)&&g.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in a)&&g.setRequestHeader("Accept","application/json, text/*"),l(g),r===null?g.send():g.send(o?r:JSON.stringify(r))})}function S(e,t){let n=new Set;return typeof t=="function"&&n.add(t),r.observe=a=>(n.add(a),()=>n.delete(a)),r.valueOf=r.toString=r.toJSON=()=>e,r.constructor=S,r.detach=()=>{},r.reduce=i,r.bind=a=>l=>(l&&(l.redraw=!1),r(typeof a=="function"?a():a||l)),r.if=(a,l=!0,o=!1)=>S.from(r,c=>c===a?l:o),r.to=a=>S.from(r,l=>typeof a=="function"?a(l):l[a]),Object.defineProperty(r,"value",{get:()=>e,set:s});function r(a){return arguments.length&&s(a),e}function s(a){a!==e&&(e=a,n.forEach(l=>l(a)))}function i(a,l){let o=1,c=S(arguments.length>1?a(l,e,o++):e);return r.observe(u=>c.value=a(c.value,u,o++)),c}}S.from=function(...e){let t=e.pop(),n=S(t(...e.map(be))),r=e.map(s=>s.observe(()=>n(t(...e.map(be)))));return n.detach=()=>r.forEach(be),n};function be(e){return e()}var Se=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),Xe=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","float","flex-direction","font-family","font-size","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","right","top","text-align","text-decoration","text-transform","width"];var z=j.document,R=z&&z.querySelector&&(z.querySelector(".sin-styles")||z.createElement("style")),kt=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,Ze=e=>e.replace(/(\B[A-Z])/g,"-$1").toLowerCase(),Ce=R&&R.getAttribute("id")||"sin-",H=z.createElement("div"),_e={},Ge={},Ee={};var Qe=e=>Object.entries(e).forEach(([t,n])=>_e["@"+t]=n),ie={flex:"",border:"px",transform:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},le=["float"].concat(Object.keys(H.style.hasOwnProperty("width")?H.style:Object.getPrototypeOf(H.style))).reduce((e,t)=>(t.indexOf("-")===-1&&e.push(t.match(kt)?"-"+Ze(t):Ze(t)),e),[]).sort(),At=Object.assign(le.reduce(Se,{}),Xe.reduce(Se,{})),ke=le.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");le.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),Ae=new Map,dn=typeof j!="undefined"&&j.CSS&&CSS.supports("color","var(--support-test)"),je=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,Ye=e=>e>=48&&e<=57||e===46,Ne=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,jt=e=>e===34||e===39,ve=e=>e===32||e===58||e===9,Nt=e=>e===59||e===10||e===125,xe=e=>e===58||e===64||e===38||e===91,Oe=e=>e[e.length-1],D=[],ae=[];var O=-1,d=-1,M=-1,G=-1,Me=-1,I=-1,f=-1,et=-1,U=-1,L="",Le="",b="",T="&",K="",Q="",oe="",m="",Pe="",Re="",Y="",$="",h="",E="",tt="",k=null,nt=!0,ue=!1,Te=!1,Ve=!0,we=!1,rt=-1,V=0;function qe(e){return At[e]||e}function st(e,t){return(ue?e:Ot(e))+":"+t+";"}function Ot(e){return Ge[e]||(Ge[e]=Tt(qe(e)))}function Mt(e){return e.replace(/,\s*[:[]?/g,t=>xe(t.charCodeAt(t.length-1))?",&"+Oe(t):",& ")}function fe(e,t){if(nt&&(R&&z.head&&z.head.appendChild(R),nt=!1),R&&R.sheet)try{R.sheet.insertRule(e,t??R.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function ze([e,...t],n,r=0,s){if(Ae.has(e))return{...Ae.get(e),args:t};let i={};Re=Y=$=m=E="",D.length=V=0,d=rt=-1,k=s?{}:null,we=!1,Te=!1,Ve=!0,h=e[0];for(let l=0;l<e.length;l++)if(k?it(0,l===e.length-1):Lt(e,l,t,n),h=e[l+1],l<t.length)if(d>=0){let o=e[l].slice(d);L=Ce+Math.abs(V).toString(31),i[tt="--"+L+l]={unit:at(b,Oe(ae)),index:l},E+=o+"var("+tt+")",d=0}else t[l]&&(h+=t[l]+";",Ve=!1);if(we)if(s)Object.entries(k).forEach(([l,o])=>fe(l.replace(/&\s*/g,"")+"{"+o));else{L=Ce+Math.abs(V).toString(31),$+=($?" ":"")+L,Le="";for(let l=0;l<r;l++)Le+="."+L;Object.entries(k).forEach(([l,o])=>{fe(l.replace(/&/g,"."+L+Le)+"{"+o)})}let a={name:Re,classes:$,id:Y,args:t,vars:i,parent:n};return Ve&&Ae.set(e,a),a}function Lt(e,t,n,r){for(let s=0;s<=h.length;s++)if(f=h.charCodeAt(s),s<h.length&&(V=Math.imul(31,V)+f|0),Te){if(je(f)){k={},it(s++,t===e.length-1);break}}else!je(f)||s===h.length?($=(M!==-1?h.slice(M+1,s).replace(/\./g," "):"")+$+(r?r.classes:""),Y===""&&(Y=(G!==-1?h.slice(G,M===-1?s:M):"")||(r?r.id:null)),Re=h.slice(0,Y?G-1:M!==-1?M:s)||r&&r.name,G=M=-1,Te=!0):f===35?G=s+1:M===-1&&f===46&&(M=s)}function Pt(e){return _e[e]||e}function it(e,t){for(let n=e;n<=h.length;n++)f=h.charCodeAt(n),n<h.length&&(V=Math.imul(31,V)+f|0),I===-1&&d>=0&&(ue?f===59:Nt(f)||t&&n===h.length)&&(U>-1&&!Ne(f)&&lt(n),b==="@import"?fe(b+" "+h.slice(d,n),0):m+=st(b,E+h.slice(d,n)),we=!0,O=d=-1,ue=!1,b=E=""),I!==-1?I===f&&h.charCodeAt(n-1)!==92&&(I=-1):I===-1&&jt(f)?(I=f,d===-1&&(d=n)):f===123?(b==="animation"?(m&&(k[T||"&"]=m),Q=E+h.slice(d,n).trim(),Pe=E="",m=""):Q?(oe=h.slice(O,n).trim(),m=""):(m&&(k[T||"&"]=m),K=Me===64?Pt(b+E+h.slice(d,n).trim()):h.slice(O,n).trim(),K.indexOf(",")!==-1&&(K=Mt(K)),E=b="",D.push((xe(Me)?"":" ")+(K==="@font-face"?Array(++rt+1).join(" "):"")+K),T=D.toString(),m=k[T||"&"]||""),O=d=-1,b=""):f===125||t&&n===h.length?(oe?(Pe+=oe+"{"+m+"}",oe=m=""):Q?(L=Ce+Math.abs(V).toString(31),fe("@keyframes "+L+"{"+Pe+"}"),m=(k[T||"&"]||"")+st("animation",Q+" "+L),Q=""):(m&&(k[T||"&"]=m),D.pop(),T=D.toString(),m=k[T||"&"]||""),O=d=-1,b=""):n!==h.length&&O===-1&&je(f)?(O=n,Me=f):!b&&O>=0&&ve(f)?(b=h.slice(O,n),ue=f===58):d===-1&&b&&!ve(f)?(d=n,Ye(f)&&(U=n)):d!==-1&&(Ye(f)?U===-1&&(U=n):U>-1&&lt(n),f===40?ae.push(h.slice(Math.max(et,d),n)):f===41?ae.pop():(f===9||f===32)&&(et=n+1))}function lt(e){Ne(f)||(E=E+h.slice(d,e)+at(b,Oe(ae)),d=e),U=-1}function ce(e,t){return typeof e=="function"&&(e=E()),typeof e!="string"||!Ne(e.charCodeAt(e.length-1))?e+t:e}function at(e,t=""){e=qe(e);let n=e+","+t;return n in Ee?Ee[n]:Ee[n]=t&&(t.indexOf("translate")===0||"perspective blur drop-shadow inset polygon".indexOf(t)>-1)?"px":t.indexOf("rotate")===0||t.indexOf("skew")===0?"deg":t?"":Rt(e)}D.toString=function(){let e="",t="";return D.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"?"":"&")+t};function Rt(e){if(e=qe(e),e[0]==="-"&&e[1]==="-"||e in ie)return ie[e];try{return H.style[e]="1px",H.style.setProperty(e,"1px"),ie[e]=H.style[e].slice(-3)==="1px"?"px":""}catch{return ie[e]=""}}function Tt(e){if(le.indexOf(e)===-1){if(ke[e])return console.log(e,"prefixed to",ke[e]),ke[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}var ot=!1,he={};function v(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function ut(e){return e.split(/(?=\/)/)}function Vt(e,t){return e.reduce((n,r,s)=>n+(r==="404"?1:r===t[s]?6:r&&t[s]&&r.toLowerCase()===t[s].toLowerCase()?5:r[1]===":"&&t[s]&&t[s].length>1?4:r==="/"&&!t[s]?3:r==="*"||r==="/*"?2:-1/0),0)}function wt(e,t){return e.reduce((n,r,s)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[s].slice(1))),n),{})}function De(e,t,n){let r=e(async({route:l,key:o,...c},[u],p)=>(typeof u=="string"&&(u=(await import((u[0]==="/"?"":l)+u)).default),c.route=l,()=>typeof u=="function"?u(c,[],{...p,route:l}):u));return Object.assign(a,n),a.toString=a,a.has=l=>l==="/"?s(a.url)===t||s(a.url)==="/"&&t==="":s(a.url).indexOf(v(t+"/"+l))===0,Object.defineProperty(a,"current",{get(){let l=s(a.url),o=l.indexOf("/",t.length+1);return o===-1?l:l.slice(0,o)}}),a;function s(l,o=0){return(e.pathmode[0]==="#"?l.hash.slice(e.pathmode.length+o):e.pathmode[0]==="?"?l.search.slice(e.pathmode.length+o):l.pathname.slice(e.pathmode+o)).replace(/(.)\/$/,"$1")}function i(l,o={}){e.pathmode[0]==="#"?window.location.hash=e.pathmode+l:e.pathmode[0]==="?"?window.location.search=e.pathmode+l:window.history[o.replace?"replaceState":"pushState"](o.state,null,e.pathmode+l),he[l]=o.state,e.redraw()}function a(l,o={}){if(typeof l=="undefined")return t+"/";if(typeof l=="string")return i(v(l[0]==="/"?l:"/"+l),o);ot||(ot=!0,e.pathmode[0]==="#"?window.addEventListener("hashchange",()=>e.redraw()):typeof window.history.pushState=="function"&&window.addEventListener("popstate",e.redraw));let c=s(a.url,t.length),u=ut(c),[p,A,g=o.notFound]=Object.entries(l).reduce((_,[W,Ct])=>{W=ut(v(W));let Be=Vt(W,u);return Be>_[0]?[Be,W,Ct]:_},[0]),C=t+(A&&A[0]!=="*"?A.map((_,W)=>u[W]).join(""):"");(g===void 0||o.notFound)&&a.notFound(!0);let Z=De(e,C.replace(/\/$/,""),n);return Z.parent=a,r({key:C||"/",route:Z,...t+c===C&&he[t+c]||{},...wt(A||[],u)},g)}}function ft(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="class"||e==="className"}function pe(e){return(Fe(e.attrs.class)+Fe(e.attrs.className)+e.tag.classes).trim()}function Fe(e){return typeof e=="function"?Fe(e()):e?typeof e=="object"?Object.keys(e).reduce((t,n)=>t+e[n]?n+" ":"",""):e+" ":""}var w=j.document,qt={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function y(...e){let t=typeof e[0];return t==="string"?We(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):We.bind(t==="function"?new P(e[0]):ht(e))}function We(...e){return e[0]&&Array.isArray(e[0].raw)?We.bind(ht(e,this)):Wt(e,this)}var x=new WeakMap,B=new WeakSet,ge=new WeakMap,J=new WeakMap,ee=new WeakMap,F=new WeakMap,de=new WeakMap,ct=new Map,He=!0,ye=[];y.pathmode="";y.redraw=te;y.mount=It;y.css=(...e)=>ze(e,null,0,!0);y.animate=Dt;y.http=N;y.http.redraw=te;y.medias=Qe;y.live=S;y.on=zt;y.route=De(y,"",{url:typeof j!="undefined"&&j.location,notFound:()=>{},title:()=>{},head:()=>{}});y.request=(e,t)=>(t?N(e,t):N(e.url,e)).then(({body:n})=>n).catch(n=>(n.response=n.body,Promise.reject(n)));y.trust=e=>y(()=>{let t=w.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n});function zt(e,t,n,r){return()=>{let s=i=>bt(n,i);return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)}}function Dt(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),()=>(e.setAttribute("animate","exit"),new Promise(t=>e.addEventListener("transitionend",t)))}function Ft(e){e.addEventListener("click",t=>{if(!t.defaultPrevented&&(t.button===0||t.which===0||t.which===1)&&(!t.currentTarget.target||t.currentTarget.target==="_self")&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){t.preventDefault();let n=F.get(e).state;j.history.pushState(n,null,e.getAttribute("href")),he[e.getAttribute("href")]=n,y.redraw()}})}function ht(e,t){let n=t?t.level+1:0;return new P(t&&t.component,ze(e,t&&t.tag,n),n)}function Wt(e,t){let n=Ht(e&&e[0]);return new P(t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Ht(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof P)}function It(e,t,n={},r={}){return typeof t!="function"&&(r=n||{},n=t||{},t=e,e=w.body),n.route=r.route=y.route,ct.set(e,{view:t,attrs:n,context:r}),pt({view:t,attrs:n,context:r},e),t}function te(){He&&(requestAnimationFrame(Ut),He=!1)}function Ut(){ct.forEach(pt),He=!0}function pt({view:e,attrs:t,context:n},r){me(r,[].concat(e(t,[],n)),n),ye.forEach(s=>s()),ye=[]}function me(e,t,n,r,s=e.lastChild){let i=t[0]&&t[0].key!=null&&new Array(t.length),a=r?r.nextSibling:e.firstChild,l=de.has(a),o=s?s.nextSibling:null;i&&(i.rev={})&&l?$t(e,n,de.get(a),t,i,o):Kt(e,n,t,i,a,o);let c=r?r.nextSibling:e.firstChild;return i&&(de.set(c,i),c!==a&&de.delete(a)),X(c,o&&o.previousSibling||e.lastChild)}function ne(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function Kt(e,t,n,r,s,i=null){let a=0,l,o;for(;a<n.length;)(s===null||!B.has(s))&&(o=n[a],l=s!==i?re(s,o,t,e):re(null,o,t),s===i&&e.insertBefore(l.dom,i),r&&ne(r,l.first,o.key,a),s=l.last,a++),s!==null&&(s=s.nextSibling,s!==null&&s.nodeType===8&&s.nodeValue===","&&(s=q(s,e).after));for(;s&&s!==i;)s=q(s,e).after}function $t(e,t,n,r,s,i){let a=n.rev,l=n.length-1,o=r.length-1,c=n[l],u=r[o],p=-1;e:for(;;){for(;c.key===u.key;){if(i=se(c.dom,u,t,e).first,ne(s,i,u.key,o),delete a[u.key],o===0)break e;if(l===0){u=r[--o];break}c=n[--l],u=r[--o]}if(u.key in a){if(p=a[u.key],p>o)p=se(n[p].dom,u,t,e),Ie(e,p,i),i=p.first,ne(s,i,u.key,o);else if(p!==o)p=se(n[p].dom,u,t,e),Ie(e,p,i),i=p.first,ne(s,i,u.key,o);else{c=n[--l];continue}if(delete a[u.key],o===0)break;u=r[--o]}else{if(p=se(null,u,t),Ie(e,p,i),i=p.first,ne(s,i,u.key,o),o===0)break;u=r[--o]}}for(let A in a)q(n[a[A]].dom,e)}function Ie(e,{first:t,last:n},r){let s=t,i;do i=s,s=i.nextSibling;while(e.insertBefore(i,r)!==n)}function re(e,t,n,r,s,i){return typeof t=="function"?t.constructor===S?Bt(e,t,n,r,s,i):re(e,t(),n,r,s,i):t instanceof P?se(e,t,n,r,s,i):Array.isArray(t)?Jt(e,t,n,r):t instanceof Node?X(t):Ue(e,t,r,i)}function se(e,t,n,r,s,i){return t.component?Yt(e,t,n,r,s,i):Xt(e,t,n,r,i)}function Bt(e,t,n,r){if(ge.has(e))return ge.get(e);let s;return i(t()),t.observe(i),s;function i(a){s=re(e,a,n,r||e&&e.parentNode),ge.set(s.first,s),e&&e!==s.first&&ge.delete(e),e=s.first}}function X(e,t=e,n=t){return{dom:e,first:t,last:n}}function Jt(e,t,n,r){let s=J.has(e)?J.get(e):e,i=Ue(e,"["+t.length,r,!1,8);if(r){let a=s?s.nextSibling:null;me(r,t,n,i.first,s);let l=a?a.previousSibling:r.lastChild;return s!==l&&J.set(i.first,l),X(i.dom,i.first,l)}return r=new DocumentFragment,r.appendChild(i.dom),me(r,t,n,i.first,s),J.set(i.first,r.lastChild),X(r,i.first,r.lastChild)}function Ue(e,t,n,r,s=typeof t=="boolean"||t==null?8:3){let i=r||!e||e.nodeType!==s;return i&&St(e,e=s===8?w.createComment(t):w.createTextNode(t),n),!i&&e.nodeValue!==""+t&&(e.nodeValue=t),X(e)}function Xt(e,t,n,r,s=e===null||Zt(e,t)){let i=n.NS;s&&St(e,e=_t(t,n),r);let a=en(e,t,n,s);return t.attrs.domSize=t.children&&t.children.length,t.attrs.domSize?me(e,t.children,n):a&&a.domSize&&e.hasChildNodes()&&Gt(e.firstChild,e),n.NS=i,X(e)}function Zt(e,t){return e.tagName!==(t.tag.name||"DIV").toUpperCase()}function _t(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||qt[e.tag.name])?n?w.createElementNS(t.NS,e.tag.name,{is:n}):w.createElementNS(t.NS,e.tag.name):n?w.createElement(e.tag.name||"DIV",{is:n}):w.createElement(e.tag.name||"DIV")}function Gt(e,t){do e=q(e,t).after;while(e)}function Qt(e){let t=[];e.onremove=i=>t.push(()=>i);let n=[],r=0,s=0;return{life:t,get exhausted(){return r>=n.length},get key(){return r<n.length?n[r].key:null},next(i){return arguments.length&&(n.length=r,n[r]={key:null,instance:i}),r<n.length&&n[s=r++]},pop(){return--r==0&&(n.length=s+1,!(s=0))}}}function Yt(e,t,n,r,s=x.has(e)?x.get(e):Qt(n),i=s.exhausted||s.key!==t.key){let a=i?s.next(t.component(t.attrs,t.children,n)):s.next(),l=a.instance&&typeof a.instance.then=="function";t.key&&(a.key=t.key);let o;l?(o=Ue(e,"pending",r,!1,8),i&&a.instance.catch(u=>(console.error(u),u)).then(u=>{!x.has(o.first)||(a.instance=u,te())})):o=re(e,vt(typeof a.instance=="function"?a.instance(t.attrs,t.children,n):i?a.instance:t.component(t.attrs,t.children,n),t),n,r,s,i||void 0);let c=e!==o.first;return s.pop()&&(c||i)&&(c&&x.delete(e),x.set(o.first,s),!l&&dt(o.first,t.attrs,t.children,n,s.life)),o}function vt(e,t){return t?.tag?e?.tag?(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e):(e.tag=t.tag,e):e}function xt(e){for(let t in e)return!1;return!0}function en(e,t,n,r){let s=t.tag,i,a,l=!r&&F.has(e)?F.get(e):void 0;l&&t.attrs&&(t.attrs.handleEvent=l.handleEvent),!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(r&&t.tag.classes||t.attrs.class!==(l&&l.class)||t.attrs.className!==(l&&l.className))&&(e.className=pe(t)),r&&t.attrs.class?.observe(()=>e.className=pe(t)),r&&t.attrs.className?.observe(()=>e.className=pe(t));for(i in t.attrs)!ft(i)&&(!l||l[i]!==t.attrs[i])&&(a=t.attrs[i],r&&tn(e,i,a,n),nn(e,n,t.attrs,i,l&&l[i],a),a=!0);if(l)for(let o in l)o in t.attrs||(yt(o)?mt(e,F,o):e.removeAttribute(o));if(t.tag)for(gt(e,t.tag.vars,t.tag.args,r);s=s.parent;)gt(e,s.vars,s.args,r);return r&&t.attrs.dom&&dt(e,t.attrs,t.children,n,t.attrs.dom),a?F.set(e,t.attrs):l&&xt(t.attrs)&&F.delete(e),l}function tn(e,t,n,r){n&&n.constructor===S&&n.observe(s=>$e(e,t,s,r))}function gt(e,t,n,r){for(let s in t){let{unit:i,index:a}=t[s],l=n[a];Ke(e,s,l,i,r)}}function Ke(e,t,n,r,s,i){if(typeof n!="function"){e.style.setProperty(t,ce(n,r)),i&&ye.push(()=>e.style.setProperty(t,ce(n,r)));return}if(n.constructor!==S)return Ke(e,t,n(e),r,s,s);s&&(n.observe(a=>e.style.setProperty(t,ce(a,r))),Ke(e,t,n(),r,s,s))}function dt(e,t,n,r,s){ye.push(()=>{s=[].concat(s).map(i=>typeof i=="function"&&i(e,t,n,r)).filter(i=>typeof i=="function"),s.length&&ee.set(e,(ee.get(e)||[]).concat(s))})}function nn(e,t,n,r,s,i){if(s===i)return;r==="href"&&i&&!i.match(/^([a-z]+:)?\/\//)&&(i=y.pathmode+v(i),Ft(e));let a=yt(r);a&&typeof s==typeof i||(a?i?rn(e,n,r):mt(e,n,r):$e(e,r,i,t))}function $e(e,t,n,r){if(typeof n=="function")return $e(e,t,n(),r);!n&&n!==0?e.removeAttribute(t):!r.NS&&t in e&&typeof n!="boolean"?e[t]=n:e.setAttribute(t,n===!0?"":n)}function yt(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function mt(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function rn(e,t,n){!t.handleEvent&&(t.handleEvent=sn(e)),e.addEventListener(n.slice(2),t.handleEvent)}function sn(e){return{handleEvent:t=>bt(F.get(e)["on"+t.type],t)}}function bt(e,t){let n=typeof e=="function"?e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t);t.redraw!==!1&&e.constructor!==S&&te(),n&&typeof n.then=="function"&&n.then(te)}function St(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),q(e,n)),t}function ln(e,t,n){if(!ee.has(e))return n.length&&(B.add(e),Promise.allSettled(n));let r=ee.get(e).map(s=>s()).filter(s=>s&&typeof s.then=="function");return ee.delete(e),r.length===0?n.length&&(B.add(e),Promise.allSettled(n)):(B.add(e),Promise.allSettled(r.concat(n)).then(()=>{B.delete(e),q(e,t)}))}function an(e,t,n){if(!J.has(e))return e.nextSibling;let r=J.get(e);if(e===r)return e.nextSibling;let s=r.nextSibling;if(e=e.nextSibling,!e)return s;do{let i=q(e,t,!1);i.life&&n.push(i.life),e=i.after}while(e&&e!==s);return s}function q(e,t,n=!0){if(!t||B.has(e))return{after:e.nextSibling,life:null};let r=[],s=e.nextSibling;if(e.nodeType===8&&(s=an(e,t,r)),e.nodeType!==1)return n&&t.removeChild(e),{after:s,life:null};let i=e.firstChild;for(;i!==null;){let l=q(i,e,!1).life;l&&r.push(l),i=i.nextSibling}let a=ln(e,t,r);return n&&!a&&t.removeChild(e),{after:s,life:a}}export{y as default};
