var q=typeof window>"u"||typeof window.document>"u",me=Symbol("stackTrace"),m={}.hasOwnProperty;function G(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function St(e){return!e&&e!==0&&e!==""}function Se(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function V(e){return e&&y(e.observe)}function y(e){return typeof e=="function"}function He(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function Ie(e){return e&&Array.isArray(e.raw)}function $e(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function Ke(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function At(e){return(be(e.attrs.class)+be(e.attrs.className)+e.tag.classes).trim()}function Ae(e){return Array.isArray(e)?e:[e]}function W(){}function Ee(e){return $e(e)||(e==="cssFloat"?"float":Se(e))}function be(e){return V(e)?be(e.value):y(e)?be(e()):e?typeof e=="object"?cr(e):e+" ":""}function cr(e){let t="";for(let r in e)t+=(t?" ":"")+(e[r]||"");return t}typeof globalThis>"u"&&(window.globalThis=window);var S=q?{}:window;var N=class{constructor(t,r,n=null,s=0,i=null,l=null){this.level=s,this.component=r,this.inline=t,this.tag=n,this.attrs=i,this.key=i?i.key:void 0,this.dom=null,this.children=l,this.stack=m.call(S,me)?new Error().stack:null}};["head","get","put","post","delete","patch"].forEach(e=>M[e]=function(t,r={}){return r.method=e,M(t,r)});M.redraw=()=>{};var fr=typeof Uint8Array>"u"?[]:[Object.getPrototypeOf(Uint8Array)],hr="Blob ArrayBuffer DataView FormData URLSearchParams File".split(" ").map(e=>globalThis[e]).filter(e=>e).concat(fr);function M(e,{method:t="GET",redraw:r=!0,responseType:n,json:s="application/json",query:i,body:l,user:a,pass:o,headers:c={},config:u,timeout:f=0}={}){let h=new S.XMLHttpRequest,se=!1,I=new Promise((U,T)=>{let k,Z;t=t.toUpperCase(),h.addEventListener("readystatechange",function(){if(h.readyState===h.DONE){try{h.status&&Object.defineProperty(h,"body",{value:k===s?JSON.parse(h.response):h.response}),h.status===304||h.status>=200&&h.status<300?U(se?h:h.body):T(pr(h))}catch(L){T(L)}r&&M.redraw&&M.redraw()}}),h.addEventListener("error",T),h.addEventListener("abort",()=>T(new Error("ABORTED"))),h.open(t,dr(e,i),!0,a,o),h.timeout=f,n&&(h.responseType=n),Object.entries(c).forEach(([L,Be])=>{h.setRequestHeader(L,Be),L.toLowerCase()==="accept"&&(k=Be),L.toLowerCase()==="content-type"&&(Z=Be)}),!k&&!n&&s&&h.setRequestHeader("Accept",k=s),!Z&&l!==void 0&&!hr.some(L=>l instanceof L)&&s&&h.setRequestHeader("Content-Type",Z=s),u&&u(h),h.send(Z===s?JSON.stringify(l):l)}).catch(U=>{let T=Object.assign(new Error(U.message),{...U,url:e,status:h.status,body:h.body||h.response});throw Object.defineProperty(T,"xhr",{value:h}),T});return Object.defineProperty(I,"xhr",{get(){return se=!0,I}}),I}function pr(e){return new Error(e.status?e.status+(e.statusText?" "+e.statusText:""):"Unknown")}function dr(e,t){let r=new URL(e,"http://x"),n=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+r.search+(n?(r.search?"&":"?")+n:"")+(r.hash||"")}function Et(){let e=new Set;return t.observe=r=>(e.add(r),()=>e.delete(r)),t;function t(...r){[...e].forEach(n=>n(...r))}}function X(e,...t){let r=new Set;return y(t)&&r.add(t),i.value=e,i.observe=a=>(r.add(a),()=>r.delete(a)),i.valueOf=i.toString=i.toJSON=()=>e,i.detach=W,i.reduce=l,i.set=a=>(...o)=>(i(y(a)?a(...o):a),i),i.get=a=>Object.assign(n.bind(null,a),{observe:o=>i.observe(()=>o(n(a)))}),i.if=(...a)=>Object.assign(s.bind(null,...a),{observe:o=>i.observe(c=>o(s(...a)))}),i;function n(a){return y(a)?a(i.value):i.value[a]}function s(a,o=!0,c=!1){return i.value===a?o:c}function i(a){return arguments.length&&(i.value=a,[...r].forEach(o=>i.value!==e&&o(i.value,e)),e=i.value),i.value}function l(a,o){let c=1,u=X(arguments.length>1?a(o,i.value,c++):i.value);return i.observe(f=>u(a(u.value,f,c++))),u}}X.from=function(...e){let t=e.pop(),r=X(t(...e.map(Je))),n=e.map(s=>s.observe(()=>r(t(...e.map(Je)))));return r.detach=()=>n.forEach(Je),r};function Je(e){return e()}function Qe(e,t){let r=URLSearchParams,n=t.search,s=new r(n),i,l={replace:c=>(s=new r(c),o())};for(let c in r.prototype)l[c]=(...u)=>(i=a()[c](...u),o(),i);return l;function a(){return n===t.search?s:(n=t.search,s=new r(n))}function o(){S.history.pushState(S.history.state,null,t.pathname+(s+""?"?"+(s+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var Ct=!1,kt={};function Ot(e){return e.split(/(?=\/)/)}function gr(e,t){return e.reduce((r,n,s)=>r+(n==="/?"?1:n===t[s]?6:n&&t[s]&&n.toLowerCase()===t[s].toLowerCase()?5:n[1]===":"&&t[s]&&t[s].length>1?4:n==="/"&&!t[s]?3:n==="*"||n==="/*"?2:-1/0),0)}function yr(e,t){return e.reduce((r,n,s)=>(n[1]===":"&&(r[n.slice(2)]=decodeURIComponent(t[s].slice(1))),r),{})}function wt(e,t,r){return y(e)?e(t,[],r):e}function ie(e,t,r){let n=r.location,s=e(({route:c,...u},[f],C)=>(C.route=c,()=>typeof f=="string"?import((f[0]==="/"?"":c)+f).then(h=>wt(h.default,u,C)):wt(f,u,C)));return o.query=Qe(e,r.location),o.toString=o,o.has=c=>c==="/"?i(n)===t||i(n)==="/"&&t==="":i(n).indexOf(G(t+"/"+c))===0,Object.defineProperty(o,"path",{get(){let c=i(n),u=c.indexOf("/",t.length+1);return u===-1?c:c.slice(0,u)}}),o;function i(c,u=0){return(e.pathmode[0]==="#"?c.hash.slice(e.pathmode.length+u):e.pathmode[0]==="?"?c.search.slice(e.pathmode.length+u):c.pathname.slice(e.pathmode+u)).replace(/(.)\/$/,"$1")}function l(c,{state:u,replace:f=!1,scroll:C=a(c)}={}){c!==i(n)&&(e.pathmode[0]==="#"?S.location.hash=e.pathmode+c:e.pathmode[0]==="?"?S.location.search=e.pathmode+c:S.history[f?"replaceState":"pushState"](u,null,e.pathmode+c),kt[c]=u,e.redraw(),C&&scrollTo(0,0))}function a(c){return c.split("/")[1]!==o.path.split("/")[1]}function o(c,u={}){if(typeof c>"u")return t+"/";if(typeof c=="string")return l(G(c[0]==="/"?c:"/"+c),u);Ct||(Ct=!0,e.pathmode[0]==="#"?S.addEventListener("hashchange",e.redraw,{passive:!0}):y(S.history.pushState)&&S.addEventListener("popstate",e.redraw,{passive:!0}));let f=i(n,t.length),C=Ot(f),[,h,se]=Object.entries(c).reduce((T,[k,Z])=>{k.charCodeAt(0)===47||(k="/"+k),k=Ot(G(k));let L=gr(k,C);return L>T[0]?[L,k,Z]:T},[0]),I=t+(h&&h[0]!=="/*"?h.map((T,k)=>C[k]).join(""):"");(se===void 0||h[0]==="/?")&&r.doc.status(404);let U=ie(e,I.replace(/\/$/,""),r);return U.parent=o,U.root=o.parent?o.parent.root:o,s({key:I||"?",route:U,...t+f===I&&kt[t+f]||{},...yr(h||[],C)},se)}}var Ze=(e,t)=>(e[t.split("-").map(r=>r[0]).join("")]=t,e),vt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-area","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","pointer-events","right","top","text-align","text-decoration","text-transform","text-shadow","user-select","white-space","width","z-index"];var ue=S.document,D=ue.querySelector("style.sin")||ue.createElement("style"),br=/^(ms|moz|webkit)[-A-Z]/i,xe=D&&D.getAttribute("id")||"sin-",x=ue.createElement("div"),jt={},Nt={},Ge={};var Rt=e=>Object.entries(e).forEach(([t,r])=>jt["@"+t]=r),Ce={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","text-shadow":"px","@media":"px"},we=Array.from(Object.keys(m.call(x.style,"width")?x.style:Object.getPrototypeOf(x.style)).reduce((e,t)=>(e.add(t.match(br)?"-"+Se(t):Se(t)),e),new Set(["float"]))),mr=Object.assign(we.reduce(Ze,{}),vt.reduce(Ze,{})),We=we.reduce((e,t)=>{let r=t.match(/-(ms|o|webkit|moz)-/g);if(r){let n=t.replace(/-(ms|o|webkit|moz)-/,"");we.indexOf(n)===-1&&(n==="flexDirection"&&(e.flex="-"+r[1].toLowerCase()+"-flex"),e[n]=t)}return e},{}),Xe=new Map,Tt=new Set,Sr=q||typeof S<"u"&&S.CSS&&CSS.supports("color","var(--support-test)"),Ar=["perspective","blur","drop-shadow","inset","polygon"],Er=["@media","@supports","@document","@layer"],Cr=e=>Er.some(t=>e.indexOf(t)===0),kr=e=>e.indexOf("translate")===0||Ar.indexOf(e)>-1,Or=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,et=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,Ft=e=>e>=48&&e<=57||e===46,wr=e=>e>=65&&e<=90||e>=97&&e<=122,Ut=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,vr=e=>e===34||e===39,Pt=e=>e===32||e===58||e===9,Nr=e=>e===59||e===10||e===125,qt=e=>e===38||e===58||e===64||e===91,Tr=e=>e===59||e===125,it=e=>e[e.length-1],j=[],ee=[],F=-1,b=-1,R=-1,ae=-1,ve=-1,_=-1,p=-1,te=-1,K=-1,Mt=-1,B=-1,P="",_e="",E="",z="&",$="",le="",ke="",A="",tt="",rt="",oe="",Y="",g="",O="",Lt="",v=null,Vt=!0,Ne=!1,nt=!1,Ye=!0,st=!1,H=0,Oe=!1;function at(e){return mr[e]||e}function Dt(e,t,r){return(e?";":"")+(Ne?t:Pr(t))+":"+r}function Pr(e){return Nt[e]||(Nt[e]=Mr(at(e)))}function Lr(e){return e.replace(/,\s*[:[]?/g,t=>qt(t.charCodeAt(t.length-1))?",&"+it(t):",& ")}function Te(e,t){if(Vt&&(D&&ue.head&&ue.head.appendChild(D),Vt=!1),D&&D.sheet)try{D.sheet.insertRule(e,t??D.sheet.cssRules.length)}catch(r){console.error("Insert rule error:",r,e)}}function lt([e,...t],r,n=0,s=!1){if(Xe.has(e))return{...Xe.get(e),args:t};Oe=s;let i={};rt=oe=Y=A=O=E="",j.length=ee.length=H=0,te=b=Mt=ve=B=-1,v=Oe?{}:null,st=!1,nt=!1,Ye=!0,g=e[0];for(let a=0;a<e.length;a++)if(v?zt(0,a===e.length-1):Vr(e,a,t,r),g=e[a+1],a<t.length)if(Sr&&b>=0){let o=e[a].slice(b);P=xe+Math.abs(H).toString(31),i[Lt="--"+P+a]={property:E,unit:$t(E,it(ee)),index:a},O+=o+"var("+Lt+")",b=0}else t[a]&&(g=t[a]+g),Ye=!1,b=-1;if(st)if(Oe)Object.entries(v).forEach(([a,o])=>{Te(a.replace(/&\s+/g,"").replace(/{&$/,"")+"{"+o+"}")});else{P=xe+Math.abs(H).toString(31),Y+=(Y?" ":"")+P,_e="";for(let a=0;a<n;a++)_e+="."+P;Tt.has(P)||Object.entries(v).forEach(([a,o])=>{Te(a.replace(/&/g,"."+P+_e)+"{"+o+"}")})}let l={name:rt,classes:Y,id:oe,args:t,vars:i,parent:r};return Ye?Xe.set(e,l):Tt.add(P),l}function Vr(e,t,r,n){for(let s=0;s<=g.length;s++)if(p=g.charCodeAt(s),s<g.length&&(H=Math.imul(31,H)+p|0),nt){if(et(p)){v={},zt(s++,t===e.length-1);break}}else!et(p)||s===g.length?(Y=(R!==-1?g.slice(R+1,s).replace(/\./g," "):"")+Y+(n?" "+n.classes:""),oe===""&&(oe=(ae!==-1?g.slice(ae,R===-1?s:R):"")||(n?n.id:null)),rt=g.slice(0,oe?ae-1:R!==-1?R:s)||n&&n.name,ae=R=-1,nt=!0):p===35?ae=s+1:R===-1&&p===46&&(R=s)}function jr(e){return jt[e]||e}function zt(e,t){for(let r=e;r<=g.length;r++)p=g.charCodeAt(r),r<g.length&&(H=Math.imul(31,H)+p|0),_===-1&&b!==-1&&(Ne?Tr(p):Nr(p)||t&&r===g.length)&&Rr(r),_!==-1?_===p&&g.charCodeAt(r-1)!==92&&(_=-1):_===-1&&vr(p)?(_=p,b===-1&&(b=r)):p===123?Fr(r):p===125||t&&r===g.length?Ur():r!==g.length&&F===-1&&et(p)?(F=r,ve=p):!E&&F>=0&&Pt(p)?(E=g.slice(F,r),Ne=p===58):b===-1&&E&&!Pt(p)?(b=r,Ft(p)?K=r:p===36&&(B=r)):b!==-1?Bt(r):(p===9||p===32)&&(te=r+1)}function Rr(e){K>-1&&!Ut(p)?It(e):B>-1&&Ht(e),E==="@import"?Te(E+" "+g.slice(b,e)+";",0):A+=Dt(A,E,O+g.slice(b,e)),st=!0,F=b=-1,Ne=!1,E=O=""}function Fr(e){E==="animation"?(A&&(v[z]=A),le=O+g.slice(b,e).trim(),tt=O="",A=""):le?(ke=g.slice(F,e).trim(),A=""):(A&&(v[z]=A),$=(ve===64?jr(E)+(O||"")+g.slice(b-1,e):g.slice(F,e)).trim(),$.indexOf(",")!==-1&&($=Lr($)),O=E="",j.push((qt(ve)?"":" ")+($==="@font-face"?Array(++Mt+1).join(" "):"")+$),z=Kt(j),A=v[z]||""),F=b=-1,E=""}function Ur(){ke?(tt+=ke+"{"+A+"}",ke=A=""):le?(A=v[z]||"",P=xe+Math.abs(H).toString(31),Te("@keyframes "+P+"{"+tt+"}"),A+=Dt(A,"animation",le+" "+P),le=""):(j.pop(),j.length&&j[0].indexOf("@keyframes")===0?v[j[0]]=(v[j[0]]||"")+$+"{"+A+"}":A&&(v[z]=A.trim()+j.map(e=>e.charCodeAt(0)===64?"}":"").join("")),z=Kt(j),A=v[z]||""),F=b=-1,E=""}function Bt(e){Ft(p)?K===-1&&(K=e):K>-1?It(e):B>-1&&Ht(e),p===40?ee.push(g.slice(Math.max(te,b),e)):p===41?ee.pop():p===9||p===32?te=e+1:p===36&&(B=e)}function Ht(e){wr(p)||(O=O+g.slice(b,B)+"var(--"+g.slice(B+1,e)+")",b=e,B=-1)}function It(e){!Ut(p)&&g.charCodeAt(te)!==35&&(O=O+g.slice(b,e)+$t(E,it(ee)),b=e),K=-1}function $t(e,t=""){e=at(e);let r=e+","+t;return m.call(Ge,r)?Ge[r]:Ge[r]=t&&kr(t)?"px":Or(t)?"deg":t?"":qr(e)}function Pe(e,{property:t,unit:r}){if(!e&&e!==0)return"";if(y(e)&&(e=q?"":e()),typeof e=="number")return e+r;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";g=e,O="",b=0,K=te=-1,ee.length=0,E=t;for(let n=0;n<=e.length;n++)p=e.charCodeAt(n),Bt(n);return O+e.slice(b)}function Kt(e){return e.length===0?"&&":e.reduce((t,r,n,s)=>{let i=r.charCodeAt(0);return i===64&&Cr(r)?r+"{"+(n===s.length-1?"&&":"")+t:t+(Oe?"":i===32?"&":"&&")+r},"")}function qr(e){if(e=at(e),$e(e)||m.call(Ce,e))return Ce[e];try{return x.style[e]="1px",x.style.setProperty(e,"1px"),Ce[e]=x.style[e].slice(-3)==="1px"?"px":""}catch{return Ce[e]=""}}function Mr(e){if(we.indexOf(e)===-1){if(We[e])return console.log(e,"prefixed to",We[e]),We[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}var w=S.document,Jt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ue=new WeakSet,Wt=new Map,ft=Symbol("deferrable"),fe=Symbol("observable"),Re=Symbol("component"),ht=Symbol("event"),pe=Symbol("array"),Le=Symbol("live"),Qt=Symbol("size"),he=Symbol("life"),qe=Symbol("attr"),ot=Symbol("keys"),Xt=Symbol("key"),ye=Symbol("s"),pt=!0,Me=[],De=!1;function d(...e){let t=typeof e[0];return t==="string"?dt(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Yt(dt,Ie(e[0])?_t(e):t==="function"?new N(De,e):new N(De,[e[1],e[0]]))}function dt(...e){return Ie(e[0])?Yt(dt,_t(e,this)):Ir(e,this)}function _t(e,t){let r=t?t.level+1:0;return new N(t&&t.inline,t&&t.component,lt(e,t&&t.tag,r),r)}function Yt(e,t){let r=e.bind(t);return r[ye]=!0,r}d.sleep=(e,...t)=>new Promise(r=>setTimeout(r,e,...t));d.with=(e,t)=>t(e);d.isServer=q;d.pathmode="";d.redraw=ne;d.mount=Kr;d.css=(...e)=>lt(e,null,0,!0);d.animate=Br;d.http=M;d.http.redraw=!d.isServer&&ne;d.medias=Rt;d.live=X;d.signal=Et;d.on=zr;d.trust=Dr;d.route=ie(d,"",{location:S.location});d.window=S;d.error=d(e=>(console.error(e),()=>d`pre;all initial;d block;c white;bc #ff0033;p 8 12;br 6;overflow auto;fs 12`(d`code`("Unexpected Error: "+(e.message||e)))));function Dr(e,...t){return d(()=>{let r=w.createElement("div");r.innerHTML=String.raw({raw:e},...t);let n=[...r.childNodes];return()=>n})}function zr(e,t,r,n){return()=>{let s=i=>or(r,i);return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}}function Br(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),r=>r&&new Promise(n=>{let s=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(s=!0,t(n)),{once:!0,passive:!0}),hn(()=>s?t(n):n())});function t(r){e.addEventListener("transitionend",r,{once:!0,passive:!0}),e.addEventListener("transitioncancel",r,{once:!0,passive:!0})}}function Hr(e,t){e.addEventListener("click",r=>{if(!r.defaultPrevented&&(r.button===0||r.which===0||r.which===1)&&(!r.currentTarget.target||r.currentTarget.target==="_self")&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey){r.preventDefault();let n=e[qe].state;t(e.getAttribute("href"),{state:n})}})}function Ir(e,t){let r=$r(e&&e[0]);return new N(t.inline,t.component,t.tag,t?t.level+1:0,r?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function $r(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof N)&&!(e instanceof S.Node)}function Kr(e,t,r={},n={}){if(y(t)||(n=r||{},r=t||{},t=e,e=w.body),!(t instanceof N)&&(t=d(t)),m.call(n,"location")||(n.location=S.location),m.call(n,"error")||(n.error=d.error),q)return{view:t,attrs:r,context:n};n.hydrating=Jr(e.firstChild);let s={head:n.hydrating?W:xt,lang:d.live(w.documentElement.lang,i=>w.documentElement.lang=i),title:d.live(w.title,i=>w.title=i),status:W,headers:W};n.doc=s,Object.assign(n,s),n.route=ie(d,"",n),Wt.set(e,{view:t,attrs:r,context:n}),er({view:t,attrs:r,context:n},e)}function xt(e){if(Array.isArray(e))return e.forEach(xt);let t=w.createElement(e.tag.name);for(let r in e.attrs)t.setAttribute(r,e.attrs[r]);e.children.length&&(t.innerHTML=t.children[0]),w.head.appendChild(t)}function Jr(e){return e&&e.nodeType===8&&e.nodeValue==="h"&&(e.remove(),!0)}function ne(){pt&&(Promise.resolve().then(Qr),pt=!1)}function Qr(){Wt.forEach(er),pt=!0}function er({view:e,attrs:t,context:r},n){De=!0;try{let s=e(t,[],r);de(n,Ae(s),r)}catch(s){t.error=s,de(n,Ae(r.error(s,t,[],r)),r)}De=!1,Me.forEach(s=>s()),Me=[]}function de(e,t,r,n,s=e.lastChild){let i=t[0]&&t[0].key!==void 0&&new Array(t.length),l=Zt(n,e),a=l&&m.call(l,ot),o=s?s.nextSibling:null;i&&(i.rev={})&&a?Gr(e,r,l[ot],t,i,o):Zr(e,r,t,i,l,o);let c=Zt(n,e);return i&&(c[ot]=i),J(c,o&&o.previousSibling||e.lastChild)}function Zt(e,t){let r=e?e.nextSibling:t.firstChild;for(;Ue.has(r);)r=r.nextSibling;return r}function ce(e,t,r,n){e[n]={dom:t,key:r},e.rev[r]=n}function Zr(e,t,r,n,s,i=null){let l=0,a,o;for(;l<r.length;)(s===null||!Ue.has(s))&&(o=r[l],a=s!==i?ge(s,o,t,e):ge(null,o,t),s===i&&e.insertBefore(a.dom,i),n&&ce(n,a.first,o.key,l),s=a.last,l++),s!==null&&(s=s.nextSibling,s!==null&&s.nodeType===8&&s.nodeValue===","&&(s=Q(s,e)));for(;s&&s!==i;)s=Q(s,e)}function Gr(e,t,r,n,s,i){let l=r.rev,a=r.length-1,o=n.length-1,c=r[a],u=n[o],f=-1;e:for(;;){for(;c.key===u.key;){if(i=re(c.dom,u,t,e).first,ce(s,i,u.key,o),delete l[u.key],o===0)break e;if(a===0){u=n[--o];break}c=r[--a],u=n[--o]}if(m.call(l,u.key)){if(f=l[u.key],f>o)f=re(r[f].dom,u,t,e),ut(e,f,i),i=f.first,ce(s,i,u.key,o);else if(f!==o)f=re(r[f].dom,u,t,e),ut(e,f,i),i=f.first,ce(s,i,u.key,o);else{c=r[--a];continue}if(delete l[u.key],o===0)break;u=n[--o]}else{if(f=re(null,u,t),ut(e,f,i),i=f.first,ce(s,i,u.key,o),o===0)break;u=n[--o]}}for(let C in l)Q(r[l[C]].dom,e)}function ut(e,{first:t,last:r},n){let s=t,i;do i=s,s=i.nextSibling;while(e.insertBefore(i,n)!==r)}function ge(e,t,r,n,s,i){return V(t)?Wr(e,t,r,n,s,i):y(t)?ge(e,t(),r,n,s,i):t instanceof N?re(e,t,r,n,s,i):t instanceof Promise?re(e,d(()=>t)(),r,n,s,i):Array.isArray(t)?rr(e,t,r,n,i):t instanceof Node?J(t):nr(e,t,n,i)}function re(e,t,r,n,s,i){return t.component?Fe(e,t,r,n,s,i):Yr(e,t,r,n,i)}function Wr(e,t,r,n){if(e&&m.call(e,Le)&&e[Le]===t)return e[Le];let s;return i(t.value),t.observe(i),s;function i(l){s=ge(e,l,r,n||e&&e.parentNode),s.first[Le]=s,e=s.first}}function J(e,t=e,r=t){return{dom:e,first:t,last:r}}function Xr(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function _r(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&Xr(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[pe]=t),t}function tr(e){return e&&m.call(e,pe)?e[pe]:_r(e)}function rr(e,t,r,n,s){s&&e&&n&&(e=rr(e,[],r,n).first);let i=tr(e)||e,l=nr(e,"["+t.length,n,e===i,8);if(n){let a=i?i.nextSibling:null;de(n,t,r,l.first,i);let o=a?a.previousSibling:n.lastChild;return i!==o&&(l.first[pe]=o),J(l.dom,l.first,o)}return n=new DocumentFragment,n.appendChild(l.dom),de(n,t,r,l.first,i),l.first[pe]=n.lastChild,J(n,l.first,n.lastChild)}function nr(e,t,r,n,s=typeof t=="boolean"||t==null?8:3){let i=n||!e||e.nodeType!==s;return i&&ur(e,e=s===8?w.createComment(t):w.createTextNode(t),r),!i&&e.nodeValue!==""+t&&(e.nodeValue=t),J(e)}function Yr(e,t,r,n,s=e===null||en(e,t)){let i=r.NS;t.attrs.xmlns||Jt[t.tag.name]&&(r.NS=t.attrs.xmlns||Jt[t.tag.name]),s&&ur(e,e=tn(t,r),n);let l=t.children&&t.children.length;return an(e,t,r,s),l?de(e,t.children,r):e[Qt]&&xr(e.firstChild,e),e[Qt]=l,r.NS=i,m.call(t,"key")&&(e[Xt]=t.key),J(e)}function xr(e,t){for(;e;)e=Q(e,t)}function en(e,t){return e[Xt]!==t.key||e.nodeName.toUpperCase()!==(t.tag.name||"div").toUpperCase()}function tn(e,t){let r=e.attrs.is;return t.NS?r?w.createElementNS(t.NS,e.tag.name,{is:r}):w.createElementNS(t.NS,e.tag.name):r?w.createElement(e.tag.name||"DIV",{is:r}):w.createElement(e.tag.name||"DIV")}var gt=class{constructor(t,r,n,s,i){this.init=t,this.key=void 0,this.view=r,this.error=n,this.caught=void 0,this.loading=s,this.hydrating=i,this.onremoves=void 0}},yt=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t){if(this.i>=this.xs.length)return!0;let r=this.xs[this.i];return r.key!==t.key||r.init&&r.init!==t.component[0]}add(t,r,n){let[s,i]=t.component,l=new gt(t.inline?!1:s,s,i&&i.error||r.error,i&&i.loading||r.loading,r.hydrating),a=f=>{f instanceof Event&&(f.redraw=!1),Fe(this.dom.first,t,r,this.dom.first.parentNode,this,!1)},o=f=>{l.onremoves&&(l.onremoves.forEach(C=>C()),l.onremoves=void 0),f instanceof Event&&(f.redraw=!1),Fe(this.dom.first,t,r,this.dom.first.parentNode,this,!0)},c=f=>{l.onremoves&&(l.onremoves.forEach(C=>C()),l.onremoves=void 0),f instanceof Event&&(f.redraw=!1),Fe(this.dom.first,t,r,this.dom.first.parentNode,this,!0,!0)};l.context=Object.create(r,{onremove:{value:f=>{Ve(this,l,f)}},ignore:{value:f=>{l.ignore=f}},refresh:{value:c},redraw:{value:a},reload:{value:o}});let u=sr(!0,l,t);return V(t.attrs.reload)&&Ve(this,l,t.attrs.reload.observe(o)),V(t.attrs.redraw)&&Ve(this,l,t.attrs.redraw.observe(a)),V(t.attrs.refresh)&&Ve(this,l,t.attrs.refresh.observe(c)),l.promise=u&&y(u.then)&&u,l.stateful=l.promise||y(u)&&!u[ye],l.view=n?this.xs[this.i].view:l.promise?l.loading:u,this.xs.length=this.top=this.i,this.xs[this.i++]=l}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}};function Ve(e,t,r){t.onremoves?e.life.push(()=>()=>t.onremoves.forEach(n=>n())):t.onremoves=new Set,t.onremoves.add(r)}function rn(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return J(e,e,t)}function nn(e,t){e.first.nextSibling[Re]=t,e.first.remove(),e.last&&e.last.remove()}function Fe(e,t,r,n,s=e&&e[Re]||new yt,i=s.changed(t),l=!1){let a=i?s.add(t,r,l):s.next();if(!i&&a.ignore)return s.pop(),s.dom;t.key&&i&&(a.key=t.key);let o=a.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97;if(o)a.next=rn(e);else{let u=sr(i,a,t);u&&m.call(u,ye)&&(u=u()),a.next=ge(e,!a.caught&&!a.promise&&u instanceof N?sn(u,t):u,a.context,n,s,(i||a.recreate)&&!a.hydrating?!0:void 0),a.hydrating&&(a.hydrating=r.hydrating=!1),a.recreate&&(a.recreate=!1)}i&&a.promise&&a.promise.then(u=>a.view=u&&m.call(u,"default")?u.default:u).catch(u=>{a.caught=u,a.view=ir(a,t,u)}).then(()=>m.call(a.next.first,Re)&&(o&&nn(a.next,s),a.recreate=!0,a.promise=!1,ne()));let c=e!==a.next.first;return s.pop()&&(c||i)&&(s.dom=a.next,a.next.first[Re]=s,!a.promise&&ar(a.next.first,t.attrs,t.children,a.context,s.life)),a.next}function sr(e,t,r){try{return t.stateful||e?y(t.view)&&!t.view[ye]?t.view(r.attrs,r.children,t.context):t.view:r.component[0](r.attrs,r.children,t.context)}catch(n){return ir(t,r,n)}}function ir(e,t,r){return m.call(e.error,ye)?e.error().component[0](r,t.attrs,t.children,e.context):e.error(r,t.attrs,t.children,e.context)}function sn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function an(e,t,r){let n=t.tag,s=e[qe],i=!s;m.call(t.attrs,"id")===!1&&t.tag.id&&(t.attrs.id=t.tag.id),(i&&t.tag.classes||t.attrs.class!==(s&&s.class)||t.attrs.className!==(s&&s.className)||e.className!==t.tag.classes)&&ct(e,t,r),i&&bt(e,t.attrs.class,()=>ct(e,t,r)),i&&bt(e,t.attrs.className,()=>ct(e,t,r)),t.attrs.type!=null&&ze(e,"type",t.attrs.type,r);for(let a in t.attrs)if(Ke(a))a==="deferrable"&&(e[ft]=t.attrs[a]);else if(!s||s[a]!==t.attrs[a]){let o=t.attrs[a];on(e,r,t.attrs,a,s&&s[a],o,i)}if(s)for(let a in s)m.call(t.attrs,a)===!1&&(He(a)?lr(e,a):Ke(a)?a==="deferrable"&&(e[ft]=!1):e.removeAttribute(a));let l=ln(e,t.attrs.style,s&&s.style);if(t.tag)for(Gt(e,t.tag.vars,t.tag.args,i,l);n=n.parent;)Gt(e,n.vars,n.args,i,l);i&&t.attrs.dom&&ar(e,t.attrs,t.children,r,t.attrs.dom),i&&t.stack&&(e[me]=t.stack),e[qe]=t.attrs}function ln(e,t,r){if(r!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(r==null||typeof r!="object"){e.style.cssText="";for(let n in t){let s=t[n];s!=null&&e.style.setProperty(Ee(n),s+"")}return!0}for(let n in t){let s=t[n];s!=null&&(s=s+"")!=r[n]+""&&e.style.setProperty(Ee(n),s)}for(let n in r)r[n]!=null&&t[n]==null&&e.style.removeProperty(Ee(n));return!0}}function bt(e,t,r){if(!V(t))return;let n=m.call(e,fe),s=n?e[fe]:new Set;n||(e[fe]=s),s.add(t.observe(r))}function ct(e,t,r){let n=At(t);n?r.NS?e.setAttribute("class",n):e.className=n:e.removeAttribute("class")}function Gt(e,t,r,n,s){for(let i in t){let l=t[i],a=r[l.index];mt(e,i,a,l,n,s)}}function mt(e,t,r,n,s,i,l){if(V(r)){s&&r.observe(a=>e.style.setProperty(t,Pe(a,n))),(s||i)&&mt(e,t,r.value,n,s,s);return}if(y(r)){requestAnimationFrame(()=>mt(e,t,r(e),n,s,i,l));return}e.style.setProperty(t,Pe(r,n)),l&&Me.push(()=>e.style.setProperty(t,Pe(r,n)))}function ar(e,t,r,n,s){Me.push(()=>{Ae(s).forEach(async i=>{let l=y(i)&&i(e,t,r,n);l&&y(l.then)&&(l=await l,ne()),y(l)&&(m.call(e,he)?e[he].push(l):e[he]=[l])},[])})}function on(e,t,r,n,s,i,l){if(s===i)return;n==="href"&&i&&!String(i).match(/^[a-z]+:|\/\//)&&(i=d.pathmode+G(i),Hr(e,t.route));let a=He(n);a&&typeof s==typeof i||(a?i?un(e,r,n):lr(e,n):(ze(e,n,i,t),l&&bt(e,i,o=>ze(e,n,o,t))))}function ze(e,t,r,n){if(y(r))return ze(e,t,r(),n);!n.NS&&t in e?e[t]=r:St(r)?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r)}function lr(e,t){e.removeEventListener(t.slice(2),e[ht])}function un(e,t,r){e.addEventListener(r.slice(2),e[ht]||(e[ht]=cn(e)))}function cn(e){return{handleEvent:t=>or(e[qe]["on"+t.type],t)}}function or(e,t){let r=y(e)?e.call(t.currentTarget,t):y(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&(!V(r)&&!V(e)&&ne(),r&&y(r.then)&&r.then(ne))}function ur(e,t,r){if(!!r)return e&&(r.insertBefore(t,e),Q(e,r)),t}function fn(e,t,r,n,s){let i=tr(e);if(!i||e===i)return e.nextSibling;let l=i.nextSibling;if(e=e.nextSibling,!e)return l;do e=Q(e,t,r,n,s);while(e&&e!==l);return l}function je(e,t){m.call(t,fe)&&t[fe].forEach(r=>r()),e.removeChild(t)}function Q(e,t,r=!0,n=[],s=!1){let i=e.nextSibling;if(Ue.has(e))return i;if(e.nodeType===8)if(e.nodeValue.charCodeAt(0)===97){if(i=e.nextSibling,je(t,e),!i)return i;e=i,i=e.nextSibling}else e.nodeValue.charCodeAt(0)===91&&(i=fn(e,t,r,n,s));if(e.nodeType!==1)return r&&je(t,e),i;if(m.call(e,he))for(let a of e[he])try{let o=a(s||r);(s||r)&&o&&y(o.then)&&n.push(o)}catch(o){console.error(o)}!s&&(s=e[ft]||!1);let l=e.firstChild;for(;l;)Q(l,e,!1,n,s),l=l.nextSibling;return r&&(n.length===0?je(t,e):(Ue.add(e),Promise.allSettled(n).then(()=>je(t,e)))),i}function hn(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{d as default};
