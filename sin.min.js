var w=class{constructor(t,r,n=null,s=0,i=null,l=null){this.level=s,this.component=r,this.inline=t,this.tag=n,this.attrs=i,this.key=i?i.key:void 0,this.dom=null,this.children=l}};var U=typeof window>"u"||typeof window.document>"u",S={}.hasOwnProperty;function St(e){return!e&&e!==0&&e!==""}function ge(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function $(e){return e&&b(e.observe)}function b(e){return typeof e=="function"}function Me(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function ze(e){return e&&Array.isArray(e.raw)}function Ie(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function Be(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function At(e){return(pe(e.attrs.class)+pe(e.attrs.className)+e.tag.classes).trim()}function De(e){return Array.isArray(e)?e:[e]}function de(){}function ye(e){return Ie(e)||(e==="cssFloat"?"float":ge(e))}function pe(e){return $(e)?pe(e.value):b(e)?pe(e()):e?typeof e=="object"?ar(e):e+" ":""}function ar(e){let t="";for(let r in e)t+=(t?" ":"")+(e[r]||"");return t}typeof globalThis>"u"&&(window.globalThis=window);var y=U?{}:window;["head","get","put","post","delete","patch"].forEach(e=>M[e]=function(t,r={}){return r.method=e,M(t,r)});M.redraw=()=>{};var be="application/json";var lr=typeof Uint8Array>"u"?[]:[Object.getPrototypeOf(Uint8Array)],or="Blob ArrayBuffer DataView FormData URLSearchParams".split(" ").map(e=>globalThis[e]).filter(e=>e).concat(lr);function M(e,{method:t="GET",redraw:r=!0,responseType:n,query:s,body:i,user:l,pass:a,headers:o={},config:c,timeout:u=0}={}){let d=!y.chrome&&new Error,f=new y.XMLHttpRequest,N=!1,Z=new Promise((j,F)=>{t=t.toUpperCase(),f.addEventListener("readystatechange",function(){if(f.readyState===f.DONE){try{f.status&&Object.defineProperty(f,"body",{value:q===be?JSON.parse(f.response):f.response}),f.status===304||f.status>=200&&f.status<300?j(N?f:f.body):F($e(f))}catch(V){F(V)}r&&M.redraw&&M.redraw()}}),f.addEventListener("error",()=>F($e(f))),f.addEventListener("abort",()=>F($e(f))),f.open(t,ur(e,s),!0,l,a),f.timeout=u,n&&(f.responseType=n);let q=!1,E=!1;Object.entries(o).forEach(([V,_])=>{f.setRequestHeader(V,_),V.toLowerCase()==="accept"&&(q=_),V.toLowerCase()==="content-type"&&(E=_)}),!q&&!n&&f.setRequestHeader("Accept",q=be),!E&&i!==void 0&&!or.some(V=>i instanceof V)&&f.setRequestHeader("Content-Type",E=be),c&&c(f),f.send(E===be?JSON.stringify(i):i)}).catch(j=>{throw d&&!d.message&&Object.defineProperty(d,"message",{value:j.message}),Object.defineProperties(d||new Error(j.message),{...j,status:{value:f.status,enumerable:!0},body:{value:f.body||f.response,enumerable:!0},xhr:{value:f}})});return Object.defineProperty(Z,"xhr",{get(){return N=!0,Z}}),Z}function $e(e){return new Error(e.status?e.status+(e.statusText?" "+e.statusText:""):"Unknown")}function ur(e,t){let r=new URL(e,"http://x"),n=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+r.search+(n?(r.search?"&":"?")+n:"")+(r.hash||"")}var me=class{constructor(t,r){this.live=t,this.transform=r}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(r=>t(this.transform(r)))}};function G(e,t){let r=new Set;return b(t)&&r.add(t),n.observe=l=>(r.add(l),()=>r.delete(l)),n.valueOf=n.toString=n.toJSON=()=>e,n.detach=de,n.reduce=i,n.set=l=>(...a)=>(n(b(l)?l(...a):l),n),n.get=l=>new me(n,a=>b(l)?l(a):a[l]),n.if=(l,a=!0,o=!1)=>new me(n,c=>c===l?a:o),Object.defineProperty(n,"value",{get:()=>e,set:s});function n(l){return arguments.length&&s(l),e}function s(l){l!==e&&(e=l,r.forEach(async a=>a(l)))}function i(l,a){let o=1,c=G(arguments.length>1?l(a,e,o++):e);return n.observe(u=>c.value=l(c.value,u,o++)),c}}G.from=function(...e){let t=e.pop(),r=G(t(...e.map(He))),n=e.map(s=>s.observe(()=>r(t(...e.map(He)))));return r.detach=()=>n.forEach(He),r};function He(e){return e()}var Ke=(e,t)=>(e[t.split("-").map(r=>r[0]).join("")]=t,e),Ct=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","pointer-events","right","top","text-align","text-decoration","text-transform","text-shadow","user-select","white-space","width","z-index"];var ie=y.document,z=ie.querySelector("style.sin")||ie.createElement("style"),cr=/^(ms|moz|webkit)[-A-Z]/i,We=z&&z.getAttribute("id")||"sin-",Y=ie.createElement("div"),Nt={},Et={},Je={};var Pt=e=>Object.entries(e).forEach(([t,r])=>Nt["@"+t]=r),Se={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","text-shadow":"px","@media":"px"},Ce=Array.from(Object.keys(S.call(Y.style,"width")?Y.style:Object.getPrototypeOf(Y.style)).reduce((e,t)=>(e.add(t.match(cr)?"-"+ge(t):ge(t)),e),new Set(["float"]))),fr=Object.assign(Ce.reduce(Ke,{}),Ct.reduce(Ke,{})),Qe=Ce.reduce((e,t)=>{let r=t.match(/-(ms|o|webkit|moz)-/g);if(r){let n=t.replace(/-(ms|o|webkit|moz)-/,"");Ce.indexOf(n)===-1&&(n==="flexDirection"&&(e.flex="-"+r[1].toLowerCase()+"-flex"),e[n]=t)}return e},{}),Ze=new Map,hr=U||typeof y<"u"&&y.CSS&&CSS.supports("color","var(--support-test)"),pr=["perspective","blur","drop-shadow","inset","polygon"],gr=e=>e.indexOf("translate")===0||pr.indexOf(e)>-1,dr=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,Xe=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,Lt=e=>e>=48&&e<=57||e===46,yr=e=>e>=65&&e<=90||e>=97&&e<=122,Tt=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,br=e=>e===34||e===39,kt=e=>e===32||e===58||e===9,mr=e=>e===59||e===10||e===125,rt=e=>e===38||e===58||e===64||e===91,Sr=e=>e===59||e===125,nt=e=>e[e.length-1],P=[],x=[],R=-1,m=-1,v=-1,re=-1,Ee=-1,W=-1,h=-1,ee=-1,K=-1,jt=-1,B=-1,L="",_e="",C="",I="&",H="",ne="",Ae="",A="",Ye="",xe="",se="",X="",g="",k="",Ot="",O=null,wt=!0,ke=!1,et=!1,Ge=!0,tt=!1,D=0;function st(e){return fr[e]||e}function Vt(e,t,r){return(e?";":"")+(ke?t:Ar(t))+":"+r}function Ar(e){return Et[e]||(Et[e]=Lr(st(e)))}function Cr(e){return e.replace(/,\s*[:[]?/g,t=>rt(t.charCodeAt(t.length-1))?",&"+nt(t):",& ")}function Oe(e,t){if(wt&&(z&&ie.head&&ie.head.appendChild(z),wt=!1),z&&z.sheet)try{z.sheet.insertRule(e,t??z.sheet.cssRules.length)}catch(r){console.error("Insert rule error:",r,e)}}function it([e,...t],r,n=0,s){if(Ze.has(e))return{...Ze.get(e),args:t};let i={};xe=se=X=A=k=C="",P.length=x.length=D=0,ee=m=jt=Ee=B=-1,O=s?{}:null,tt=!1,et=!1,Ge=!0,g=e[0];for(let a=0;a<e.length;a++)if(O?vt(0,a===e.length-1):Er(e,a,t,r),g=e[a+1],a<t.length)if(hr&&m>=0){let o=e[a].slice(m);L=We+Math.abs(D).toString(31),i[Ot="--"+L+a]={property:C,unit:Ut(C,nt(x)),index:a},k+=o+"var("+Ot+")",m=0}else t[a]&&(g=t[a]+g),Ge=!1,m=-1;if(tt)if(s)Object.entries(O).forEach(([a,o])=>{Oe(a.replace(/&\s+/g,"").replace(/{&$/,"")+"{"+o+"}")});else{L=We+Math.abs(D).toString(31),X+=(X?" ":"")+L,_e="";for(let a=0;a<n;a++)_e+="."+L;Object.entries(O).forEach(([a,o])=>{Oe(a.replace(/&/g,(rt(a.charCodeAt(0))?"."+L:"")+"."+L+_e)+"{"+o+"}")})}let l={name:xe,classes:X,id:se,args:t,vars:i,parent:r};return Ge&&Ze.set(e,l),l}function Er(e,t,r,n){for(let s=0;s<=g.length;s++)if(h=g.charCodeAt(s),s<g.length&&(D=Math.imul(31,D)+h|0),et){if(Xe(h)){O={},vt(s++,t===e.length-1);break}}else!Xe(h)||s===g.length?(X=(v!==-1?g.slice(v+1,s).replace(/\./g," "):"")+X+(n?" "+n.classes:""),se===""&&(se=(re!==-1?g.slice(re,v===-1?s:v):"")||(n?n.id:null)),xe=g.slice(0,se?re-1:v!==-1?v:s)||n&&n.name,re=v=-1,et=!0):h===35?re=s+1:v===-1&&h===46&&(v=s)}function kr(e){return Nt[e]||e}function vt(e,t){for(let r=e;r<=g.length;r++)h=g.charCodeAt(r),r<g.length&&(D=Math.imul(31,D)+h|0),W===-1&&m!==-1&&(ke?Sr(h):mr(h)||t&&r===g.length)&&Or(r),W!==-1?W===h&&g.charCodeAt(r-1)!==92&&(W=-1):W===-1&&br(h)?(W=h,m===-1&&(m=r)):h===123?wr(r):h===125||t&&r===g.length?Nr():r!==g.length&&R===-1&&Xe(h)?(R=r,Ee=h):!C&&R>=0&&kt(h)?(C=g.slice(R,r),ke=h===58):m===-1&&C&&!kt(h)?(m=r,Lt(h)?K=r:h===36&&(B=r)):m!==-1?Rt(r):(h===9||h===32)&&(ee=r+1)}function Or(e){K>-1&&!Tt(h)?qt(e):B>-1&&Ft(e),C==="@import"?Oe(C+" "+g.slice(m,e)+";",0):A+=Vt(A,C,k+g.slice(m,e)),tt=!0,R=m=-1,ke=!1,C=k=""}function wr(e){C==="animation"?(A&&(O[I||"&"]=A),ne=k+g.slice(m,e).trim(),Ye=k="",A=""):ne?(Ae=g.slice(R,e).trim(),A=""):(A&&(O[I||"&"]=A),H=(Ee===64?kr(C)+(k||"")+g.slice(m-1,e):g.slice(R,e)).trim(),H.indexOf(",")!==-1&&(H=Cr(H)),k=C="",P.push((rt(Ee)?"":" ")+(H==="@font-face"?Array(++jt+1).join(" "):"")+H),I=Mt(P),A=O[I||"&"]||""),R=m=-1,C=""}function Nr(){Ae?(Ye+=Ae+"{"+A+"}",Ae=A=""):ne?(A=O[I||"&"]||"",L=We+Math.abs(D).toString(31),Oe("@keyframes "+L+"{"+Ye+"}"),A+=Vt(A,"animation",ne+" "+L),ne=""):(P.pop(),P.length&&P[0].indexOf("@keyframes")===0?O[P[0]]=(O[P[0]]||"")+H+"{"+A+"}":A&&(O[I||"&"]=A+P.map(e=>e.charCodeAt(0)===64?"}":"").join("")),I=Mt(P),A=O[I||"&"]||""),R=m=-1,C=""}function Rt(e){Lt(h)?K===-1&&(K=e):K>-1?qt(e):B>-1&&Ft(e),h===40?x.push(g.slice(Math.max(ee,m),e)):h===41?x.pop():h===9||h===32?ee=e+1:h===36&&(B=e)}function Ft(e){yr(h)||(k=k+g.slice(m,B)+"var(--"+g.slice(B+1,e)+")",m=e,B=-1)}function qt(e){!Tt(h)&&g.charCodeAt(ee)!==35&&(k=k+g.slice(m,e)+Ut(C,nt(x)),m=e),K=-1}function Ut(e,t=""){e=st(e);let r=e+","+t;return S.call(Je,r)?Je[r]:Je[r]=t&&gr(t)?"px":dr(t)?"deg":t?"":Pr(e)}function we(e,{property:t,unit:r}){if(!e&&e!==0)return"";if(b(e)&&(e=e()),typeof e=="number")return e+r;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";g=e,k="",m=0,K=ee=-1,x.length=0,C=t;for(let n=0;n<=e.length;n++)h=e.charCodeAt(n),Rt(n);return k+e.slice(m)}function Mt(e){let t="",r="";return e.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?t+=n+"{":r+=n),t+(r==="@font-face"||r===":root"?"":"&")+r}function Pr(e){if(e=st(e),Ie(e)||S.call(Se,e))return Se[e];try{return Y.style[e]="1px",Y.style.setProperty(e,"1px"),Se[e]=Y.style[e].slice(-3)==="1px"?"px":""}catch{return Se[e]=""}}function Lr(e){if(Ce.indexOf(e)===-1){if(Qe[e])return console.log(e,"prefixed to",Qe[e]),Qe[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}function at(e,t){let r=URLSearchParams,n=t.search,s=new r(n),i={replace:o=>(s=new r(o),a())};for(let o in r.prototype)i[o]=(...c)=>{let u=l()[o](...c);return a(),u};return i;function l(){return n===t.search?s:(n=t.search,s=new r(n))}function a(){y.history.pushState(y.history.state,null,t.pathname+(s+""?"?"+(s+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var zt=!1,It={};function ae(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function Bt(e){return e.split(/(?=\/)/)}function Tr(e,t){return e.reduce((r,n,s)=>r+(n==="/?"?1:n===t[s]?6:n&&t[s]&&n.toLowerCase()===t[s].toLowerCase()?5:n[1]===":"&&t[s]&&t[s].length>1?4:n==="/"&&!t[s]?3:n==="*"||n==="/*"?2:-1/0),0)}function jr(e,t){return e.reduce((r,n,s)=>(n[1]===":"&&(r[n.slice(2)]=decodeURIComponent(t[s].slice(1))),r),{})}function Dt(e,t,r){return b(e)?e(t,[],r):e}function Ne(e,t,r){let n=r.location,s=e(({route:c,...u},[d],f)=>(f.route=c,()=>typeof d=="string"?import((d[0]==="/"?"":c)+d).then(N=>Dt(N.default,u,f)):Dt(d,u,f)));return o.query=at(e,r.location),o.toString=o,o.has=c=>c==="/"?i(n)===t||i(n)==="/"&&t==="":i(n).indexOf(ae(t+"/"+c))===0,Object.defineProperty(o,"path",{get(){let c=i(n),u=c.indexOf("/",t.length+1);return u===-1?c:c.slice(0,u)}}),o;function i(c,u=0){return(e.pathmode[0]==="#"?c.hash.slice(e.pathmode.length+u):e.pathmode[0]==="?"?c.search.slice(e.pathmode.length+u):c.pathname.slice(e.pathmode+u)).replace(/(.)\/$/,"$1")}function l(c,{state:u,replace:d=!1,scroll:f=a(c)}={}){c!==i(n)&&(e.pathmode[0]==="#"?y.location.hash=e.pathmode+c:e.pathmode[0]==="?"?y.location.search=e.pathmode+c:y.history[d?"replaceState":"pushState"](u,null,e.pathmode+c),It[c]=u,e.redraw(),f&&scrollTo(0,0))}function a(c){return c.split("/")[1]!==o.path.split("/")[1]}function o(c,u={}){if(typeof c>"u")return t+"/";if(typeof c=="string")return l(ae(c[0]==="/"?c:"/"+c),u);zt||(zt=!0,e.pathmode[0]==="#"?y.addEventListener("hashchange",e.redraw,{passive:!0}):b(y.history.pushState)&&y.addEventListener("popstate",e.redraw,{passive:!0}));let d=i(n,t.length),f=Bt(d),[,N,Z]=Object.entries(c).reduce((q,[E,V])=>{E.charCodeAt(0)===47||(E="/"+E),E=Bt(ae(E));let _=Tr(E,f);return _>q[0]?[_,E,V]:q},[0]),j=t+(N&&N[0]!=="/*"?N.map((q,E)=>f[E]).join(""):"");(Z===void 0||N[0]==="/?")&&r.status(404);let F=Ne(e,j.replace(/\/$/,""),r);return F.parent=o,F.root=o.parent?o.parent.root:o,s({key:j||"?",route:F,...t+d===j&&It[t+d]||{},...jr(N||[],f)},Z)}}var T=y.document,$t={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function p(...e){let t=typeof e[0];return t==="string"?ft(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):_t(ft,ze(e[0])?Zt(e):t==="function"?new w(Fe,e):new w(Fe,[e[1],e[0]]))}function ft(...e){return ze(e[0])?_t(ft,Zt(e,this)):Ur(e,this)}function Zt(e,t){let r=t?t.level+1:0;return new w(t&&t.inline,t&&t.component,it(e,t&&t.tag,r),r)}function _t(e,t){let r=e.bind(t);return r[Ue]=!0,r}var je=new WeakSet,Gt=new Map,ht=Symbol("deferrable"),oe=Symbol("observable"),Te=Symbol("component"),pt=Symbol("event"),ue=Symbol("array"),Pe=Symbol("live"),Ht=Symbol("size"),Ve=Symbol("life"),ve=Symbol("attr"),lt=Symbol("keys"),Wt=Symbol("key"),Ue=Symbol("s"),gt=!0,Re=[],Fe=!1;p.sleep=(e,...t)=>new Promise(r=>setTimeout(r,e,...t));p.with=(e,t)=>t(e);p.isServer=U;p.pathmode="";p.redraw=ce;p.mount=zr;p.css=(...e)=>it(e,null,0,!0);p.animate=Fr;p.http=M;p.http.redraw=!p.isServer&&ce;p.medias=Pt;p.live=G;p.on=Rr;p.trust=vr;p.route=Ne(p,"",{location:y.location});p.window=y;p.error=p(e=>{U?console.error(e):Promise.resolve().then(()=>{throw e});let t=Vr(e.stack);return()=>p`pre;all initial;d block;ws pre-wrap;m 0;c white;bc #ff0033;p 8 12;br 6;overflow auto`(p`code`(""+e,t.map(({name:r,file:n,line:s,col:i})=>p` o 0.75`("    at ",r&&r+" ",p`a c white`({href:n,target:"_BLANK"},n+":"+s+":"+i))),typeof e=="object"&&JSON.stringify(e,null,2).replace(/"([a-z]\w+)":/ig,"$1:")))});function Vr(e){try{return e.split(`
`).reduce((t,r)=>(r=r.match(/( +at )?(.*)[@\(](.+):([0-9]+):([0-9]+)/),r&&t.push({name:r[2].trim(),file:r[3].replace(y.location.origin,""),line:parseInt(r[4]),col:parseInt(r[5])}),t),[])}catch(t){return console.error("Could not parse stack trace",t),[]}}function vr(e,...t){return p(()=>{let r=T.createElement("div");r.innerHTML=String.raw({raw:e},...t);let n=[...r.childNodes];return()=>n})}function Rr(e,t,r,n){return()=>{let s=i=>sr(r,i);return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}}function Fr(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),r=>r&&new Promise(n=>{let s=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(s=!0,t(n)),{once:!0,passive:!0}),an(()=>s?t(n):n())});function t(r){e.addEventListener("transitionend",r,{once:!0,passive:!0}),e.addEventListener("transitioncancel",r,{once:!0,passive:!0})}}function qr(e,t){e.addEventListener("click",r=>{if(!r.defaultPrevented&&(r.button===0||r.which===0||r.which===1)&&(!r.currentTarget.target||r.currentTarget.target==="_self")&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey){r.preventDefault();let n=e[ve].state;t(e.getAttribute("href"),{state:n})}})}function Ur(e,t){let r=Mr(e&&e[0]);return new w(t.inline,t.component,t.tag,t?t.level+1:0,r?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Mr(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof w)&&!(e instanceof y.Node)}function zr(e,t,r={},n={}){if(b(t)||(n=r||{},r=t||{},t=e,e=T.body),!(t instanceof w)&&(t=p(t)),S.call(n,"location")||(n.location=y.location),S.call(n,"error")||(n.error=p.error),U)return{view:t,attrs:r,context:n};n.title=p.live(T.title,s=>T.title=s),n.status=n.head=n.headers=de,n.hydrating=Ir(e.firstChild),n.route=Ne(p,"",n),Gt.set(e,{view:t,attrs:r,context:n}),Xt({view:t,attrs:r,context:n},e)}function Ir(e){return e&&e.nodeType===8&&e.nodeValue==="h"&&(e.remove(),!0)}function ce(){gt&&(requestAnimationFrame(Br),gt=!1)}function Br(){Gt.forEach(Xt),gt=!0}function Xt({view:e,attrs:t,context:r},n){Fe=!0;try{let s=e(t,[],r);fe(n,De(s),r)}catch(s){t.error=s,fe(n,De(r.error(t,[],r)),r)}Fe=!1,Re.forEach(s=>s()),Re=[]}function fe(e,t,r,n,s=e.lastChild){let i=t[0]&&t[0].key!==void 0&&new Array(t.length),l=Kt(n,e),a=l&&S.call(l,lt),o=s?s.nextSibling:null;i&&(i.rev={})&&a?$r(e,r,l[lt],t,i,o):Dr(e,r,t,i,l,o);let c=Kt(n,e);return i&&(c[lt]=i),J(c,o&&o.previousSibling||e.lastChild)}function Kt(e,t){let r=e?e.nextSibling:t.firstChild;for(;je.has(r);)r=r.nextSibling;return r}function le(e,t,r,n){e[n]={dom:t,key:r},e.rev[r]=n}function Dr(e,t,r,n,s,i=null){let l=0,a,o;for(;l<r.length;)(s===null||!je.has(s))&&(o=r[l],a=s!==i?he(s,o,t,e):he(null,o,t),s===i&&e.insertBefore(a.dom,i),n&&le(n,a.first,o.key,l),s=a.last,l++),s!==null&&(s=s.nextSibling,s!==null&&s.nodeType===8&&s.nodeValue===","&&(s=Q(s,e)));for(;s&&s!==i;)s=Q(s,e)}function $r(e,t,r,n,s,i){let l=r.rev,a=r.length-1,o=n.length-1,c=r[a],u=n[o],d=-1;e:for(;;){for(;c.key===u.key;){if(i=te(c.dom,u,t,e).first,le(s,i,u.key,o),delete l[u.key],o===0)break e;if(a===0){u=n[--o];break}c=r[--a],u=n[--o]}if(S.call(l,u.key)){if(d=l[u.key],d>o)d=te(r[d].dom,u,t,e),ot(e,d,i),i=d.first,le(s,i,u.key,o);else if(d!==o)d=te(r[d].dom,u,t,e),ot(e,d,i),i=d.first,le(s,i,u.key,o);else{c=r[--a];continue}if(delete l[u.key],o===0)break;u=n[--o]}else{if(d=te(null,u,t),ot(e,d,i),i=d.first,le(s,i,u.key,o),o===0)break;u=n[--o]}}for(let f in l)Q(r[l[f]].dom,e)}function ot(e,{first:t,last:r},n){let s=t,i;do i=s,s=i.nextSibling;while(e.insertBefore(i,n)!==r)}function he(e,t,r,n,s,i){return $(t)?Hr(e,t,r,n,s,i):b(t)?he(e,t(),r,n,s,i):t instanceof w?te(e,t,r,n,s,i):t instanceof Promise?te(e,p(()=>t)(),r,n,s,i):Array.isArray(t)?xt(e,t,r,n,i):t instanceof Node?J(t):er(e,t,n,i)}function te(e,t,r,n,s,i){return t.component?bt(e,t,r,n,s,i):Qr(e,t,r,n,i)}function Hr(e,t,r,n){if(e&&S.call(e,Pe)&&e[Pe]===t)return e[Pe];let s;return i(t.value),t.observe(i),s;function i(l){s=he(e,l,r,n||e&&e.parentNode),s.first[Pe]=s,e=s.first}}function J(e,t=e,r=t){return{dom:e,first:t,last:r}}function Kr(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function Jr(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&Kr(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[ue]=t),t}function Yt(e){return e&&S.call(e,ue)?e[ue]:Jr(e)}function xt(e,t,r,n,s){s&&e&&n&&(e=xt(e,[],r,n).first);let i=Yt(e)||e,l=er(e,"["+t.length,n,!1,8);if(n){let a=i?i.nextSibling:null;fe(n,t,r,l.first,i);let o=a?a.previousSibling:n.lastChild;return i!==o&&(l.first[ue]=o),J(l.dom,l.first,o)}return n=new DocumentFragment,n.appendChild(l.dom),fe(n,t,r,l.first,i),l.first[ue]=n.lastChild,J(n,l.first,n.lastChild)}function er(e,t,r,n,s=typeof t=="boolean"||t==null?8:3){let i=n||!e||e.nodeType!==s;return i&&ir(e,e=s===8?T.createComment(t):T.createTextNode(t),r),!i&&e.nodeValue!==""+t&&(e.nodeValue=t),J(e)}function Qr(e,t,r,n,s=e===null||_r(e,t)){let i=r.NS;t.attrs.xmlns||$t[t.tag.name]&&(r.NS=t.attrs.xmlns||$t[t.tag.name]),s&&ir(e,e=Gr(t,r),n);let l=t.children&&t.children.length;return xr(e,t,r,s),l?fe(e,t.children,r):e[Ht]&&Zr(e.firstChild,e),e[Ht]=l,r.NS=i,S.call(t,"key")&&(e[Wt]=t.key),J(e)}function Zr(e,t){for(;e;)e=Q(e,t)}function _r(e,t){return e[Wt]!==t.key||e.nodeName.toUpperCase()!==(t.tag.name||"div").toUpperCase()}function Gr(e,t){let r=e.attrs.is;return t.NS?r?T.createElementNS(t.NS,e.tag.name,{is:r}):T.createElementNS(t.NS,e.tag.name):r?T.createElement(e.tag.name||"DIV",{is:r}):T.createElement(e.tag.name||"DIV")}var dt=class{constructor(t,r,n,s,i,l){this.init=t,this.id=r,this.key=void 0,this.view=n,this.error=s,this.caught=void 0,this.loading=i,this.hydrating=l}},yt=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t){if(this.i>=this.xs.length)return!0;let r=this.xs[this.i];return r.key!==t.key||r.init&&r.init!==t.component[0]}add(t,r,n){let[s,i]=t.component,l=new dt(t.inline?!1:s,y.count=(y.count||0)+1,s,i&&i.error||r.error,i&&i.loading||r.loading,r.hydrating);l.context=Object.create(r,{onremove:{value:o=>this.life.push(()=>o)},redraw:{value:()=>{bt(this.dom.first,t,r,n,this,!1,!0)}},reload:{value:()=>{bt(this.dom.first,t,r,n,this,!0)}},ignore:{value:o=>l.ignore=o}});let a=tr(!0,l,t,l.context,this);return l.promise=a&&b(a.then)&&a,l.stateful=l.promise||b(a)&&!a[Ue],l.view=l.promise?l.loading:a,this.xs.length=this.i,this.xs[this.i]=l,this.xs[this.top=this.i++]}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}cut(){return this.xs.length=this.top=this.i}};function Wr(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return J(e,e,t)}function Xr(e,t){e.first.nextSibling[Te]=t,e.first.remove(),e.last&&e.last.remove()}function bt(e,t,r,n,s=e&&e[Te]||new yt,i=s.changed(t),l=!1){let a=i?s.add(t,r,n):s.next();if(!i&&!l&&a.ignore)return s.pop(),s.dom;t.key&&i&&(a.key=t.key);let o=a.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97;if(o)a.next=Wr(e);else{let u=tr(i,a,t,a.context,s);u&&u[Ue]&&(u=u()),a.next=he(e,!a.caught&&!a.promise&&u instanceof w?Yr(u,t):u,a.context,n,s,(i||a.recreate)&&!a.hydrating?!0:void 0),a.hydrating&&(a.hydrating=!1),a.recreate&&(a.recreate=!1)}i&&a.promise&&a.promise.then(u=>a.view=u&&S.call(u,"default")?u.default:u).catch(u=>{a.caught=u,a.view=a.error.bind(a.error,u)}).then(()=>a.next.first[Te]&&(o&&Xr(a.next,s),a.recreate=!0,a.promise=!1,ce()));let c=e!==a.next.first;return s.pop()&&(c||i)&&(s.dom=a.next,a.next.first[Te]=s,!a.promise&&rr(a.next.first,t.attrs,t.children,a.context,s.life)),a.next}function tr(e,t,r,n,s){try{return Jt(e,t,r,n)}catch(i){return t.caught=i,t.view=t.error.bind(t.error,i),s.cut(),Jt(e,t,r,n)}}function Jt(e,t,r,n){return t.stateful||e?b(t.view)&&!t.view[Ue]?t.view(r.attrs,r.children,n):t.view:r.component[0](r.attrs,r.children,n)}function Yr(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function xr(e,t,r){let n=t.tag,s=e[ve],i=!s;S.call(t.attrs,"id")===!1&&t.tag.id&&(t.attrs.id=t.tag.id),(i&&t.tag.classes||t.attrs.class!==(s&&s.class)||t.attrs.className!==(s&&s.className)||e.className!==t.tag.classes)&&ct(e,t,r),i&&ut(e,t.attrs.class,()=>ct(e,t,r)),i&&ut(e,t.attrs.className,()=>ct(e,t,r)),t.attrs.type!=null&&qe(e,"type",t.attrs.type,r);for(let a in t.attrs)if(Be(a))a==="deferrable"&&(e[ht]=t.attrs[a]);else if(!s||s[a]!==t.attrs[a]){let o=t.attrs[a];i&&ut(e,o,c=>qe(e,a,c,r)),tn(e,r,t.attrs,a,s&&s[a],o)}if(s)for(let a in s)S.call(t.attrs,a)===!1&&(Me(a)?nr(e,a):Be(a)?a==="deferrable"&&(e[ht]=!1):e.removeAttribute(a));let l=en(e,t.attrs.style,s&&s.style);if(t.tag)for(Qt(e,t.tag.vars,t.tag.args,i,l);n=n.parent;)Qt(e,n.vars,n.args,i,l);i&&t.attrs.dom&&rr(e,t.attrs,t.children,r,t.attrs.dom),e[ve]=t.attrs}function en(e,t,r){if(r!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(r==null||typeof r!="object"){e.style.cssText="";for(let n in t){let s=t[n];s!=null&&e.style.setProperty(ye(n),s+"")}return!0}for(let n in t){let s=t[n];s!=null&&(s=s+"")!=r[n]+""&&e.style.setProperty(ye(n),s)}for(let n in r)r[n]!=null&&t[n]==null&&e.style.removeProperty(ye(n));return!0}}function ut(e,t,r){if(!$(t))return;let n=S.call(e,oe),s=n?e[oe]:new Set;n||(e[oe]=s),s.add(t.observe(r))}function ct(e,t,r){let n=At(t);n?r.NS?e.setAttribute("class",n):e.className=n:e.removeAttribute("class")}function Qt(e,t,r,n,s){for(let i in t){let l=t[i],a=r[l.index];mt(e,i,a,l,n,s)}}function mt(e,t,r,n,s,i,l){if($(r)){s&&r.observe(a=>e.style.setProperty(t,we(a,n))),(s||i)&&mt(e,t,r.value,n,s,s);return}if(b(r)){requestAnimationFrame(()=>mt(e,t,r(e),n,s,i,l));return}e.style.setProperty(t,we(r,n)),l&&Re.push(()=>e.style.setProperty(t,we(r,n)))}function rr(e,t,r,n,s){Re.push(()=>{s=[].concat(s).map(i=>b(i)&&i(e,t,r,n)).filter(i=>b(i)),s.length&&(e[Ve]=(e[Ve]||[]).concat(s))})}function tn(e,t,r,n,s,i){if(s===i)return;n==="href"&&i&&!String(i).match(/^([a-z]+:|\/\/)/)&&(i=p.pathmode+ae(i),qr(e,t.route));let l=Me(n);l&&typeof s==typeof i||(l?i?rn(e,r,n):nr(e,n):qe(e,n,i,t))}function qe(e,t,r,n){if(b(r))return qe(e,t,r(),n);!n.NS&&S.call(e,t)?e[t]=r:St(r)?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r)}function nr(e,t){e.removeEventListener(t.slice(2),e[pt])}function rn(e,t,r){e.addEventListener(r.slice(2),e[pt]||(e[pt]=nn(e)))}function nn(e){return{handleEvent:t=>sr(e[ve]["on"+t.type],t)}}function sr(e,t){let r=b(e)?e.call(t.currentTarget,t):b(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!$(r)&&!$(e)&&ce(),r&&b(r.then)&&r.then(ce)}function ir(e,t,r){if(!!r)return e&&(r.insertBefore(t,e),Q(e,r)),t}function sn(e,t,r,n,s){let i=Yt(e);if(!i||e===i)return e.nextSibling;let l=i.nextSibling;if(e=e.nextSibling,!e)return l;do e=Q(e,t,r,n,s);while(e&&e!==l);return l}function Le(e,t){S.call(t,oe)&&t[oe].forEach(r=>r()),e.removeChild(t)}function Q(e,t,r=!0,n=[],s=!1){let i=e.nextSibling;if(je.has(e))return i;if(e.nodeType===8)if(e.nodeValue.charCodeAt(0)===97){if(i=e.nextSibling,Le(t,e),!i)return i;e=i,i=e.nextSibling}else e.nodeValue.charCodeAt(0)===91&&(i=sn(e,t,r,n,s));if(e.nodeType!==1)return r&&Le(t,e),i;if(S.call(e,Ve))for(let a of e[Ve])try{let o=a(s||r);(s||r)&&o&&b(o.then)&&n.push(o)}catch(o){console.error(o)}!s&&(s=e[ht]||!1);let l=e.firstChild;for(;l;)Q(l,e,!1,n,s),l=l.nextSibling;return r&&(n.length===0?Le(t,e):(je.add(e),Promise.allSettled(n).then(()=>Le(t,e)))),i}function an(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{p as default};
