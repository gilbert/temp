var w=class{constructor(t,n=null,r=0,s={},i=null){this.level=r,this.component=t,this.tag=n,this.attrs=s,this.key="key"in s?s.key:null,this.dom=null,this.children=i}};["get","put","post","delete","patch"].forEach(e=>O[e]=function(t,n={}){return n.method=e,O(t,n)});O.redraw=()=>{};function O(e,{method:t="GET",redraw:n=!0,body:r=null,user:s=void 0,pass:i=void 0,headers:l={},config:o=()=>{},raw:a=!1,background:f=!1,extract:u=p=>JSON.parse(p.responseText)}={}){return new Promise((p,k)=>{let g=new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE){let C=g.responseText,_;if(!a)try{C=u(g)}catch(G){_=G}(_||g.status>=300?k:p)({status:g.status,body:C,xhr:g}),n&&!f&&O.redraw()}},g.onerror=g.onabort=C=>k({event:C,xhr:g}),g.open(t.toUpperCase(),e,!0,s,i),Object.keys(l).forEach(C=>l[C]&&g.setRequestHeader(C,l[C])),!("Content-Type"in l)&&g.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in l)&&g.setRequestHeader("Accept","application/json, text/*"),o(g),r===null?g.send():g.send(a?r:JSON.stringify(r))})}function S(e,t){let n=new Set;return typeof t=="function"&&n.add(t),r.observe=l=>(n.add(l),()=>n.delete(l)),r.valueOf=r.toString=r.toJSON=()=>e,r.constructor=S,r.detach=()=>{},r.reduce=i,r.bind=l=>o=>(o&&(o.redraw=!1),r(typeof l=="function"?l():l||o)),r.if=(l,o=!0,a=!1)=>S.from(r,f=>f===l?o:a),r.to=l=>S.from(r,o=>typeof l=="function"?l(o):o[l]),Object.defineProperty(r,"value",{get:()=>e,set:s});function r(l){return arguments.length&&s(l),e}function s(l){l!==e&&(e=l,n.forEach(o=>o(l)))}function i(l,o){let a=1,f=S(arguments.length>1?l(o,e,a++):e);return r.observe(u=>f.value=l(f.value,u,a++)),f}}S.from=function(...e){let t=e.pop(),n=S(t(...e.map(be))),r=e.map(s=>s.observe(()=>n(t(...e.map(be)))));return n.detach=()=>r.forEach(be),n};function be(e){return e()}var se=typeof window!="undefined"?window:jt();function jt(){return{location:{},document:{documentElement:{style:{}},querySelector:()=>null,createElement:e=>{let t={tagName:e.toUpperCase(),setAttribute:(n,r)=>t.x=r,getAttribute:n=>t[n],style:{setProperty:()=>!0}};return e==="style"&&Object.assign(t,{sheet:{insertRule:(n,r)=>r?t.sheet.cssRules.splice(r,0,Xe(n)):t.sheet.cssRules.push(Xe(n)),cssRules:[]}}),t}}}}function Xe(e){return e+e.match(/\{/g).map(()=>"}").join("")}var Se=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),Ze=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","float","flex-direction","font-family","font-size","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","right","top","text-align","text-decoration","text-transform","width"];var q=se.document,L=q&&q.querySelector&&(q.querySelector(".sin-styles")||q.createElement("style")),Nt=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,_e=e=>e.replace(/(\B[A-Z])/g,"-$1").toLowerCase(),Ce=L&&L.getAttribute("id")||"sin-",F=q.createElement("div"),Ge={},Qe={},Ee={};var Ye=e=>Object.entries(e).forEach(([t,n])=>Ge["@"+t]=n),ie={flex:"",border:"px",transform:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},oe=["float"].concat(Object.keys(F.style.hasOwnProperty("width")?F.style:Object.getPrototypeOf(F.style))).reduce((e,t)=>(t.indexOf("-")===-1&&e.push(t.match(Nt)?"-"+_e(t):_e(t)),e),[]).sort(),Mt=Object.assign(oe.reduce(Se,{}),Ze.reduce(Se,{})),Ae=oe.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");oe.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),ke=new Map,bn=typeof se!="undefined"&&se.CSS&&CSS.supports("color","var(--support-test)"),Oe=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,ve=e=>e>=48&&e<=57||e===46,je=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,wt=e=>e===34||e===39,xe=e=>e===32||e===58||e===9,Lt=e=>e===59||e===10||e===125,et=e=>e===58||e===64||e===38||e===91,Ne=e=>e[e.length-1],z=[],le=[];var j=-1,d=-1,N=-1,Q=-1,Me=-1,W=-1,c=-1,tt=-1,H=-1,M="",we="",b="",P="&",U="",Y="",ae="",m="",Le="",Pe="",v="",K="",h="",E="",nt="",A=null,rt=!0,ue=!1,Re=!1,Te=!0,Ve=!1,st=-1,R=0;function qe(e){return Mt[e]||e}function it(e,t){return(ue?e:Pt(e))+":"+t+";"}function Pt(e){return Qe[e]||(Qe[e]=zt(qe(e)))}function Rt(e){return e.replace(/,\s*[:[]?/g,t=>et(t.charCodeAt(t.length-1))?",&"+Ne(t):",& ")}function fe(e,t){if(rt&&(L&&q.head&&q.head.appendChild(L),rt=!1),L&&L.sheet)try{L.sheet.insertRule(e,t??L.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function ze([e,...t],n,r=0,s){if(ke.has(e))return{...ke.get(e),args:t};let i={};Pe=v=K=m=E="",z.length=R=0,d=st=-1,A=s?{}:null,Ve=!1,Re=!1,Te=!0,h=e[0];for(let o=0;o<e.length;o++)if(A?ot(0,o===e.length-1):Tt(e,o,t,n),h=e[o+1],o<t.length)if(d>=0){let a=e[o].slice(d);M=Ce+Math.abs(R).toString(31),i[nt="--"+M+o]={unit:at(b,Ne(le)),index:o},E+=a+"var("+nt+")",d=0}else t[o]&&(h+=t[o]+";",Te=!1);if(Ve)if(s)Object.entries(A).forEach(([o,a])=>fe(o.replace(/&\s*/g,"")+"{"+a));else{M=Ce+Math.abs(R).toString(31),K+=(K?" ":"")+M,we="";for(let o=0;o<r;o++)we+="."+M;Object.entries(A).forEach(([o,a])=>{fe(o.replace(/&/g,"."+M+we)+"{"+a)})}let l={name:Pe,classes:K,id:v,args:t,vars:i,parent:n};return Te&&ke.set(e,l),l}function Tt(e,t,n,r){for(let s=0;s<=h.length;s++)if(c=h.charCodeAt(s),s<h.length&&(R=Math.imul(31,R)+c|0),Re){if(Oe(c)){A={},ot(s++,t===e.length-1);break}}else!Oe(c)||s===h.length?(K=(N!==-1?h.slice(N+1,s).replace(/\./g," "):"")+K+(r?r.classes:""),v===""&&(v=(Q!==-1?h.slice(Q,N===-1?s:N):"")||(r?r.id:null)),Pe=h.slice(0,v?Q-1:N!==-1?N:s)||r&&r.name,Q=N=-1,Re=!0):c===35?Q=s+1:N===-1&&c===46&&(N=s)}function Vt(e){return Ge[e]||e}function ot(e,t){for(let n=e;n<=h.length;n++)c=h.charCodeAt(n),n<h.length&&(R=Math.imul(31,R)+c|0),W===-1&&d>=0&&(ue?c===59:Lt(c)||t&&n===h.length)&&(H>-1&&!je(c)&&lt(n),b==="@import"?fe(b+" "+h.slice(d,n),0):m+=it(b,E+h.slice(d,n)),Ve=!0,j=d=-1,ue=!1,b=E=""),W!==-1?W===c&&h.charCodeAt(n-1)!==92&&(W=-1):W===-1&&wt(c)?(W=c,d===-1&&(d=n)):c===123?(b==="animation"?(m&&(A[P||"&"]=m),Y=E+h.slice(d,n).trim(),Le=E="",m=""):Y?(ae=h.slice(j,n).trim(),m=""):(m&&(A[P||"&"]=m),U=Me===64?Vt(b+E+h.slice(d,n).trim()):h.slice(j,n).trim(),U.indexOf(",")!==-1&&(U=Rt(U)),E=b="",z.push((et(Me)?"":" ")+(U==="@font-face"?Array(++st+1).join(" "):"")+U),P=z.toString(),m=A[P||"&"]||""),j=d=-1,b=""):c===125||t&&n===h.length?(ae?(Le+=ae+"{"+m+"}",ae=m=""):Y?(M=Ce+Math.abs(R).toString(31),fe("@keyframes "+M+"{"+Le+"}"),m=(A[P||"&"]||"")+it("animation",Y+" "+M),Y=""):(m&&(A[P||"&"]=m),z.pop(),P=z.toString(),m=A[P||"&"]||""),j=d=-1,b=""):n!==h.length&&j===-1&&Oe(c)?(j=n,Me=c):!b&&j>=0&&xe(c)?(b=h.slice(j,n),ue=c===58):d===-1&&b&&!xe(c)?(d=n,ve(c)&&(H=n)):d!==-1&&(ve(c)?H===-1&&(H=n):H>-1&&lt(n),c===40?le.push(h.slice(Math.max(tt,d),n)):c===41?le.pop():(c===9||c===32)&&(tt=n+1))}function lt(e){je(c)||(E=E+h.slice(d,e)+at(b,Ne(le)),d=e),H=-1}function ce(e,t){return typeof e=="function"&&(e=E()),typeof e!="string"||!je(e.charCodeAt(e.length-1))?e+t:e}function at(e,t=""){e=qe(e);let n=e+","+t;return n in Ee?Ee[n]:Ee[n]=t&&(t.indexOf("translate")===0||"perspective blur drop-shadow inset polygon".indexOf(t)>-1)?"px":t.indexOf("rotate")===0||t.indexOf("skew")===0?"deg":t?"":qt(e)}z.toString=function(){let e="",t="";return z.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"?"":"&")+t};function qt(e){if(e=qe(e),e[0]==="-"&&e[1]==="-"||e in ie)return ie[e];try{return F.style[e]="1px",F.style.setProperty(e,"1px"),ie[e]=F.style[e].slice(-3)==="1px"?"px":""}catch{return ie[e]=""}}function zt(e){if(oe.indexOf(e)===-1){if(Ae[e])return console.log(e,"prefixed to",Ae[e]),Ae[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}var ut=!1,he={};function x(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function ft(e){return e.split(/(?=\/)/)}function It(e,t){return e.reduce((n,r,s)=>n+(r==="404"?1:r===t[s]?6:r&&t[s]&&r.toLowerCase()===t[s].toLowerCase()?5:r[1]===":"&&t[s]&&t[s].length>1?4:r==="/"&&!t[s]?3:r==="*"||r==="/*"?2:-1/0),0)}function Dt(e,t){return e.reduce((n,r,s)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[s].slice(1))),n),{})}function Ie(e,t,n){let r=e(async({route:o,key:a,...f},[u],p)=>(typeof u=="string"&&(u=(await import((u[0]==="/"?"":o)+u)).default),f.route=o,()=>typeof u=="function"?u(f,[],{...p,route:o}):u));return Object.assign(l,n),l.toString=l,l.has=o=>o==="/"?s(l.url)===t||s(l.url)==="/"&&t==="":s(l.url).indexOf(x(t+"/"+o))===0,Object.defineProperty(l,"current",{get(){let o=s(l.url),a=o.indexOf("/",t.length+1);return a===-1?o:o.slice(0,a)}}),l;function s(o,a=0){return(e.pathmode[0]==="#"?o.hash.slice(e.pathmode.length+a):e.pathmode[0]==="?"?o.search.slice(e.pathmode.length+a):o.pathname.slice(e.pathmode+a)).replace(/(.)\/$/,"$1")}function i(o,a={}){e.pathmode[0]==="#"?window.location.hash=e.pathmode+o:e.pathmode[0]==="?"?window.location.search=e.pathmode+o:window.history[a.replace?"replaceState":"pushState"](a.state,null,e.pathmode+o),he[o]=a.state,e.redraw()}function l(o,a={}){if(typeof o=="undefined")return t+"/";if(typeof o=="string")return i(x(o[0]==="/"?o:"/"+o),a);ut||(ut=!0,e.pathmode[0]==="#"?window.addEventListener("hashchange",()=>e.redraw()):typeof window.history.pushState=="function"&&window.addEventListener("popstate",e.redraw));let f=s(l.url,t.length),u=ft(f),[p,k,g=a.notFound]=Object.entries(o).reduce((G,[D,Ot])=>{D=ft(x(D));let Je=It(D,u);return Je>G[0]?[Je,D,Ot]:G},[0]),C=t+(k&&k[0]!=="*"?k.map((G,D)=>u[D]).join(""):"");(g===void 0||a.notFound)&&l.notFound(!0);let _=Ie(e,C.replace(/\/$/,""),n);return _.parent=l,r({key:C||"/",route:_,...t+f===C&&he[t+f]||{},...Dt(k||[],u)},g)}}function ct(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="class"||e==="className"}function pe(e){return(De(e.attrs.class)+De(e.attrs.className)+e.tag.classes).trim()}function De(e){return typeof e=="function"?De(e()):e?typeof e=="object"?Object.keys(e).reduce((t,n)=>t+e[n]?n+" ":"",""):e+" ":""}var T=window.document,Ft={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function y(...e){let t=typeof e[0];return t==="string"?Fe(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Fe.bind(t==="function"?new w(e):pt(e))}function Fe(...e){return e[0]&&Array.isArray(e[0].raw)?Fe.bind(pt(e,this)):Kt(e,this)}var $=new WeakMap,B=new WeakSet,ge=new WeakMap,J=new WeakMap,ee=new WeakMap,I=new WeakMap,de=new WeakMap,ht=new Map,We=!0,ye=[];y.pathmode="";y.redraw=te;y.mount=Bt;y.css=(...e)=>ze(e,null,0,!0);y.animate=Ht;y.http=O;y.http.redraw=te;y.medias=Ye;y.live=S;y.on=Wt;y.route=Ie(y,"",{url:typeof window!="undefined"&&window.location,notFound:()=>{},title:()=>{},head:()=>{}});y.request=(e,t)=>(t?O(e,t):O(e.url,e)).then(({body:n})=>n).catch(n=>(n.response=n.body,Promise.reject(n)));y.trust=e=>y(()=>{let t=T.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n});function Wt(e,t,n,r){return()=>{let s=i=>At(n,i);return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)}}function Ht(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),()=>(e.setAttribute("animate","exit"),new Promise(t=>e.addEventListener("transitionend",t)))}function Ut(e){e.addEventListener("click",t=>{if(!t.defaultPrevented&&(t.button===0||t.which===0||t.which===1)&&(!t.currentTarget.target||t.currentTarget.target==="_self")&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){t.preventDefault();let n=I.get(e).state;window.history.pushState(n,null,e.getAttribute("href")),he[e.getAttribute("href")]=n,y.redraw()}})}function pt(e,t){let n=t?t.level+1:0;return new w(t&&t.component,ze(e,t&&t.tag,n),n)}function Kt(e,t){let n=$t(e&&e[0]);return new w(t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function $t(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof w)}function Bt(e,t,n={},r={}){return typeof t!="function"&&(r=n||{},n=t||{},t=e,e=T.body),n.route=r.route=y.route,ht.set(e,{view:t,attrs:n,context:r}),gt({view:t,attrs:n,context:r},e),t}function te(){We&&(requestAnimationFrame(Jt),We=!1)}function Jt(){ht.forEach(gt),We=!0}function gt({view:e,attrs:t,context:n},r){me(r,[].concat(e(t,[],n)),n),ye.forEach(s=>s()),ye=[]}function me(e,t,n,r,s=e.lastChild){let i=t[0]&&t[0].key!=null&&new Array(t.length),l=r?r.nextSibling:e.firstChild,o=de.has(l),a=s?s.nextSibling:null;i&&(i.rev={})&&o?Zt(e,n,de.get(l),t,i,a):Xt(e,n,t,i,l,a);let f=r?r.nextSibling:e.firstChild;return i&&(de.set(f,i),f!==l&&de.delete(l)),Z(f,a&&a.previousSibling||e.lastChild)}function ne(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function Xt(e,t,n,r,s,i=null){let l=0,o,a;for(;l<n.length;)(s===null||!B.has(s))&&(a=n[l],o=s!==i?X(s,a,t,e):X(null,a,t),s===i&&e.insertBefore(o.dom,i),r&&ne(r,o.first,a.key,l),s=o.last,l++),s!==null&&(s=s.nextSibling,s!==null&&s.nodeType===8&&s.nodeValue===","&&(s=V(s,e).after));for(;s&&s!==i;)s=V(s,e).after}function Zt(e,t,n,r,s,i){let l=n.rev,o=n.length-1,a=r.length-1,f=n[o],u=r[a],p=-1;e:for(;;){for(;f.key===u.key;){if(i=re(f.dom,u,t,e).first,ne(s,i,u.key,a),delete l[u.key],a===0)break e;if(o===0){u=r[--a];break}f=n[--o],u=r[--a]}if(u.key in l){if(p=l[u.key],p>a)p=re(n[p].dom,u,t,e),He(e,p,i),i=p.first,ne(s,i,u.key,a);else if(p!==a)p=re(n[p].dom,u,t,e),He(e,p,i),i=p.first,ne(s,i,u.key,a);else{f=n[--o];continue}if(delete l[u.key],a===0)break;u=r[--a]}else{if(p=re(null,u,t),He(e,p,i),i=p.first,ne(s,i,u.key,a),a===0)break;u=r[--a]}}for(let k in l)V(n[l[k]].dom,e)}function He(e,{first:t,last:n},r){let s=t,i;do i=s,s=i.nextSibling;while(e.insertBefore(i,r)!==n)}function X(e,t,n,r,s,i){return typeof t=="function"?t.constructor===S?_t(e,t,n,r,s,i):X(e,t(),n,r,s,i):t instanceof w?re(e,t,n,r,s,i):Array.isArray(t)?Gt(e,t,n,r):t instanceof Node?Z(t):dt(e,t,r,i)}function re(e,t,n,r,s,i){return t.component?Ue(e,t,n,r,s,i):Qt(e,t,n,r,i)}function _t(e,t,n,r){if(ge.has(e))return ge.get(e);let s;return i(t()),t.observe(i),s;function i(l){s=X(e,l,n,r||e&&e.parentNode),ge.set(s.first,s),e&&e!==s.first&&ge.delete(e),e=s.first}}function Z(e,t=e,n=t){return{dom:e,first:t,last:n}}function Gt(e,t,n,r){let s=J.has(e)?J.get(e):e,i=dt(e,"["+t.length,r,!1,8);if(r){let l=s?s.nextSibling:null;me(r,t,n,i.first,s);let o=l?l.previousSibling:r.lastChild;return s!==o&&J.set(i.first,o),Z(i.dom,i.first,o)}return r=new DocumentFragment,r.appendChild(i.dom),me(r,t,n,i.first,s),J.set(i.first,r.lastChild),Z(r,i.first,r.lastChild)}function dt(e,t,n,r,s=typeof t=="boolean"||t==null?8:3){let i=r||!e||e.nodeType!==s;return i&&kt(e,e=s===8?T.createComment(t):T.createTextNode(t),n),!i&&e.nodeValue!==""+t&&(e.nodeValue=t),Z(e)}function Qt(e,t,n,r,s=e===null||Yt(e,t)){let i=n.NS;s&&kt(e,e=vt(t,n),r);let l=rn(e,t,n,s);return t.attrs.domSize=t.children&&t.children.length,t.attrs.domSize?me(e,t.children,n):l&&l.domSize&&e.hasChildNodes()&&xt(e.firstChild,e),n.NS=i,Z(e)}function Yt(e,t){return e.tagName!==(t.tag.name||"DIV").toUpperCase()}function vt(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||Ft[e.tag.name])?n?T.createElementNS(t.NS,e.tag.name,{is:n}):T.createElementNS(t.NS,e.tag.name):n?T.createElement(e.tag.name||"DIV",{is:n}):T.createElement(e.tag.name||"DIV")}function xt(e,t){do e=V(e,t).after;while(e)}function en(){let e=[],t=0,n=0;return{life:[],get exhausted(){return t>=e.length},get key(){return t<e.length?e[t].key:null},add(s,i,l,o){let a={id:window.count=(window.count||0)+1,key:null,view:s.component[0],catch:s.component[1],loading:s.component[2]};a.context=yt(s,i,l,o,a);let f=Ke(!0,a,s,a.context,o);return a.promise=f&&typeof f.then=="function"&&f,a.stateful=a.promise||typeof f=="function",a.view=a.promise?a.loading:f,e.length=t,e[t]=a,e[n=t++]},next(s,i,l,o){let a=t<e.length&&e[n=t++];return a&&(a.context=yt(s,i,l,o,a)),a},pop(){return--t==0&&(e.length=n+1,!(n=0))},cut(){return e.length=n=t}}}function yt(e,t,n,r,s){return Object.create(t,{onremove:{value:i=>r.life.push(()=>i)},redraw:{value:()=>Ue(r.dom.first,e,t,n,r,!1,!0)},reload:{value:()=>Ue(r.dom.first,e,t,n,r,!0)},ignore:{value:i=>s.ignore=i}})}function Ue(e,t,n,r,s=$.has(e)?$.get(e):en(),i=s.exhausted||s.key!==t.key,l=!1){let o=i?s.add(t,n,r,s):s.next(t,n,r,s);if(!i&&!l&&o.ignore)return s.pop(),s.dom;n=o.context,t.key&&(o.key=t.key);let a;i&&o.promise?(a=X(e,Ke(i,o,t,n,s),n,r,s,i),o.promise.then(u=>$.has(a.first)&&(o.view=u)).catch(u=>$.has(a.first)&&(o.error=u,o.view=t.component[1])).then(te)):a=X(e,tn(Ke(i,o,t,n,s),t),n,r,s,i||void 0);let f=e!==a.first;return s.pop()&&(f||i)&&(f&&$.delete(e),s.dom=a,$.set(a.first,s),!o.promise&&St(a.first,t.attrs,t.children,n,s.life)),a}function Ke(e,t,n,r,s){try{return mt(e,t,n,r)}catch(i){return t.error=i,t.view=t.catch||r.catch,s.cut(),mt(t.stateful||e,t,n,r)}}function mt(e,t,n,r){return t.stateful||e?typeof t.view=="function"?t.view(t.error?{...n.attrs,error:t.error}:n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function tn(e,t){return t?.tag?e?.tag?(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e):(e.tag=t.tag,e):e}function nn(e){for(let t in e)return!1;return!0}function rn(e,t,n,r){let s=t.tag,i,l,o=!r&&I.has(e)?I.get(e):void 0;o&&t.attrs&&(t.attrs.handleEvent=o.handleEvent),!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(r&&t.tag.classes||t.attrs.class!==(o&&o.class)||t.attrs.className!==(o&&o.className))&&(e.className=pe(t)),r&&t.attrs.class?.observe(()=>e.className=pe(t)),r&&t.attrs.className?.observe(()=>e.className=pe(t));for(i in t.attrs)!ct(i)&&(!o||o[i]!==t.attrs[i])&&(l=t.attrs[i],r&&sn(e,i,l,n),on(e,n,t.attrs,i,o&&o[i],l),l=!0);if(o)for(let a in o)a in t.attrs||(Ct(a)?Et(e,I,a):e.removeAttribute(a));if(t.tag)for(bt(e,t.tag.vars,t.tag.args,r);s=s.parent;)bt(e,s.vars,s.args,r);return r&&t.attrs.dom&&St(e,t.attrs,t.children,n,t.attrs.dom),l?I.set(e,t.attrs):o&&nn(t.attrs)&&I.delete(e),o}function sn(e,t,n,r){n&&n.constructor===S&&n.observe(s=>Be(e,t,s,r))}function bt(e,t,n,r){for(let s in t){let{unit:i,index:l}=t[s],o=n[l];$e(e,s,o,i,r)}}function $e(e,t,n,r,s,i){if(typeof n!="function"){e.style.setProperty(t,ce(n,r)),i&&ye.push(()=>e.style.setProperty(t,ce(n,r)));return}if(n.constructor!==S)return $e(e,t,n(e),r,s,s);s&&(n.observe(l=>e.style.setProperty(t,ce(l,r))),$e(e,t,n(),r,s,s))}function St(e,t,n,r,s){ye.push(()=>{s=[].concat(s).map(i=>typeof i=="function"&&i(e,t,n,r)).filter(i=>typeof i=="function"),s.length&&ee.set(e,(ee.get(e)||[]).concat(s))})}function on(e,t,n,r,s,i){if(s===i)return;r==="href"&&i&&!i.match(/^([a-z]+:)?\/\//)&&(i=y.pathmode+x(i),Ut(e));let l=Ct(r);l&&typeof s==typeof i||(l?i?ln(e,n,r):Et(e,n,r):Be(e,r,i,t))}function Be(e,t,n,r){if(typeof n=="function")return Be(e,t,n(),r);!n&&n!==0?e.removeAttribute(t):!r.NS&&t in e&&typeof n!="boolean"?e[t]=n:e.setAttribute(t,n===!0?"":n)}function Ct(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function Et(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function ln(e,t,n){!t.handleEvent&&(t.handleEvent=an(e)),e.addEventListener(n.slice(2),t.handleEvent)}function an(e){return{handleEvent:t=>At(I.get(e)["on"+t.type],t)}}function At(e,t){let n=typeof e=="function"?e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t);t.redraw!==!1&&e.constructor!==S&&te(),n&&typeof n.then=="function"&&n.then(te)}function kt(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),V(e,n)),t}function un(e,t,n){if(!ee.has(e))return n.length&&(B.add(e),Promise.allSettled(n));let r=ee.get(e).map(s=>s()).filter(s=>s&&typeof s.then=="function");return ee.delete(e),r.length===0?n.length&&(B.add(e),Promise.allSettled(n)):(B.add(e),Promise.allSettled(r.concat(n)).then(()=>{B.delete(e),V(e,t)}))}function fn(e,t,n){if(!J.has(e))return e.nextSibling;let r=J.get(e);if(e===r)return e.nextSibling;let s=r.nextSibling;if(e=e.nextSibling,!e)return s;do{let i=V(e,t,!1);i.life&&n.push(i.life),e=i.after}while(e&&e!==s);return s}function V(e,t,n=!0){if(!t||B.has(e))return{after:e.nextSibling,life:null};let r=[],s=e.nextSibling;if(e.nodeType===8&&(s=fn(e,t,r)),e.nodeType!==1)return n&&t.removeChild(e),{after:s,life:null};let i=e.firstChild;for(;i!==null;){let o=V(i,e,!1).life;o&&r.push(o),i=i.nextSibling}let l=un(e,t,r);return n&&!l&&t.removeChild(e),{after:s,life:l}}export{y as default};
