var L=class{constructor(t,n=null,r=0,i={},s=null){this.level=r,this.component=t,this.tag=n,this.attrs=i,this.key="key"in i?i.key:null,this.dom=null,this.children=s}};["get","put","post","delete","patch"].forEach(e=>P[e]=function(t,n={}){return n.method=e,P(t,n)});P.redraw=()=>{};function P(e,{method:t="GET",redraw:n=!0,body:r=null,user:i=void 0,pass:s=void 0,headers:a={},config:l,parse:o=f=>JSON.parse(f.responseText),serialize:u=f=>JSON.stringify(f)}={}){return new Promise((f,c)=>{let y=new XMLHttpRequest;y.onreadystatechange=function(){if(y.readyState===XMLHttpRequest.DONE){let E=y.responseText,z;try{E=o(y)}catch(G){z=G}z||y.status>=300?c(z||y.status):f(E),n&&P.redraw()}},y.onerror=y.onabort=c,y.open(t.toUpperCase(),e,!0,i,s),Object.keys(a).forEach(E=>a[E]&&E.setRequestHeader(E,a[E])),!("Content-Type"in a)&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in a)&&y.setRequestHeader("Accept","application/json, text/*"),l&&l(y),r===null?y.send():y.send(u(r))})}var _=typeof window=="undefined"||typeof window.document=="undefined";function U(e){return e&&d(e.observe)}function d(e){return typeof e=="function"}function nt(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="class"||e==="className"}function rt(e){return(ke(e.attrs.class)+ke(e.attrs.className)+e.tag.classes).trim()}function Ee(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function ve(e){return Array.isArray(e)?e:[e]}function ke(e){return d(e)?ke(e()):e?typeof e=="object"&&!U(e)?Object.keys(e).reduce((t,n)=>t+e[n]?n+" ":"",""):e+" ":""}var Oe=class{constructor(t,n){this.live=t,this.transform=n}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(n=>t(this.transform(n)))}};function K(e,t){let n=new Set;return d("function")&&n.add(t),r.observe=a=>(n.add(a),()=>n.delete(a)),r.valueOf=r.toString=r.toJSON=()=>e||"",r.detach=()=>{},r.reduce=s,r.set=a=>l=>(l&&(l.redraw=!1),r(d(a)?a(e):a||l)),r.get=a=>new Oe(r,l=>d(a)?a(l):l[a]),r.if=(a,l=!0,o=!1)=>new Oe(r,u=>u===a?l:o),Object.defineProperty(r,"value",{get:()=>e,set:i});function r(a){return arguments.length&&i(a),e}function i(a){a!==e&&(e=a,n.forEach(l=>l(a)))}function s(a,l){let o=1,u=K(arguments.length>1?a(l,e,o++):e);return r.observe(f=>u.value=a(u.value,f,o++)),u}}K.from=function(...e){let t=e.pop(),n=K(t(...e.map(Ne))),r=e.map(i=>i.observe(()=>n(t(...e.map(Ne)))));return n.detach=()=>r.forEach(Ne),n};function Ne(e){return e()}var S=_?{}:window;var we=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),it=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","right","top","text-align","text-decoration","text-transform","width","z-index"];var q=S.document,V=q&&q.querySelector&&(q.querySelector("style.sin")||q.createElement("style")),It=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,st=e=>e.replace(/(\B[A-Z])/g,"-$1").toLowerCase(),Me=V&&V.getAttribute("id")||"sin-",$=q.createElement("div"),lt={},at={},Le={};var ot=e=>Object.entries(e).forEach(([t,n])=>lt["@"+t]=n),ue={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},fe=["float"].concat(Object.keys($.style.hasOwnProperty("width")?$.style:Object.getPrototypeOf($.style))).reduce((e,t)=>(t.indexOf("-")===-1&&e.push(t.match(It)?"-"+st(t):st(t)),e),[]).sort(),Dt=Object.assign(fe.reduce(we,{}),it.reduce(we,{})),Ve=fe.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");fe.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),Te=new Map,zt=typeof S!="undefined"&&S.CSS&&CSS.supports("color","var(--support-test)"),je=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,ut=e=>e>=48&&e<=57||e===46,Re=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,Ht=e=>e===34||e===39,ft=e=>e===32||e===58||e===9,Ut=e=>e===59||e===10||e===125,ct=e=>e===58||e===64||e===38||e===91,Pe=e=>e[e.length-1],F=[],ce=[],N=-1,m=-1,w=-1,Q=-1,qe=-1,B=-1,h=-1,ht=-1,J=-1,M="",Fe="",A="",T="&",X="",Y="",he="",C="",We="",Ie="",x="",Z="",g="",v="",pt="",k=null,gt=!0,pe=!1,De=!1,ze=!0,He=!1,dt=-1,j=0;function Ue(e){return Dt[e]||e}function yt(e,t){return(pe?e:Kt(e))+":"+t+";"}function Kt(e){return at[e]||(at[e]=Zt(Ue(e)))}function $t(e){return e.replace(/,\s*[:[]?/g,t=>ct(t.charCodeAt(t.length-1))?",&"+Pe(t):",& ")}function ge(e,t){if(gt&&(V&&q.head&&q.head.appendChild(V),gt=!1),V&&V.sheet)try{V.sheet.insertRule(e,t??V.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Ke([e,...t],n,r=0,i){if(Te.has(e))return{...Te.get(e),args:t};let s={};Ie=x=Z=C=v="",F.length=j=0,m=dt=-1,k=i?{}:null,He=!1,De=!1,ze=!0,g=e[0];for(let l=0;l<e.length;l++)if(k?bt(0,l===e.length-1):Bt(e,l,t,n),g=e[l+1],l<t.length)if(zt&&m>=0){let o=e[l].slice(m);M=Me+Math.abs(j).toString(31),s[pt="--"+M+l]={unit:St(A,Pe(ce)),index:l},v+=o+"var("+pt+")",m=0}else t[l]&&(g=t[l]+g),ze=!1;if(He)if(i)Object.entries(k).forEach(([l,o])=>ge(l.replace(/&\s+/g,"")+"{"+o+"}"));else{M=Me+Math.abs(j).toString(31),Z+=(Z?" ":"")+M,Fe="";for(let l=0;l<r;l++)Fe+="."+M;Object.entries(k).forEach(([l,o])=>{ge(l.replace(/&/g,"."+M+Fe)+"{"+o+"}")})}let a={name:Ie,classes:Z,id:x,args:t,vars:s,parent:n};return ze&&Te.set(e,a),a}function Bt(e,t,n,r){for(let i=0;i<=g.length;i++)if(h=g.charCodeAt(i),i<g.length&&(j=Math.imul(31,j)+h|0),De){if(je(h)){k={},bt(i++,t===e.length-1);break}}else!je(h)||i===g.length?(Z=(w!==-1?g.slice(w+1,i).replace(/\./g," "):"")+Z+(r?" "+r.classes:""),x===""&&(x=(Q!==-1?g.slice(Q,w===-1?i:w):"")||(r?r.id:null)),Ie=g.slice(0,x?Q-1:w!==-1?w:i)||r&&r.name,Q=w=-1,De=!0):h===35?Q=i+1:w===-1&&h===46&&(w=i)}function Jt(e){return lt[e]||e}function bt(e,t){for(let n=e;n<=g.length;n++)h=g.charCodeAt(n),n<g.length&&(j=Math.imul(31,j)+h|0),B===-1&&m>=0&&(pe?h===59||h===125:Ut(h)||t&&n===g.length)&&(J>-1&&!Re(h)&&mt(n),A==="@import"?ge(A+" "+g.slice(m,n),0):C+=yt(A,v+g.slice(m,n)),He=!0,N=m=-1,pe=!1,A=v=""),B!==-1?B===h&&g.charCodeAt(n-1)!==92&&(B=-1):B===-1&&Ht(h)?(B=h,m===-1&&(m=n)):h===123?(A==="animation"?(C&&(k[T||"&"]=C),Y=v+g.slice(m,n).trim(),We=v="",C=""):Y?(he=g.slice(N,n).trim(),C=""):(C&&(k[T||"&"]=C),X=qe===64?Jt(A+v+g.slice(m,n).trim()):g.slice(N,n).trim(),X.indexOf(",")!==-1&&(X=$t(X)),v=A="",F.push((ct(qe)?"":" ")+(X==="@font-face"?Array(++dt+1).join(" "):"")+X),T=F.toString(),C=k[T||"&"]||""),N=m=-1,A=""):h===125||t&&n===g.length?(he?(We+=he+"{"+C+"}",he=C=""):Y?(M=Me+Math.abs(j).toString(31),ge("@keyframes "+M+"{"+We+"}"),C=(k[T||"&"]||"")+yt("animation",Y+" "+M),Y=""):(C&&(k[T||"&"]=C),F.pop(),T=F.toString(),C=k[T||"&"]||""),N=m=-1,A=""):n!==g.length&&N===-1&&je(h)?(N=n,qe=h):!A&&N>=0&&ft(h)?(A=g.slice(N,n),pe=h===58):m===-1&&A&&!ft(h)?(m=n,ut(h)&&(J=n)):m!==-1&&(ut(h)?J===-1&&(J=n):J>-1&&mt(n),h===40?ce.push(g.slice(Math.max(ht,m),n)):h===41?ce.pop():(h===9||h===32)&&(ht=n+1))}function mt(e){Re(h)||(v=v+g.slice(m,e)+St(A,Pe(ce)),m=e),J=-1}function de(e,t){return!e&&e!==0?"":(d(e)&&(e=v()),typeof e!="string"||!Re(e.charCodeAt(e.length-1))?e+t:e.charCodeAt(0)===36?"var(--"+e.slice(1)+")":e)}function St(e,t=""){e=Ue(e);let n=e+","+t;return n in Le?Le[n]:Le[n]=t&&(t.indexOf("translate")===0||"perspective blur drop-shadow inset polygon".indexOf(t)>-1)?"px":t.indexOf("rotate")===0||t.indexOf("skew")===0?"deg":t?"":Xt(e)}F.toString=function(){let e="",t="";return F.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"||t===":root"?"":"&")+t};function Xt(e){if(e=Ue(e),e[0]==="-"&&e[1]==="-"||e in ue)return ue[e];try{return $.style[e]="1px",$.style.setProperty(e,"1px"),ue[e]=$.style[e].slice(-3)==="1px"?"px":""}catch{return ue[e]=""}}function Zt(e){if(fe.indexOf(e)===-1){if(Ve[e])return console.log(e,"prefixed to",Ve[e]),Ve[e];e.indexOf("--")!==0&&console.log(e,"not found")}return e}var Ct=!1,At={};function ee(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function Et(e){return e.split(/(?=\/)/)}function Gt(e,t){return e.reduce((n,r,i)=>n+(r==="404"?1:r===t[i]?6:r&&t[i]&&r.toLowerCase()===t[i].toLowerCase()?5:r[1]===":"&&t[i]&&t[i].length>1?4:r==="/"&&!t[i]?3:r==="*"||r==="/*"?2:-1/0),0)}function _t(e,t){return e.reduce((n,r,i)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[i].slice(1))),n),{})}function vt(e,t,n){return d(e)?e(t,[],n):e}function $e(e,t,n){let r=n.location,i=e((u,[f],c)=>(c.route=u.route,()=>typeof f=="string"?import((f[0]==="/"?"":o)+f).then(y=>vt(y.default,u,c)):vt(f,u,c)));return o.toString=o,o.has=u=>u==="/"?s(r)===t||s(r)==="/"&&t==="":s(r).indexOf(ee(t+"/"+u))===0,Object.defineProperty(o,"path",{get(){let u=s(r),f=u.indexOf("/",t.length+1);return f===-1?u:u.slice(0,f)}}),o;function s(u,f=0){return(e.pathmode[0]==="#"?u.hash.slice(e.pathmode.length+f):e.pathmode[0]==="?"?u.search.slice(e.pathmode.length+f):u.pathname.slice(e.pathmode+f)).replace(/(.)\/$/,"$1")}function a(u,{state:f,replace:c=!1,scroll:y=l(u)}={}){u!==o.path&&(e.pathmode[0]==="#"?S.location.hash=e.pathmode+u:e.pathmode[0]==="?"?S.location.search=e.pathmode+u:S.history[c?"replaceState":"pushState"](f,null,e.pathmode+u),At[u]=f,e.redraw(),y&&scrollTo(0,0))}function l(u){return u.split("/")[1]!==o.path.split("/")[1]}function o(u,f={}){if(typeof u=="undefined")return t+"/";if(typeof u=="string")return a(ee(u[0]==="/"?u:"/"+u),f);Ct||(Ct=!0,e.pathmode[0]==="#"?S.addEventListener("hashchange",e.redraw,{passive:!0}):d(S.history.pushState)&&S.addEventListener("popstate",e.redraw,{passive:!0}));let c=s(r,t.length),y=Et(c),[,E,z]=Object.entries(u).reduce((Ae,[H,Wt])=>{H=Et(ee(H));let tt=Gt(H,y);return tt>Ae[0]?[tt,H,Wt]:Ae},[0]),G=t+(E&&E[0]!=="*"?E.map((Ae,H)=>y[H]).join(""):"");(z===void 0||E==="404")&&n.status(404);let Ce=$e(e,G.replace(/\/$/,""),n);return Ce.parent=o,Ce.root=o.parent?o.parent.root:o,i({key:G||"/",route:Ce,...t+c===G&&At[t+c]||{},..._t(E||[],y)},z)}}var O=S.document,Qt={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};b.isServer=_;function b(...e){let t=typeof e[0];return t==="string"?Be(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Be.bind(t==="function"?new L(e):Ot(e))}function Be(...e){return e[0]&&Array.isArray(e[0].raw)?Be.bind(Ot(e,this)):nn(e,this)}var R=new WeakMap,ye=new WeakSet,te=new WeakMap,be=new WeakMap,ne=new WeakMap,re=new WeakMap,W=new WeakMap,me=new WeakMap,kt=new Map,Je=!0,Se=[];b.pathmode="";b.redraw=ie;b.mount=sn;b.css=(...e)=>Ke(e,null,0,!0);b.animate=en;b.http=P;b.http.redraw=ie;b.medias=ot;b.live=K;b.on=xt;b.trust=Yt;function Yt(e){return b(()=>{let t=O.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n})}function xt(e,t,n,r){return()=>{let i=s=>qt(n,s);return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}}function en(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),()=>new Promise(n=>{let r=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(r=!0,t(n)),{once:!0,passive:!0}),Ln(()=>r?t(n):n())});function t(n){e.addEventListener("transitionend",n,{once:!0,passive:!0}),e.addEventListener("transitioncancel",n,{once:!0,passive:!0})}}function tn(e,t){e.addEventListener("click",n=>{if(!n.defaultPrevented&&(n.button===0||n.which===0||n.which===1)&&(!n.currentTarget.target||n.currentTarget.target==="_self")&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey){n.preventDefault();let r=W.get(e).state;t(e.getAttribute("href"),{state:r})}})}function Ot(e,t){let n=t?t.level+1:0;return new L(t&&t.component,Ke(e,t&&t.tag,n),n)}function nn(e,t){let n=rn(e&&e[0]);return new L(t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function rn(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof L)}function sn(e,t,n={},r={}){if(d(t)||(r=n||{},n=t||{},t=e,e=O.body),r.status=b.live(200),r.title=b.live(O.title),r.head=b.live(""),"location"in r||(r.location=S.location),"catcher"in r||(r.catcher=ln),_)return{view:t,attrs:n,context:r};r.title.observe(i=>O.title=i),n.route=r.route=$e(b,"",r),kt.set(e,{view:t,attrs:n,context:r}),Nt({view:t,attrs:n,context:r},e)}function ln(e){return console.error(e),b`pre;m 0;c white;bc #ff0033;p 16;br 6;overflow auto`(b`code`(e.stack))}function ie(){Je&&(requestAnimationFrame(an),Je=!1)}function an(){kt.forEach(Nt),Je=!0}function Nt({view:e,attrs:t,context:n},r){try{let i=e(t,[],n);se(r,ve(i),n)}catch(i){se(r,ve(n.catcher(i,t,[],n)),n)}Se.forEach(i=>i()),Se=[]}function se(e,t,n,r,i=e.lastChild){let s=t[0]&&t[0].key!=null&&new Array(t.length),a=r?r.nextSibling:e.firstChild,l=me.has(a),o=i?i.nextSibling:null;s&&(s.rev={})&&l?un(e,n,me.get(a),t,s,o):on(e,n,t,s,a,o);let u=r?r.nextSibling:e.firstChild;return s&&(me.set(u,s),u!==a&&me.delete(a)),I(u,o&&o.previousSibling||e.lastChild)}function le(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function on(e,t,n,r,i,s=null){let a=0,l,o;for(;a<n.length;)(i===null||!ye.has(i))&&(o=n[a],l=i!==s?ae(i,o,t,e):ae(null,o,t),i===s&&e.insertBefore(l.dom,s),r&&le(r,l.first,o.key,a),i=l.last,a++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=D(i,e).after));for(;i&&i!==s;)i=D(i,e).after}function un(e,t,n,r,i,s){let a=n.rev,l=n.length-1,o=r.length-1,u=n[l],f=r[o],c=-1;e:for(;;){for(;u.key===f.key;){if(s=oe(u.dom,f,t,e).first,le(i,s,f.key,o),delete a[f.key],o===0)break e;if(l===0){f=r[--o];break}u=n[--l],f=r[--o]}if(f.key in a){if(c=a[f.key],c>o)c=oe(n[c].dom,f,t,e),Xe(e,c,s),s=c.first,le(i,s,f.key,o);else if(c!==o)c=oe(n[c].dom,f,t,e),Xe(e,c,s),s=c.first,le(i,s,f.key,o);else{u=n[--l];continue}if(delete a[f.key],o===0)break;f=r[--o]}else{if(c=oe(null,f,t),Xe(e,c,s),s=c.first,le(i,s,f.key,o),o===0)break;f=r[--o]}}for(let y in a)D(n[a[y]].dom,e)}function Xe(e,{first:t,last:n},r){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,r)!==n)}function ae(e,t,n,r,i,s){return d(t)?U(t)?fn(e,t,n,r,i,s):ae(e,t(),n,r,i,s):t instanceof L?oe(e,t,n,r,i,s):Array.isArray(t)?pn(e,t,n,r):t instanceof Node?I(t):Mt(e,t,r,s)}function oe(e,t,n,r,i,s){return t.component?Ze(e,t,n,r,i,s):gn(e,t,n,r,s)}function fn(e,t,n,r){if(be.has(e))return be.get(e);let i;return s(t()),t.observe(s),i;function s(a){i=ae(e,a,n,r||e&&e.parentNode),be.set(i.first,i),e&&e!==i.first&&be.delete(e),e=i.first}}function I(e,t=e,n=t){return{dom:e,first:t,last:n}}function cn(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function hn(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&cn(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&ne.set(e,t),t}function wt(e){return ne.has(e)?ne.get(e):hn(e)}function pn(e,t,n,r){let i=wt(e)||e,s=Mt(e,"["+t.length,r,!1,8);if(r){let a=i?i.nextSibling:null;se(r,t,n,s.first,i);let l=a?a.previousSibling:r.lastChild;return i!==l&&ne.set(s.first,l),I(s.dom,s.first,l)}return r=new DocumentFragment,r.appendChild(s.dom),se(r,t,n,s.first,i),ne.set(s.first,r.lastChild),I(r,s.first,r.lastChild)}function Mt(e,t,n,r,i=typeof t=="boolean"||t==null?8:3){let s=r||!e||e.nodeType!==i;return s&&Ft(e,e=i===8?O.createComment(t):O.createTextNode(t),n),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),I(e)}function gn(e,t,n,r,i=e===null||dn(e,t)){let s=n.NS;return i&&Ft(e,e=yn(t,n),r),En(e,t,n,i),se(e,t.children,n),n.NS=s,I(e)}function dn(e,t){return e.tagName!==(t.tag.name||"DIV").toUpperCase()}function yn(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||Qt[e.tag.name])?n?O.createElementNS(t.NS,e.tag.name,{is:n}):O.createElementNS(t.NS,e.tag.name):n?O.createElement(e.tag.name||"DIV",{is:n}):O.createElement(e.tag.name||"DIV")}function bn(){let e=[],t=0,n=0;return{life:[],get exhausted(){return t>=e.length},get key(){return t<e.length?e[t].key:null},add(i,s,a,l){let o={id:S.count=(S.count||0)+1,key:null,view:i.component[0],catcher:i.component[1]||s.catcher,loader:i.component[2]||s.loader};o.context=Lt(i,s,a,l,o);let u=Vt(!0,o,i,o.context,l);return o.promise=u&&d(u.then)&&u,o.stateful=o.promise||d(u),o.view=o.promise?o.loader:u,e.length=t,e[t]=o,e[n=t++]},next(i,s,a,l){let o=t<e.length&&e[n=t++];return o&&(o.context=Lt(i,s,a,l,o)),o},pop(){return--t===0&&(e.length=n+1,!(n=0))},cut(){return e.length=n=t}}}function Lt(e,t,n,r,i){return Object.create(t,{onremove:{value:s=>r.life.push(()=>s)},redraw:{value:()=>Ze(r.dom.first,e,t,n,r,!1,!0)},reload:{value:()=>Ze(r.dom.first,e,t,n,r,!0)},ignore:{value:s=>i.ignore=s}})}function mn(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return I(e,e,t)}function Sn(e,t){R.delete(e.first),R.set(e.first.nextSibling,t),e.first.remove(),e.last.remove()}function Ze(e,t,n,r,i=R.has(e)?R.get(e):bn(),s=i.exhausted||i.key!==t.key,a=!1){let l=s?i.add(t,n,r,i):i.next(t,n,r,i);if(!s&&!a&&l.ignore)return i.pop(),i.dom;t.key&&s&&(l.key=t.key);let o=l.promise&&e&&e.nodeType===8&&e.nodeValue.endsWith("async"),u=l.next=o?mn(e):ae(e,Cn(Vt(s,l,t,l.context,i),t),l.context,r,i,s||void 0);s&&l.promise&&l.promise.then(c=>l.view=c).catch(c=>l.view=l.catcher.bind(null,c)).then(()=>R.has(l.next.first)&&(o&&Sn(u,i),l.promise=!1,ie()));let f=e!==u.first;return i.pop()&&(f||s)&&(f&&R.delete(e),i.dom=l.next=u,R.set(u.first,i),!l.promise&&Rt(u.first,t.attrs,t.children,l.context,i.life)),u}function Vt(e,t,n,r,i){try{return Tt(e,t,n,r)}catch(s){return t.view=t.catcher.bind(null,s),i.cut(),Tt(t.stateful||e,t,n,r)}}function Tt(e,t,n,r){return t.stateful||e?d(t.view)?t.view(n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function Cn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function An(e){for(let t in e)return!1;return!0}function En(e,t,n,r){let i=t.tag,s,a=!r&&W.has(e)?W.get(e):void 0;a&&t.attrs&&(t.attrs.handleEvent=a.handleEvent),!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(r&&t.tag.classes||t.attrs.class!==(a&&a.class)||t.attrs.className!==(a&&a.className)||e.className!==t.tag.classes)&&_e(e,t),r&&Ge(e,t.attrs.class,()=>_e(e,t)),r&&Ge(e,t.attrs.className,()=>_e(e,t));for(let l in t.attrs)!nt(l)&&(!a||a[l]!==t.attrs[l])&&(s=t.attrs[l],r&&Ge(e,s,o=>Ye(e,l,o,n)),vn(e,n,t.attrs,l,a&&a[l],s),s=!0);if(a)for(let l in a)l in t.attrs||(Ee(l)?Pt(e,W,l):e.removeAttribute(l));if(t.tag)for(jt(e,t.tag.vars,t.tag.args,r);i=i.parent;)jt(e,i.vars,i.args,r);return r&&t.attrs.dom&&Rt(e,t.attrs,t.children,n,t.attrs.dom),s?W.set(e,t.attrs):a&&An(t.attrs)&&W.delete(e),a}function Ge(e,t,n){if(!U(t))return;let r=te.has(e),i=r?te.get(e):new Set;!r&&te.set(e,i),i.add(t.observe(n))}function _e(e,t){let n=rt(t);n?e.className=n:e.removeAttribute("class")}function jt(e,t,n,r){for(let i in t){let{unit:s,index:a}=t[i],l=n[a];Qe(e,i,l,s,r)}}function Qe(e,t,n,r,i,s){if(U(n)){i&&(n.observe(a=>e.style.setProperty(t,de(p(a),r))),Qe(e,t,n.value,r,i,i));return}if(d(n))return Qe(e,t,n(e),r,i,i);e.style.setProperty(t,de(n,r)),s&&Se.push(()=>e.style.setProperty(t,de(n,r)))}function Rt(e,t,n,r,i){Se.push(()=>{i=[].concat(i).map(s=>d(s)&&s(e,t,n,r)).filter(s=>d(s)),i.length&&re.set(e,(re.get(e)||[]).concat(i))})}function vn(e,t,n,r,i,s){if(i===s)return;r==="href"&&s&&!s.match(/^([a-z]+:)?\/\//)&&(s=b.pathmode+ee(s),tn(e,t.route));let a=Ee(r);a&&typeof i==typeof s||(a?s?kn(e,n,r):Pt(e,n,r):Ye(e,r,s,t))}function Ye(e,t,n,r){if(d(n))return Ye(e,t,n(),r);!n&&n!==0?e.removeAttribute(t):!r.NS&&t in e&&typeof n!="boolean"?e[t]=n:e.setAttribute(t,n===!0?"":n)}function Pt(e,t,n){e.removeEventListener(n.slice(2),t.handleEvent)}function kn(e,t,n){!t.handleEvent&&(t.handleEvent=On(e)),e.addEventListener(n.slice(2),t.handleEvent)}function On(e){return{handleEvent:t=>qt(W.get(e)["on"+t.type],t)}}function qt(e,t){let n=d(e)?e.call(t.currentTarget,t):d(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!U(e)&&ie(),n&&d(n.then)&&n.then(ie)}function Ft(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),D(e,n)),t}function xe(e,t,n){return ye.add(e),Promise.allSettled(n).then(()=>{ye.delete(e),D(e,t)})}function Nn(e){try{return e()}catch(t){console.error(t)}}function wn(e,t,n){if(!re.has(e))return n.length&&xe(e,t,n);let r=re.get(e).map(Nn).filter(i=>i&&d(i.then));return re.delete(e),r.length===0?n.length&&xe(e,t,n):xe(e,t,r.concat(n))}function Mn(e,t,n,r){let i=wt(e);if(!i||e===i)return e.nextSibling;let s=i.nextSibling;if(e=e.nextSibling,!e)return s;do{let a=D(e,t,r);a.life&&n.push(a.life),e=a.after}while(e&&e!==s);return s}function et(e,t){te.has(t)&&te.get(t).forEach(n=>n()),R.delete(t),e.removeChild(t)}function D(e,t,n=!0){if(!t||ye.has(e))return{after:e.nextSibling,life:null};let r=[],i=e.nextSibling;if(e.nodeType===8&&e.nodeValue.endsWith("async")&&(i=e.nextSibling,et(t,e),e=i,i=e.nextSibling),e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&(i=Mn(e,t,r,n)),e.nodeType!==1)return n&&et(t,e),{after:i,life:null};let s=e.firstChild;for(;s!==null;){let l=D(s,e,!1).life;l&&r.push(l),s=s.nextSibling}let a=wn(e,t,r);return n&&!a&&et(t,e),{after:i,life:a}}function Ln(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{b as default};
