typeof globalThis>"u"&&(window.globalThis=window);var E=typeof window>"u"?{}:window;var $=Symbol("stackTrace"),m={}.hasOwnProperty;function Z(e){return e&&String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function St(e){return!e&&e!==0&&e!==""}function Se(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function w(e){return e&&b(e.observe)}function b(e){return typeof e=="function"}function ze(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function Be(e){return e&&Array.isArray(e.raw)}function Ie(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function He(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"||e==="href"}function Et(e){return(De(e.attrs.class)+De(e.attrs.className)+e.tag.classes).trim()}function Ee(e){return Array.isArray(e)?e:[e]}function X(){}function Ae(e){return Ie(e)||(e==="cssFloat"?"float":Se(e))}function De(e){return w(e)||b(e)?De(e()):e?typeof e=="object"?ur(e):e+" ":""}function ur(e){let t="";for(let r in e)t+=(t?" ":"")+(e[r]||"");return t}var P=class{constructor(t,r,n=null,s=0,i=null,l=null){this.level=s,this.component=r,this.inline=t,this.tag=n,this.attrs=i,this.key=i?i.key:void 0,this.dom=null,this.children=l,this[$]=m.call(E,$)?new Error().stack:null}};["head","get","put","post","delete","patch"].forEach(e=>_[e]=function(t,r={}){return r.method=e,_(t,r)});_.redraw=()=>{};var cr=typeof Uint8Array>"u"?[]:[Object.getPrototypeOf(Uint8Array)],fr="Blob ArrayBuffer DataView FormData URLSearchParams File".split(" ").map(e=>globalThis[e]).filter(e=>e).concat(cr);function _(e,{method:t="GET",redraw:r=!0,responseType:n,json:s="application/json",query:i,body:l,user:a,pass:u,headers:f={},config:o,timeout:c=0,...p}={}){let h=new E.XMLHttpRequest(p),se=!1,H=new Promise((M,L)=>{let N,W;t=t.toUpperCase(),h.addEventListener("readystatechange",function(){if(h.readyState===h.DONE)try{h.status&&Object.defineProperty(h,"body",{value:N===s?h.response===void 0||h.response===""?void 0:JSON.parse(h.response):h.response}),h.status===304||h.status>=200&&h.status<300?M(se?h:h.body):L(hr(h))}catch(j){L(j)}}),h.addEventListener("error",L),h.addEventListener("abort",()=>L(new Error("ABORTED"))),h.open(t,pr(e,i),!0,a,u),h.timeout=c,n&&(h.responseType=n),Object.entries(f).forEach(([j,me])=>{me&&h.setRequestHeader(j,me),j.toLowerCase()==="accept"&&(N=me),j.toLowerCase()==="content-type"&&(W=me)}),!N&&!n&&s&&h.setRequestHeader("Accept",N=s),!W&&l!==void 0&&!fr.some(j=>l instanceof j)&&s&&h.setRequestHeader("Content-Type",W=s),o&&o(h),h.send(W===s?JSON.stringify(l):l)}).catch(M=>{let L=Object.assign(new Error(M.message),{...M,url:e,status:h.status,body:h.body||h.response});throw Object.defineProperty(L,"xhr",{value:h}),L});return Object.defineProperty(H,"xhr",{get(){return se=!0,H}}),H}function hr(e){return new Error(e.status?e.status+(e.statusText?" "+e.statusText:""):"Unknown")}function pr(e,t){let r=new URL(e,"http://x"),n=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+r.search+(n?(r.search?"&":"?")+n:"")+(r.hash||"")}function At(){let e=new Set;return t.observe=r=>(e.add(r),()=>e.delete(r)),t;function t(...r){[...e].forEach(n=>n(...r))}}function Y(e,...t){let r=new Set;return t.forEach(a=>b(a)&&r.add(a)),i.value=e,i.observe=a=>(r.add(a),()=>r.delete(a)),i.valueOf=i.toString=i.toJSON=()=>e,i.detach=X,i.reduce=l,i.set=a=>(...u)=>(i(b(a)?a(...u):a),i),i.get=a=>Object.assign(n.bind(null,a),{observe:u=>i.observe(()=>u(n(a)))}),i.if=(...a)=>Object.assign(s.bind(null,...a),{observe:u=>i.observe(f=>u(s(...a)))}),i;function n(a){return b(a)?a(i.value):i.value[a]}function s(a,u=!0,f=!1){return i.value===a?u:f}function i(a){return arguments.length&&(i.value=a,[...r].forEach(u=>i.value!==e&&u(i.value,e)),e=i.value),i.value}function l(a,u){let f=1,o=Y(arguments.length>1?a(u,i.value,f++):i.value);return i.observe(c=>o(a(o.value,c,f++))),o}}Y.from=function(...e){let t=e.pop(),r=Y(t(...e.map($e))),n=e.map(s=>s.observe(()=>r(t(...e.map($e)))));return r.detach=()=>n.forEach($e),r};function $e(e){return e()}function Ke(e,t){let r=URLSearchParams,n=["append","delete","set","sort"],s=t.search,i=new r(s),l,a={replace:o=>(i=new r(o),f()),clear:()=>a.replace("")};for(let o in r.prototype)a[o]=(...c)=>(l=u()[o](...c),n.includes(o)&&f(),l);return a;function u(){return s===t.search?i:(s=t.search,i=new r(s))}function f(){let o=t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash;location.href.endsWith(o)||(E.history.replaceState(E.history.state,null,o),e.redraw())}}var Ct=!1,kt={};function Ot(e){return e.split(/(?=\/)/)}function dr(e,t){return e.reduce((r,n,s)=>r+(n==="/?"?1:n===t[s]?6:n&&t[s]&&n.toLowerCase()===t[s].toLowerCase()?5:n[1]===":"&&t[s]&&t[s].length>1?4:n==="/"&&!t[s]?3:n==="*"||n==="/*"?2:-1/0),0)}function gr(e,t){return e.reduce((r,n,s)=>(n[1]===":"&&(r[n.slice(2)]=decodeURIComponent(t[s].slice(1))),r),{})}function ie(e,t,r){let n=r.location,s=e(({route:o,...c},[p],C)=>(C.route=o,()=>typeof p=="string"?import((p[0]==="/"?"":o)+p).then(h=>i(h.default,c,C)):i(p,c,C)));return f.query=Ke(e,r.location),f.toString=f,f.has=o=>o==="/"?l(n)===t||l(n)==="/"&&t==="":l(n).indexOf(Z(t+"/"+o))===0,Object.defineProperty(f,"path",{get(){let o=l(n),c=o.indexOf("/",t.length+1);return c===-1?o:o.slice(0,c)}}),f;function i(o,c,p){let C=b(o)?o(c,[],p):o;return C&&b(C.then)?e(()=>C)(c):C}function l(o,c=0){return(e.pathmode[0]==="#"?o.hash.slice(e.pathmode.length+c):e.pathmode[0]==="?"?o.search.slice(e.pathmode.length+c):o.pathname.slice(e.pathmode+c)).replace(/(.)\/$/,"$1")}function a(o,{state:c,replace:p=!1,scroll:C=u(o)}={}){o!==l(n)&&(e.pathmode[0]==="#"?E.location.hash=e.pathmode+o:e.pathmode[0]==="?"?E.location.search=e.pathmode+o:E.history[p?"replaceState":"pushState"](c,null,e.pathmode+o),kt[o]=c,e.redraw(),C&&scrollTo(0,0))}function u(o){return o.split("/")[1]!==f.path.split("/")[1]}function f(o,c={}){if(typeof o>"u")return t+"/";if(typeof o=="string")return a(Z(o[0]==="/"?o:"/"+o),c);Ct||(Ct=!0,e.pathmode[0]==="#"?E.addEventListener("hashchange",e.redraw,{passive:!0}):b(E.history.pushState)&&E.addEventListener("popstate",e.redraw,{passive:!0}));let p=l(n,t.length),C=Ot(p),[,h,se]=Object.entries(o).reduce((L,[N,W])=>{N.charCodeAt(0)===47||(N="/"+N),N=Ot(Z(N));let j=dr(N,C);return j>L[0]?[j,N,W]:L},[0]),H=t+(h&&h[0]!=="/*"?h.map((L,N)=>C[N]).join(""):"");(se===void 0||h[0]==="/?")&&r.doc.status(404);let M=ie(e,H.replace(/\/$/,""),r);return M.parent=f,M.root=f.parent?f.parent.root:f,s({key:H||"?",route:M,...t+p===H&&kt[t+p]||{},...gr(h||[],C)},se)}}var Ge=(e,t)=>(e[t.split("-").map(r=>r[0]).join("")]=t,e),Nt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-area","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","pointer-events","right","top","text-align","text-decoration","text-transform","text-shadow","user-select","white-space","width","z-index"];var ce=E.document,D=ce.querySelector("style.sin")||ce.createElement("style"),yr=/^(ms|moz|webkit)[-A-Z]/i,Xe=D&&D.getAttribute("id")||"sin-",te=ce.createElement("div"),jt={},Tt={},Je={};var Rt=e=>Object.entries(e).forEach(([t,r])=>jt["@"+t]=r),Ce={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","text-shadow":"px","@media":"px"},Oe=Array.from(Object.keys(m.call(te.style,"width")?te.style:Object.getPrototypeOf(te.style)).reduce((e,t)=>(e.add(t.match(yr)?"-"+Se(t):Se(t)),e),new Set(["float"]))),br=Object.assign(Oe.reduce(Ge,{}),Nt.reduce(Ge,{})),vt=Oe.reduce((e,t)=>{let r=t.match(/-(ms|o|webkit|moz)-/g);if(r){let n=t.replace(/-(ms|o|webkit|moz)-/,"");Oe.indexOf(n)===-1&&(n==="flexDirection"&&(e.flex="-"+r[1].toLowerCase()+"-flex"),e[n]=t)}return e},{}),Qe=new Map,wt=new Set,Ft=typeof E>"u",mr=Ft||E.CSS&&CSS.supports("color","var(--support-test)"),Sr=["perspective","blur","drop-shadow","inset","polygon"],Er=["@media","@supports","@document","@layer"],Ar=e=>Er.some(t=>e.indexOf(t)===0),Cr=e=>e.indexOf("translate")===0||Sr.indexOf(e)>-1,kr=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,_e=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,Ut=e=>e>=48&&e<=57||e===46,Or=e=>e>=65&&e<=90||e>=97&&e<=122,Nr=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,Tr=e=>e===34||e===39,Pt=e=>e===32||e===58||e===9,vr=e=>e===59||e===10||e===125,qt=e=>e===38||e===58||e===64||e===91,wr=e=>e===59||e===125,rt=e=>e[e.length-1],R=[],re=[],U=-1,S=-1,F=-1,ae=-1,Ne=-1,x=-1,d=-1,J=-1,ne=-1,Mt=-1,G=-1,V="",We="",k="",z="&",K="",le="",ke="",A="",Ye="",xe="",oe="",ee="",g="",T="",Lt="",v=null,Vt=!0,Te=!1,et=!1,Ze=!0,tt=!1,B=0,ue=!1;function nt(e){return br[e]||e}function Dt(e,t,r){return(e?";":"")+(Te?t:Pr(t))+":"+r}function Pr(e){return Tt[e]||(Tt[e]=zr(nt(e)))}function Lr(e){return ue?e:e.replace(/,\s*[:[]?/g,t=>qt(t.charCodeAt(t.length-1))?",&"+rt(t):",& ")}function ve(e,t){if(Vt&&(D&&ce.head&&ce.head.appendChild(D),Vt=!1),D&&D.sheet)try{D.sheet.insertRule(e,t??D.sheet.cssRules.length)}catch(r){console.error("Insert rule error:",r,e)}}function st([e,...t],r,n=0,s=!1){if(Qe.has(e))return{...Qe.get(e),args:t};ue=s;let i={};xe=oe=ee=A=T=k="",R.length=re.length=B=0,J=S=Mt=Ne=G=-1,v=ue?{}:null,tt=!1,et=!1,Ze=!0,g=e[0];for(let a=0;a<e.length;a++)if(v?zt(0,a===e.length-1):Vr(e,a,t,r),g=e[a+1],a<t.length)if(mr&&S>=0){let u=e[a].slice(S);V=Xe+Math.abs(B).toString(31),i[Lt="--"+V+a]={property:k,unit:Ht(k,rt(re)),index:a},T+=u+"var("+Lt+")",S=0}else t[a]&&(g=t[a]+g),Ze=!1,S=-1;if(tt)if(ue)Object.entries(v).forEach(([a,u])=>{ve(a.replace(/&\s+/g,"").replace(/{&$/,"")+"{"+u+"}")});else{V=Xe+Math.abs(B).toString(31),ee+=(ee?" ":"")+V,We="";for(let a=0;a<n;a++)We+="."+V;wt.has(V)||Object.entries(v).forEach(([a,u])=>{ve(a.replace(/&/g,"."+V+We)+"{"+u+"}")})}let l={name:xe,classes:ee,id:oe,args:t,vars:i,parent:r};return Ze?Qe.set(e,l):wt.add(V),l}function Vr(e,t,r,n){for(let s=0;s<=g.length;s++)if(d=g.charCodeAt(s),s<g.length&&(B=Math.imul(31,B)+d|0),et){if(_e(d)){v={},zt(s++,t===e.length-1);break}}else!_e(d)||s===g.length?(ee=(F!==-1?g.slice(F+1,s).replace(/\./g," "):"")+ee+(n?" "+n.classes:""),oe===""&&(oe=(ae!==-1?g.slice(ae,F===-1?s:F):"")||(n?n.id:null)),xe=g.slice(0,oe?ae-1:F!==-1?F:s)||n&&n.name,ae=F=-1,et=!0):d===35?ae=s+1:F===-1&&d===46&&(F=s)}function jr(e){return jt[e]||e}function zt(e,t){for(let r=e;r<=g.length;r++)d=g.charCodeAt(r),r<g.length&&(B=Math.imul(31,B)+d|0),x===-1&&S!==-1&&(Te?wr(d):vr(d)||t&&r===g.length)&&Rr(r),x!==-1?x===d&&g.charCodeAt(r-1)!==92&&(x=-1):x===-1&&Tr(d)?(x=d,S===-1&&(S=r)):d===123?Fr(r):d===125||t&&r===g.length?Ur():r!==g.length&&U===-1&&_e(d)?(U=r,Ne=d):!k&&U>=0&&Pt(d)?(k=g.slice(U,r),Te=d===58):S===-1&&k&&!Pt(d)?(S=J=r,Ut(d)?ne=r:d===36&&(G=r)):S!==-1?It(r):(d===9||d===32)&&(J=r+1)}function Rr(e){Bt(e),k==="@import"?ve(k+" "+g.slice(S,e)+";",0):A+=Dt(A,k,T+g.slice(S,e)),tt=!0,U=S=-1,Te=!1,k=T=""}function Bt(e){ne!==-1?Mr(e):G!==-1&&qr(e)}function Fr(e){k==="animation"?(A&&(v[z]=A),le=T+g.slice(S,e).trim(),Ye=T="",A=""):le?(ke=g.slice(U,e).trim(),A=""):(A&&(v[z]=A),K=(Ne===64?jr(k)+(T||"")+g.slice(S-1,e):g.slice(U,e)).trim(),K.indexOf(",")!==-1&&(K=Lr(K)),T=k="",R.push((qt(Ne)?"":" ")+(K==="@font-face"?Array(++Mt+1).join(" "):"")+K),z=$t(R),A=v[z]||""),U=S=-1,k=""}function Ur(){ke?(Ye+=ke+"{"+A+"}",ke=A=""):le?(A=v[z]||"",V=Xe+Math.abs(B).toString(31),ve("@keyframes "+V+"{"+Ye+"}"),A+=Dt(A,"animation",le+" "+V),le=""):(R.pop(),R.length&&R[0].indexOf("@keyframes")===0?v[R[0]]=(v[R[0]]||"")+K+"{"+A+"}":A&&(v[z]=A.trim()+R.map(e=>e.charCodeAt(0)===64?"}":"").join("")),z=$t(R),A=v[z]||""),U=S=-1,k=""}function It(e){Ut(d)?ne===-1&&(ne=e):Bt(e),d===40?re.push(g.slice(Math.max(J,S),e)):d===41?re.pop():d===9||d===32?J=e+1:d===36&&(G=e)}function qr(e){Or(d)||(T=T+g.slice(S,G)+"var(--"+g.slice(G+1,e)+")",S=e,G=-1)}function Mr(e){!Nr(d)&&g.charCodeAt(J)!==35&&(T=T+g.slice(S,e)+Ht(k,rt(re)),S=e),ne=-1}function Ht(e,t=""){e=nt(e);let r=e+","+t;return m.call(Je,r)?Je[r]:Je[r]=t&&Cr(t)?"px":kr(t)?"deg":t?"":Dr(e)}function we(e,{property:t,unit:r}){if(!e&&e!==0)return"";if(b(e)&&!w(e)&&(e=Ft?"":e()),typeof e=="number")return e+r;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";g=e,T="",S=0,ne=J=-1,re.length=0,k=t;for(let n=0;n<=e.length;n++)d=e.charCodeAt(n),It(n);return T+e.slice(S)}function $t(e){return e.length===0?"&&":e.reduce((t,r,n,s)=>{let i=r.charCodeAt(0);return i===64&&Ar(r)?r+"{"+(n===s.length-1?"&&":"")+t:t+(ue||n?"":i===32?"&":"&&")+r},"")}function Dr(e){if(e=nt(e),Ie(e)||m.call(Ce,e))return Ce[e];try{return te.style[e]="1px",te.style.setProperty(e,"1px"),Ce[e]=te.style[e].slice(-3)==="1px"?"px":""}catch{return Ce[e]=""}}function zr(e){if(Oe.indexOf(e)===-1){if(vt[e])return vt[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}var O=E.document,Kt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Re=new WeakSet,Zt=new Map,ct=Symbol("deferrable"),he=Symbol("observable"),it=Symbol("component"),ft=Symbol("event"),de=Symbol("array"),Pe=Symbol("live"),Gt=Symbol("size"),pe=Symbol("life"),Fe=Symbol("attr"),at=Symbol("keys"),Xt=Symbol("key"),be=Symbol("s"),ht=!0,Ue=[],qe=!1;function y(...e){let t=typeof e[0];return t==="string"?pt(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Yt(pt,Be(e[0])?_t(e):t==="function"?new P(qe,e):new P(qe,[e[1],e[0]]))}function pt(...e){return Be(e[0])?Yt(pt,_t(e,this)):Gr(e,this)}function _t(e,t){let r=t?t.level+1:0;return new P(t&&t.inline,t&&t.component,st(e,t&&t.tag,r),r)}function Yt(e,t){let r=e.bind(t);return r[be]=!0,r}y.sleep=(e,...t)=>new Promise(r=>setTimeout(r,e,...t));y.with=(e,t)=>e===void 0?e:t(e);y.isServer=!1;y.pathmode="";y.redraw=ge;y.mount=Qr;y.css=(...e)=>st(e,null,0,!0);y.css.alias=Rt;y.animate=$r;y.http=_;y.live=Y;y.signal=At;y.on=Hr;y.trust=Ir;y.route=ie(y,"",{location:E.location});y.window=E;y.error=y(e=>(console.error(e),()=>y`pre;all initial;d block;c white;bc #ff0033;p 8 12;br 6;overflow auto;fs 12`(y`code`("Unexpected Error: "+(e.message||e)))));var Br=y(({key:e,values:t})=>{let r=O.createElement("div");r.innerHTML=String.raw({raw:e},...t);let n=r.firstChild===r.lastChild?r.firstChild:[...r.childNodes];return()=>n});function Ir(e,...t){return Br({key:""+e,values:t})}function Hr(e,t,r,n){return typeof n=="function"&&([r,n]=[n,r]),(...s)=>{let i=l=>mt(r,l,...s);return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}}function $r(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),r=>r&&new Promise(n=>{let s=!1;e.addEventListener("transitionrun",()=>(s=!0,t(n)),{once:!0,passive:!0}),e.setAttribute("animate","exit"),requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(()=>s||n())))});function t(r){e.addEventListener("transitionend",r,{once:!0,passive:!0}),e.addEventListener("transitioncancel",r,{once:!0,passive:!0})}}function Kr(e,t){e.addEventListener("click",r=>{if(!r.defaultPrevented&&(r.button===0||r.which===0||r.which===1)&&(!r.currentTarget.target||r.currentTarget.target==="_self")&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey){r.preventDefault();let n=e[Fe].state;t(e.getAttribute("href"),{state:n})}})}function Gr(e,t){let r=Jr(e&&e[0]);return new P(t.inline,t.component,t.tag,t?t.level+1:0,r?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Jr(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof P)&&!(e instanceof E.Node)&&!b(e.then)}function Qr(e,t,r={},n={}){if(b(t)){if(!e)throw new Error("The dom element you tried to mount to does not exist.")}else if(n=r||{},r=t||{},t=e,e=O.body,!e)throw new Error("document.body does not exist.");if(!(t instanceof P)&&(t=y(t)),m.call(n,"location")||(n.location=E.location),m.call(n,"error")||(n.error=y.error),y.isServer)return{view:t,attrs:r,context:n};n.hydrating=Wr(e.firstChild);let s={head:n.hydrating?X:xt,lang:y.live(O.documentElement.lang,i=>O.documentElement.lang=i),title:y.live(O.title,i=>O.title=i),status:X,headers:X};n.doc=s,n.route=ie(y,"",n),Zt.set(e,{view:t,attrs:r,context:n}),er({view:t,attrs:r,context:n},e)}function xt(e){if(Array.isArray(e))return e.forEach(xt);let t=O.createElement(e.tag.name);for(let r in e.attrs)t.setAttribute(r,e.attrs[r]);e.children.length&&(t.innerHTML=e.children[0]),O.head.appendChild(t)}function Wr(e){return e&&e.nodeType===8&&e.nodeValue==="h"&&(e.remove(),!0)}function ge(){ht&&(requestAnimationFrame(Zr),ht=!1)}function Zr(){Zt.forEach(er),ht=!0}function er({view:e,attrs:t,context:r},n){qe=!0;try{ye(n,Ee(e(t)),r)}catch(s){t.error=s,ye(n,Ee(r.error(s,t,[],r)),r)}qe=!1,Ue.forEach(s=>s()),Ue=[]}function ye(e,t,r,n,s=e.lastChild){let i=t[0]&&t[0].key!==void 0&&new Array(t.length),l=Jt(n,e),a=l&&m.call(l,at),u=s?s.nextSibling:null;i&&(i.rev={})&&a?_r(e,r,l[at],t,i,u,l):Xr(e,r,t,i,l,u);let f=Jt(n,e);return i&&(f[at]=i),I(f,u&&u.previousSibling||e.lastChild)}function Jt(e,t){let r=e?e.nextSibling:t.firstChild;for(;Re.has(r);)r=r.nextSibling;return r}function fe(e,t,r,n){e[n]={dom:t,key:r},e.rev[r]=n}function Xr(e,t,r,n,s,i=null){let l=0,a,u;for(;l<r.length;)(s===null||!Re.has(s))&&(u=r[l],a=s!==i?q(s,u,t,e):q(null,u,t),s===i&&e.insertBefore(a.dom,i),n&&fe(n,a.first,u.key,l),s=a.last,l++),s!==null&&(s=s.nextSibling,s!==null&&s.nodeType===8&&s.nodeValue===","&&(s=Q(s,e)));for(;s&&s!==i;)s=Q(s,e)}function _r(e,t,r,n,s,i,l){let a=r.rev,u=r.length-1,f=n.length-1,o=r[u],c=n[f],p=-1;e:for(;;){for(;o.key===c.key;){if(i=q(o.dom,c,t,e).first,fe(s,i,c.key,f),delete a[c.key],f===0)break e;if(u===0){c=n[--f];break}o=r[--u],c=n[--f]}if(m.call(a,c.key)){if(p=a[c.key],p>f)p=q(r[p].dom,c,t,e),lt(e,p,i),i=p.first,fe(s,i,c.key,f);else if(p!==f)p=q(r[p].dom,c,t,e),lt(e,p,i),i=p.first,fe(s,i,c.key,f);else{o=r[--u];continue}if(delete a[c.key],f===0)break;c=n[--f]}else{if(p=q(null,c,t),lt(e,p,i),i=p.first,fe(s,i,c.key,f),f===0)break;c=n[--f]}}for(let C in a)Q(r[a[C]].dom,e)}function lt(e,{first:t,last:r},n){let s=t,i;do i=s,s=i.nextSibling;while(e.insertBefore(i,n)!==r)}function q(e,t,r,n,s,i){return w(t)?xr(e,t,r,n,s,i):b(t)?q(e,t(),r,n,s,i):t instanceof P?Qt(e,t,r,n,s,i):t instanceof Promise?Qt(e,y(()=>t)(),r,n,s,i):Array.isArray(t)?rr(e,t,r,n,i):t instanceof Node?Yr(e,t,r):nr(e,t,n,i)}function Yr(e,t,r){return e&&r.hydrating?I(e):I(t)}function Qt(e,t,r,n,s,i){return t.component?je(e,t,r,n,s,i):tn(e,t,r,n,i)}function xr(e,t,r,n){if(e&&m.call(e,Pe)&&e[Pe]===t)return e[Pe];let s;return i(t()),t.observe(i),s;function i(l){s=q(e,l,r,n||e&&e.parentNode),s.first[Pe]=s,e=s.first}}function I(e,t=e,r=t){return{dom:e,first:t,last:r}}function en(e){if(!e||e.nodeType!==8||e.nodeValue.charCodeAt(0)!==91)return;let t=parseInt(e.nodeValue.slice(1)),r=e,n;for(;t&&r.nextSibling;)r=r.nextSibling,r.nodeType===8?(n=r.nodeValue.charCodeAt(0),t+=n===91?parseInt(r.nodeValue.slice(1))-1:n===97?1:0):t--;return e[de]=r,r}function tr(e){return e&&m.call(e,de)?e[de]:en(e)}function rr(e,t,r,n,s){s&&e&&n&&(e=rr(e,[],r,n).first);let i=tr(e)||e,l=nr(e,"["+t.length,n,!1,8);if(n){let a=i?i.nextSibling:null;ye(n,t,r,l.first,i);let u=a?a.previousSibling:n.lastChild;return i!==u&&(l.first[de]=u),I(l.dom,l.first,u)}return n=new DocumentFragment,n.appendChild(l.dom),ye(n,t,r,l.first,i),l.first[de]=n.lastChild,I(n,l.first,n.lastChild)}function nr(e,t,r,n,s=typeof t=="boolean"||t==null?8:3){let i=n||!e||e.nodeType!==s;return i&&or(e,e=s===8?O.createComment(t):O.createTextNode(t),r),!i&&e.nodeValue!==""+t&&(e.nodeValue=t),I(e)}function tn(e,t,r,n,s=e===null||nn(e,t,r)){let i=r.NS;t.attrs.xmlns||Kt[t.tag.name]&&(r.NS=t.attrs.xmlns||Kt[t.tag.name]),s&&or(e,e=sn(t,r),n);let l=t.children&&t.children.length;return on(e,t,r,s),l?ye(e,t.children,r):e[Gt]&&rn(e.firstChild,e),e[Gt]=l,r.NS=i,m.call(t,"key")&&(e[Xt]=t.key),I(e)}function rn(e,t){for(;e;)e=Q(e,t)}function nn(e,t,r){return e[Xt]!==t.key&&!r.hydrating||e.nodeName.toUpperCase()!==(t.tag.name||"div").toUpperCase()}function sn(e,t){let r=e.attrs.is;return t.NS?r?O.createElementNS(t.NS,e.tag.name,{is:r}):O.createElementNS(t.NS,e.tag.name):r?O.createElement(e.tag.name||"DIV",{is:r}):O.createElement(e.tag.name||"DIV")}var dt=class{constructor(t,r,n,s,i){this.init=t,this.key=void 0,this.view=r,this.error=n,this.caught=void 0,this.loading=s,this.hydrating=i,this.onremoves=void 0}},gt=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t,r){if(this.i>=this.xs.length)return!0;let n=this.xs[this.i];return n.key!==t.key&&!r.hydrating||n.init&&n.init!==t.component[0]}add(t,r,n){let[s,i]=t.component,l=new dt(t.inline?!1:s,s,i&&i.error||r.error,i&&i.loading||r.loading,r.hydrating),a=c=>{c instanceof Event&&(c.redraw=!1),je(this.dom.first,t,r,this.dom.first.parentNode,this,!1)},u=c=>{l.onremoves&&(l.onremoves.forEach(p=>p()),l.onremoves=void 0),c instanceof Event&&(c.redraw=!1),je(this.dom.first,t,r,this.dom.first.parentNode,this,!0)},f=c=>{l.onremoves&&(l.onremoves.forEach(p=>p()),l.onremoves=void 0),c instanceof Event&&(c.redraw=!1),je(this.dom.first,t,r,this.dom.first.parentNode,this,!0,!0)};l.context=Object.create(r,{hydrating:{value:r.hydrating,writable:!0},onremove:{value:c=>{Le(this,l,c)}},ignore:{value:c=>{l.ignore=c}},refresh:{value:f},redraw:{value:a},reload:{value:u}});let o=sr(!0,l,t);return w(t.attrs.reload)&&Le(this,l,t.attrs.reload.observe(u)),w(t.attrs.redraw)&&Le(this,l,t.attrs.redraw.observe(a)),w(t.attrs.refresh)&&Le(this,l,t.attrs.refresh.observe(f)),l.promise=o&&b(o.then)&&o,l.stateful=l.promise||b(o)&&!o[be],l.view=n?this.xs[this.i].view:l.promise?l.loading:o,this.xs.length=this.top=this.i,this.xs[this.i++]=l}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}};function Le(e,t,r){t.onremoves?t.onremoves.add(r):(t.onremoves=new Set([r]),e.life.push(()=>()=>t.onremoves.forEach(n=>n())))}function an(e){let t="/"+e.nodeValue,r=e.nextSibling;for(;r&&(r.nodeType!==8||r.nodeValue!==t);)r=r.nextSibling;let n=I(e.nextSibling,e.nextSibling,r.previousSibling);return e.remove(),r.remove(),n}function je(e,t,r,n,s=e&&e[it]||new gt,i=s.changed(t,r),l=!1){let a=i?s.add(t,r,l):s.next();if(!i&&a.ignore)return s.pop(),s.dom;if(t.key&&(i||r.hydrating)&&(a.key=t.key),a.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97)a.next=an(e);else{let o=sr(i,a,t);o&&m.call(o,be)&&(o=o(t.attrs,t.children,a.context)),a.next=q(e,!a.caught&&!a.promise&&o instanceof P?ln(o,t):o,a.context,n,s,(i||a.recreate)&&!a.hydrating?!0:void 0),a.hydrating&&(a.hydrating=a.context.hydrating=!1),a.recreate&&(a.recreate=!1)}i&&a.promise&&a.promise.then(o=>a.view=o&&m.call(o,"default")?o.default:o).catch(o=>{a.caught=o,a.view=ir(a,t,o)}).then(()=>m.call(a.next.first,it)&&(r.hydrating=!1,a.recreate=!0,a.promise=!1,ge()));let f=e!==a.next.first;return s.pop()&&(f||i)&&(s.dom=a.next,a.next.first[it]=s,!a.promise&&ar(a.next.first,t.attrs,t.children,a.context,s.life)),a.next}function sr(e,t,r){try{return t.stateful||e?b(t.view)&&!t.view[be]?t.view(r.attrs,r.children,t.context):t.view:r.component[0](r.attrs,r.children,t.context)}catch(n){return ir(t,r,n)}}function ir(e,t,r){return m.call(e.error,be)?e.error().component[0](r,t.attrs,t.children,e.context):e.error(r,t.attrs,t.children,e.context)}function ln(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function on(e,t,r){let n=t.tag,s,i=e[Fe],l=!i;m.call(t.attrs,"id")===!1&&t.tag.id&&(t.attrs.id=t.tag.id),(l&&t.tag.classes||t.attrs.class!==(i&&i.class)||t.attrs.className!==(i&&i.className)||e.className!==t.tag.classes)&&ot(e,t),l&&yt(e,t.attrs.class,()=>ot(e,t)),l&&yt(e,t.attrs.className,()=>ot(e,t)),t.attrs.type!=null&&Me(e,"type",t.attrs.type);for(let u in t.attrs)if(He(u))u==="deferrable"&&(e[ct]=t.attrs[u]);else if(u==="value"&&n.name==="input"&&e.value!==""+t.attrs.value){s=t.attrs[u];let f,o;e===O.activeElement&&(f=e.selectionStart,o=e.selectionEnd),ut(e,t.attrs,u,e.value,s,l),e===O.activeElement&&(e.selectionStart!==f||e.selectionEnd!==o)&&e.setSelectionRange(f,o)}else(!i||i[u]!==t.attrs[u])&&(s=t.attrs[u],ut(e,t.attrs,u,i&&i[u],s,l));if(m.call(t.attrs,"href")){s=t.attrs.href;let u=!String(s).match(/^[a-z]+:|\/\//);u&&(s=Z(t.attrs.href)),ut(e,t.attrs,"href",i&&i.href,s,l),s&&u&&(t.attrs.href=y.pathmode+s,Kr(e,r.route))}if(i)for(let u in i)m.call(t.attrs,u)===!1&&(ze(u)?lr(e,u):He(u)?u==="deferrable"&&(e[ct]=!1):e.removeAttribute(u));let a=un(e,t.attrs.style,i&&i.style);if(t.tag)for(Wt(e,t.tag.vars,t.tag.args,l,a);n=n.parent;)Wt(e,n.vars,n.args,l,a);l&&t.attrs.dom&&ar(e,t.attrs,t.children,r,t.attrs.dom),m.call(t,$)&&(e[$]=t[$]),e[Fe]=t.attrs}function un(e,t,r){if(r!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(r==null||typeof r!="object"){e.style.cssText="";for(let n in t){let s=t[n];s!=null&&e.style.setProperty(Ae(n),s+"")}return!0}for(let n in t){let s=t[n];s!=null&&(s=s+"")!=r[n]+""&&e.style.setProperty(Ae(n),s)}for(let n in r)r[n]!=null&&t[n]==null&&e.style.removeProperty(Ae(n));return!0}}function yt(e,t,r){if(!w(t))return;let n=m.call(e,he),s=n?e[he]:new Set;n||(e[he]=s),s.add(t.observe(r))}function ot(e,t){let r=Et(t);r?e instanceof SVGElement?e.setAttribute("class",r):e.className=r:e.removeAttribute("class")}function Wt(e,t,r,n,s){for(let i in t){let l=t[i],a=r[l.index];bt(e,i,a,l,n,s)}}function bt(e,t,r,n,s,i,l){if(w(r)){s&&r.observe(a=>e.style.setProperty(t,we(a,n))),(s||i)&&bt(e,t,r(),n,s,s);return}if(b(r))return Promise.resolve().then(()=>bt(e,t,r(e),n,s,i,l));e.style.setProperty(t,we(r,n)),l&&Ue.push(()=>e.style.setProperty(t,we(r,n)))}function ar(e,t,r,n,s){Ue.push(()=>{Ee(s).forEach(async i=>{let l=b(i)&&i(e,t,r,n);l&&b(l.then)&&(l=await l,ge()),b(l)&&(m.call(e,pe)?e[pe].push(l):e[pe]=[l])},[])})}function ut(e,t,r,n,s,i){if(n===s)return;let l=ze(r);l&&typeof n==typeof s||(l?s?cn(e,t,r):lr(e,r):(Me(e,r,s),i&&yt(e,s,a=>Me(e,r,a))))}function Me(e,t,r){if(b(r))return Me(e,t,r());!(e instanceof SVGElement)&&t in e?e[t]=r===void 0?null:r:St(r)?e.removeAttribute(t):e.setAttribute(t,r===!0?"":r)}function lr(e,t){e.removeEventListener(t.slice(2),e[ft])}function cn(e,t,r){e.addEventListener(r.slice(2),e[ft]||(e[ft]=fn(e)))}function fn(e){return{handleEvent:t=>mt(e[Fe]["on"+t.type],t,e)}}function mt(e,t,...r){if(Array.isArray(e))return e.forEach(s=>mt(s,t,...r));let n=b(e)?e.call(t.currentTarget,t,...r):b(e.handleEvent)&&e.handleEvent(t,...r);t.redraw!==!1&&(!w(n)&&!w(e)&&ge(),n&&b(n.then)&&n.then(ge))}function or(e,t,r){if(r)return e&&(r.insertBefore(t,e),Q(e,r)),t}function hn(e,t,r,n,s){let i=tr(e);if(!i||e===i)return e.nextSibling;let l=i.nextSibling;if(e=e.nextSibling,!e)return l;do e=Q(e,t,r,n,s);while(e&&e!==l);return l}function Ve(e,t){m.call(t,he)&&t[he].forEach(r=>r()),e.removeChild(t)}function Q(e,t,r=!0,n=[],s=!1){let i=e.nextSibling;if(Re.has(e))return i;if(e.nodeType===8)if(e.nodeValue.charCodeAt(0)===97){if(i=e.nextSibling,Ve(t,e),!i)return i;e=i,i=e.nextSibling}else e.nodeValue.charCodeAt(0)===91&&(i=hn(e,t,r,n,s));if(e.nodeType!==1)return r&&Ve(t,e),i;if(m.call(e,pe))for(let a of e[pe])try{let u=a(s||r);(s||r)&&u&&b(u.then)&&n.push(u)}catch(u){console.error(u)}!s&&(s=e[ct]||!1);let l=e.firstChild;for(;l;)Q(l,e,!1,n,s),l=l.nextSibling;return r&&(n.length===0?Ve(t,e):(Re.add(e),Promise.allSettled(n).then(()=>Ve(t,e)))),i}export{y as default};
