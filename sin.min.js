var O=class{constructor(t,n,r=null,i=0,s=null,l=null){this.level=i,this.component=n,this.inline=t,this.tag=r,this.attrs=s,this.key=s?s.key:void 0,this.dom=null,this.children=l}};var J=typeof window>"u"||typeof window.document>"u";function dt(e){return!e&&e!==0&&e!==""}function pe(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function U(e){return e&&y(e.observe)}function y(e){return typeof e=="function"}function qe(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function Me(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function Ue(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function yt(e){return(he(e.attrs.class)+he(e.attrs.className)+e.tag.classes).trim()}function De(e){return Array.isArray(e)?e:[e]}function bt(){}function ge(e){return Me(e)||(e==="cssFloat"?"float":pe(e))}function he(e){return U(e)?he(e.value):y(e)?he(e()):e?typeof e=="object"?nn(e):e+" ":""}function nn(e){let t="";for(let n in e)t+=(t?" ":"")+(e[n]||"");return t}typeof globalThis>"u"&&(window.globalThis=window);var S=J?{}:window;["head","get","put","post","delete","patch"].forEach(e=>R[e]=function(t,n={}){return n.method=e,R(t,n)});R.redraw=()=>{};var de="application/json",ye=e=>e,rn=e=>JSON.stringify(e),sn=e=>JSON.parse(e),an="Blob ArrayBuffer TypedArray DataView FormData URLSearchParams".split(" ").map(e=>globalThis[e]).filter(e=>e);function R(e,{method:t="GET",redraw:n=!0,responseType:r,query:i,body:s,user:l,pass:a,headers:o={},config:u,timeout:c=0,parse:g=ye,serialize:A=ye}={}){let f=new S.XMLHttpRequest;return new Promise((H,$)=>{t=t.toUpperCase(),f.addEventListener("readystatechange",async function(){if(f.readyState===f.DONE){try{f.body=await g(f.response,f),f.status===304||f.status>=200&&f.status<300?H(f):$(Ie(f))}catch(k){$(k)}n&&R.redraw&&R.redraw()}}),f.addEventListener("error",()=>Ie(f)),f.addEventListener("abort",()=>Ie(f)),f.open(t,ln(e,i),!0,l,a),f.timeout=c,r&&(f.responseType=r);let L=!1,P=!1;Object.entries(o).forEach(([k,x])=>{f.setRequestHeader(k,x),k.toLowerCase()==="accept"&&(L=x),k.toLowerCase()==="content-type"&&(P=x)}),!L&&!r&&f.setRequestHeader("Accept",L=de),L&&L.indexOf(de)===0&&g===ye&&(g=sn),!P&&s!==void 0&&!an.some(k=>s instanceof k)&&f.setRequestHeader("Content-Type",P=de),P&&s!==void 0&&P.indexOf(de)===0&&A===ye&&(A=rn),u&&u(f),s===null?f.send():f.send(A(s,f))}).catch(H=>(f.error=H,f))}function Ie(e){return new Error(e.status+(e.statusText?" "+e.statusText:""))}function ln(e,t){let n=new URL(e,"http://x"),r=new URLSearchParams(t||"").toString();return e.split(/\?|#/)[0]+n.search+(r?(n.search?"&":"?")+r:"")+(n.hash||"")}var be=class{constructor(t,n){this.live=t,this.transform=n}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(n=>t(this.transform(n)))}};function K(e,t){let n=new Set;return y(t)&&n.add(t),r.observe=l=>(n.add(l),()=>n.delete(l)),r.valueOf=r.toString=r.toJSON=()=>e||"",r.detach=()=>{},r.reduce=s,r.set=l=>(...a)=>(r(y(l)?l(...a):l),r),r.get=l=>new be(r,a=>y(l)?l(a):a[l]),r.if=(l,a=!0,o=!1)=>new be(r,u=>u===l?a:o),Object.defineProperty(r,"value",{get:()=>e,set:i});function r(l){return arguments.length&&i(l),e}function i(l){l!==e&&(e=l,n.forEach(a=>a(l)))}function s(l,a){let o=1,u=K(arguments.length>1?l(a,e,o++):e);return r.observe(c=>u.value=l(u.value,c,o++)),u}}K.from=function(...e){let t=e.pop(),n=K(t(...e.map(ze))),r=e.map(i=>i.observe(()=>n(t(...e.map(ze)))));return n.detach=()=>r.forEach(ze),n};function ze(e){return e()}var Be=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),St=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","right","top","text-align","text-decoration","text-transform","white-space","width","z-index"];var re=S.document,v=re.querySelector("style.sin")||re.createElement("style"),on=/^(ms|moz|webkit)[-A-Z]/i,Ze=v&&v.getAttribute("id")||"sin-",W=re.createElement("div"),kt={},mt={},He={};var Ot=e=>Object.entries(e).forEach(([t,n])=>kt["@"+t]=n),Se={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},Ae=Array.from(Object.keys(W.style.hasOwnProperty("width")?W.style:Object.getPrototypeOf(W.style)).reduce((e,t)=>(e.add(t.match(on)?"-"+pe(t):pe(t)),e),new Set(["float"]))),un=Object.assign(Ae.reduce(Be,{}),St.reduce(Be,{})),$e=Ae.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");Ae.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),Je=new Map,cn=typeof S<"u"&&S.CSS&&CSS.supports("color","var(--support-test)"),fn=["perspective","blur","drop-shadow","inset","polygon"],hn=e=>e.indexOf("translate")===0||fn.indexOf(e)>-1,pn=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,Ge=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,wt=e=>e>=48&&e<=57||e===46,gn=e=>e>=65&&e<=90||e>=97&&e<=122,Nt=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,dn=e=>e===34||e===39,At=e=>e===32||e===58||e===9,yn=e=>e===59||e===10||e===125,Lt=e=>e===58||e===64||e===38||e===91,bn=e=>e===59||e===125,xe=e=>e[e.length-1],I=[],X=[],j=-1,b=-1,V=-1,ee=-1,Ce=-1,Q=-1,h=-1,Ee=-1,D=-1,Pt=-1,q=-1,T="",Ke="",m="",F="&",Z="",te="",me="",C="",We="",Xe="",ne="",G="",p="",E="",Ct="",w=null,Et=!0,ke=!1,_e=!1,Qe=!0,Ye=!1,M=0;function et(e){return un[e]||e}function Vt(e,t){return(ke?e:Sn(e))+":"+t+";"}function Sn(e){return mt[e]||(mt[e]=Nn(et(e)))}function mn(e){return e.replace(/,\s*[:[]?/g,t=>Lt(t.charCodeAt(t.length-1))?",&"+xe(t):",& ")}function Oe(e,t){if(Et&&(v&&re.head&&re.head.appendChild(v),Et=!1),v&&v.sheet)try{v.sheet.insertRule(e,t??v.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function tt([e,...t],n,r=0,i){if(Je.has(e))return{...Je.get(e),args:t};let s={};Xe=ne=G=C=E=m="",I.length=X.length=M=0,Ee=b=Pt=Ce=q=-1,w=i?{}:null,Ye=!1,_e=!1,Qe=!0,p=e[0];for(let a=0;a<e.length;a++)if(w?Tt(0,a===e.length-1):An(e,a,t,n),p=e[a+1],a<t.length)if(cn&&b>=0){let o=e[a].slice(b);T=Ze+Math.abs(M).toString(31),s[Ct="--"+T+a]={property:m,unit:Ft(m,xe(X)),index:a},E+=o+"var("+Ct+")",b=0}else t[a]&&(p=t[a]+p),Qe=!1;if(Ye)if(i)Object.entries(w).forEach(([a,o])=>Oe(a.replace(/&\s+/g,"")+"{"+o+"}"));else{T=Ze+Math.abs(M).toString(31),G+=(G?" ":"")+T,Ke="";for(let a=0;a<r;a++)Ke+="."+T;Object.entries(w).forEach(([a,o])=>{Oe(a.replace(/&/g,"."+T+Ke)+"{"+o+"}")})}let l={name:Xe,classes:G,id:ne,args:t,vars:s,parent:n};return Qe&&Je.set(e,l),l}function An(e,t,n,r){for(let i=0;i<=p.length;i++)if(h=p.charCodeAt(i),i<p.length&&(M=Math.imul(31,M)+h|0),_e){if(Ge(h)){w={},Tt(i++,t===e.length-1);break}}else!Ge(h)||i===p.length?(G=(V!==-1?p.slice(V+1,i).replace(/\./g," "):"")+G+(r?" "+r.classes:""),ne===""&&(ne=(ee!==-1?p.slice(ee,V===-1?i:V):"")||(r?r.id:null)),Xe=p.slice(0,ne?ee-1:V!==-1?V:i)||r&&r.name,ee=V=-1,_e=!0):h===35?ee=i+1:V===-1&&h===46&&(V=i)}function Cn(e){return kt[e]||e}function Tt(e,t){for(let n=e;n<=p.length;n++)h=p.charCodeAt(n),n<p.length&&(M=Math.imul(31,M)+h|0),Q===-1&&b>=0&&(ke?bn(h):yn(h)||t&&n===p.length)&&En(n),Q!==-1?Q===h&&p.charCodeAt(n-1)!==92&&(Q=-1):Q===-1&&dn(h)?(Q=h,b===-1&&(b=n)):h===123?kn(n):h===125||t&&n===p.length?On():n!==p.length&&j===-1&&Ge(h)?(j=n,Ce=h):!m&&j>=0&&At(h)?(m=p.slice(j,n),ke=h===58):b===-1&&m&&!At(h)?(b=n,wt(h)?D=n:h===36&&(q=n)):b!==-1&&jt(n)}function En(e){D>-1&&!Nt(h)?vt(e):q>-1&&Rt(e),m==="@import"?Oe(m+" "+p.slice(b,e),0):C+=Vt(m,E+p.slice(b,e)),Ye=!0,j=b=-1,ke=!1,m=E=""}function kn(e){m==="animation"?(C&&(w[F||"&"]=C),te=E+p.slice(b,e).trim(),We=E="",C=""):te?(me=p.slice(j,e).trim(),C=""):(C&&(w[F||"&"]=C),Z=Ce===64?Cn(m+(E||" ")+p.slice(b,e).trim()):p.slice(j,e).trim(),Z.indexOf(",")!==-1&&(Z=mn(Z)),E=m="",I.push((Lt(Ce)?"":" ")+(Z==="@font-face"?Array(++Pt+1).join(" "):"")+Z),F=I.toString(),C=w[F||"&"]||""),j=b=-1,m=""}function On(){me?(We+=me+"{"+C+"}",me=C=""):te?(T=Ze+Math.abs(M).toString(31),Oe("@keyframes "+T+"{"+We+"}"),C=(w[F||"&"]||"")+Vt("animation",te+" "+T),te=""):(C&&(w[F||"&"]=C),I.pop(),F=I.toString(),C=w[F||"&"]||""),j=b=-1,m=""}function jt(e){wt(h)?D===-1&&(D=e):D>-1?vt(e):q>-1&&Rt(e),h===40?X.push(p.slice(Math.max(Ee,b),e)):h===41?X.pop():h===9||h===32?Ee=e+1:h===36&&(q=e)}function Rt(e){gn(h)||(E=E+p.slice(b,q)+"var(--"+p.slice(q+1,e)+")",b=e,q=-1)}function vt(e){Nt(h)||(E=E+p.slice(b,e)+Ft(m,xe(X)),b=e),D=-1}function Ft(e,t=""){e=et(e);let n=e+","+t;return n in He?He[n]:He[n]=t&&hn(t)?"px":pn(t)?"deg":t?"":wn(e)}function we(e,{property:t,unit:n}){if(!e&&e!==0)return"";if(y(e)&&(e=E()),typeof e=="number")return e+n;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";p=e,E="",b=0,D=Ee=-1,X.length=0,m=t;for(let r=0;r<=e.length;r++)h=e.charCodeAt(r),jt(r);return E+e.slice(b)}I.toString=function(){let e="",t="";return I.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"||t===":root"?"":"&")+t};function wn(e){if(e=et(e),Me(e)||e in Se)return Se[e];try{return W.style[e]="1px",W.style.setProperty(e,"1px"),Se[e]=W.style[e].slice(-3)==="1px"?"px":""}catch{return Se[e]=""}}function Nn(e){if(Ae.indexOf(e)===-1){if($e[e])return console.log(e,"prefixed to",$e[e]),$e[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}function nt(e,t){let n=URLSearchParams,r=t.search,i=new n(r),s={replace:o=>(i=new n(o),a())};for(let o in n.prototype)s[o]=(...u)=>(o=l()[o](...u),a(),o);return s;function l(){return r===t.search?i:(r=t.search,i=new n(r))}function a(){S.history.pushState(S.history.state,null,t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var qt=!1,Mt={};function ie(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function Ut(e){return e.split(/(?=\/)/)}function Ln(e,t){return e.reduce((n,r,i)=>n+(r==="404"?1:r===t[i]?6:r&&t[i]&&r.toLowerCase()===t[i].toLowerCase()?5:r[1]===":"&&t[i]&&t[i].length>1?4:r==="/"&&!t[i]?3:r==="*"||r==="/*"?2:-1/0),0)}function Pn(e,t){return e.reduce((n,r,i)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[i].slice(1))),n),{})}function Dt(e,t,n){return y(e)?e(t,[],n):e}function Ne(e,t,n){let r=n.location,i=e(({route:u,...c},[g],A)=>(A.route=u,()=>typeof g=="string"?import((g[0]==="/"?"":u)+g).then(f=>Dt(f.default,c,A)):Dt(g,c,A)));return o.query=nt(e,n.location),o.toString=o,o.has=u=>u==="/"?s(r)===t||s(r)==="/"&&t==="":s(r).indexOf(ie(t+"/"+u))===0,Object.defineProperty(o,"path",{get(){let u=s(r),c=u.indexOf("/",t.length+1);return c===-1?u:u.slice(0,c)}}),o;function s(u,c=0){return(e.pathmode[0]==="#"?u.hash.slice(e.pathmode.length+c):e.pathmode[0]==="?"?u.search.slice(e.pathmode.length+c):u.pathname.slice(e.pathmode+c)).replace(/(.)\/$/,"$1")}function l(u,{state:c,replace:g=!1,scroll:A=a(u)}={}){u!==s(r)&&(e.pathmode[0]==="#"?S.location.hash=e.pathmode+u:e.pathmode[0]==="?"?S.location.search=e.pathmode+u:S.history[g?"replaceState":"pushState"](c,null,e.pathmode+u),Mt[u]=c,e.redraw(),A&&scrollTo(0,0))}function a(u){return u.split("/")[1]!==o.path.split("/")[1]}function o(u,c={}){if(typeof u>"u")return t+"/";if(typeof u=="string")return l(ie(u[0]==="/"?u:"/"+u),c);qt||(qt=!0,e.pathmode[0]==="#"?S.addEventListener("hashchange",e.redraw,{passive:!0}):y(S.history.pushState)&&S.addEventListener("popstate",e.redraw,{passive:!0}));let g=s(r,t.length),A=Ut(g),[,f,H]=Object.entries(u).reduce((P,[k,x])=>{k=Ut(ie(k));let gt=Ln(k,A);return gt>P[0]?[gt,k,x]:P},[0]),$=t+(f&&f[0]!=="*"?f.map((P,k)=>A[k]).join(""):"");(H===void 0||f==="404")&&n.status(404);let L=Ne(e,$.replace(/\/$/,""),n);return L.parent=o,L.root=o.parent?o.parent.root:o,i({key:$||"/",route:L,...t+g===$&&Mt[t+g]||{},...Pn(f||[],A)},H)}}var $t={constructor:Y},N=S.document,Vn={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function d(...e){let t=typeof e[0];return t==="string"?Y(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Object.assign(Y.bind(t==="function"?new O(ve,e):y(e[1])?new O(ve,e.reverse()):Qt(e)),$t)}function Y(...e){return e[0]&&Array.isArray(e[0].raw)?Object.assign(Y.bind(Qt(e,this)),$t):Fn(e,this)}var Te=new WeakSet,Jt=new Map,lt=Symbol("deferrable"),ae=Symbol("observable"),Ve=Symbol("component"),ot=Symbol("event"),le=Symbol("array"),Le=Symbol("live"),It=Symbol("size"),oe=Symbol("life"),je=Symbol("attr"),rt=Symbol("keys"),Kt=Symbol("key"),ut=!0,Re=[],ve=!1;d.isServer=J;d.pathmode="";d.redraw=ue;d.mount=Mn;d.css=(...e)=>tt(e,null,0,!0);d.animate=Rn;d.http=R;d.http.redraw=!d.isServer&&ue;d.medias=Ot;d.live=K;d.on=jn;d.trust=Tn;d.route=Ne(d,"",{location:S.location});d.window=S;d.catcher=d(({error:e})=>(J?console.error(e):Promise.resolve().then(()=>{throw e}),()=>d`pre;all initial;d block;ws pre-wrap;m 0;c white;bc #ff0033;p 8 12;br 6;overflow auto`(d`code`(e&&e.stack||e||new Error("Unknown Error").stack))));function Tn(e){return d(()=>{let t=N.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n})}function jn(e,t,n,r){return()=>{let i=s=>en(n,s);return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}}function Rn(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),n=>n&&new Promise(r=>{let i=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(i=!0,t(r)),{once:!0,passive:!0}),nr(()=>i?t(r):r())});function t(n){e.addEventListener("transitionend",n,{once:!0,passive:!0}),e.addEventListener("transitioncancel",n,{once:!0,passive:!0})}}function vn(e,t){e.addEventListener("click",n=>{if(!n.defaultPrevented&&(n.button===0||n.which===0||n.which===1)&&(!n.currentTarget.target||n.currentTarget.target==="_self")&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey){n.preventDefault();let r=e[je].state;t(e.getAttribute("href"),{state:r})}})}function Qt(e,t){let n=t?t.level+1:0;return new O(t&&t.inline,t&&t.component,tt(e,t&&t.tag,n),n)}function Fn(e,t){let n=qn(e&&e[0]);return new O(t.inline,t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function qn(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof O)}function Mn(e,t,n={},r={}){if(y(t)||(r=n||{},n=t||{},t=e,e=N.body),!(t instanceof O)&&(t=d(t)),"location"in r||(r.location=S.location),"catcher"in r||(r.catcher=d.catcher),J)return{view:t,attrs:n,context:r};r.title=d.live(N.title,i=>N.title=i),r.status=r.head=r.headers=bt,r.route=Ne(d,"",r),Jt.set(e,{view:t,attrs:n,context:r}),Zt({view:t,attrs:n,context:r},e)}function ue(){ut&&(requestAnimationFrame(Un),ut=!1)}function Un(){Jt.forEach(Zt),ut=!0}function Zt({view:e,attrs:t,context:n},r){ve=!0;try{let i=e(t,[],n);ce(r,De(i),n)}catch(i){t.error=i,ce(r,De(n.catcher(t)),n)}ve=!1,Re.forEach(i=>i()),Re=[]}function ce(e,t,n,r,i=e.lastChild){let s=t[0]&&t[0].key!==void 0&&new Array(t.length),l=zt(r,e),a=l&&rt in l,o=i?i.nextSibling:null;s&&(s.rev={})&&a?In(e,n,l[rt],t,s,o):Dn(e,n,t,s,l,o);let u=zt(r,e);return s&&(u[rt]=s),z(u,o&&o.previousSibling||e.lastChild)}function zt(e,t){let n=e?e.nextSibling:t.firstChild;for(;Te.has(n);)n=n.nextSibling;return n}function se(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function Dn(e,t,n,r,i,s=null){let l=0,a,o;for(;l<n.length;)(i===null||!Te.has(i))&&(o=n[l],a=i!==s?fe(i,o,t,e):fe(null,o,t),i===s&&e.insertBefore(a.dom,s),r&&se(r,a.first,o.key,l),i=a.last,l++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=B(i,e)));for(;i&&i!==s;)i=B(i,e)}function In(e,t,n,r,i,s){let l=n.rev,a=n.length-1,o=r.length-1,u=n[a],c=r[o],g=-1;e:for(;;){for(;u.key===c.key;){if(s=_(u.dom,c,t,e).first,se(i,s,c.key,o),delete l[c.key],o===0)break e;if(a===0){c=r[--o];break}u=n[--a],c=r[--o]}if(c.key in l){if(g=l[c.key],g>o)g=_(n[g].dom,c,t,e),it(e,g,s),s=g.first,se(i,s,c.key,o);else if(g!==o)g=_(n[g].dom,c,t,e),it(e,g,s),s=g.first,se(i,s,c.key,o);else{u=n[--a];continue}if(delete l[c.key],o===0)break;c=r[--o]}else{if(g=_(null,c,t),it(e,g,s),s=g.first,se(i,s,c.key,o),o===0)break;c=r[--o]}}for(let A in l)B(n[l[A]].dom,e)}function it(e,{first:t,last:n},r){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,r)!==n)}function fe(e,t,n,r,i,s){return U(t)?zn(e,t,n,r,i,s):y(t)?fe(e,t(),n,r,i,s):t instanceof O?_(e,t,n,r,i,s):t instanceof Promise?_(e,d(()=>t)(),n,r,i,s):Array.isArray(t)?Wt(e,t,n,r,s):t instanceof Node?z(t):Xt(e,t,r,s)}function _(e,t,n,r,i,s){return t.component?ht(e,t,n,r,i,s):$n(e,t,n,r,s)}function zn(e,t,n,r){if(e&&Le in e&&e[Le]===t)return e[Le];let i;return s(t.value),t.observe(s),i;function s(l){i=fe(e,l,n,r||e&&e.parentNode),i.first[Le]=i,e=i.first}}function z(e,t=e,n=t){return{dom:e,first:t,last:n}}function Bn(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function Hn(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&Bn(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[le]=t),t}function Gt(e){return e&&le in e?e[le]:Hn(e)}function Wt(e,t,n,r,i){i&&e&&r&&(e=Wt(e,[],n,r).first);let s=Gt(e)||e,l=Xt(e,"["+t.length,r,!1,8);if(r){let a=s?s.nextSibling:null;ce(r,t,n,l.first,s);let o=a?a.previousSibling:r.lastChild;return s!==o&&(l.first[le]=o),z(l.dom,l.first,o)}return r=new DocumentFragment,r.appendChild(l.dom),ce(r,t,n,l.first,s),l.first[le]=r.lastChild,z(r,l.first,r.lastChild)}function Xt(e,t,n,r,i=typeof t=="boolean"||t==null?8:3){let s=r||!e||e.nodeType!==i;return s&&tn(e,e=i===8?N.createComment(t):N.createTextNode(t),n),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),z(e)}function $n(e,t,n,r,i=e===null||Kn(e,t)){let s=n.NS;i&&tn(e,e=Qn(t,n),r);let l=t.children&&t.children.length;return Xn(e,t,n,i),l?ce(e,t.children,n):e[It]&&Jn(e.firstChild,e),e[It]=l,n.NS=s,t.key!==void 0&&(e[Kt]=t.key),z(e)}function Jn(e,t){for(;e;)e=B(e,t)}function Kn(e,t){return e[Kt]!==t.key||e.tagName!==(t.tag.name||"DIV").toUpperCase()}function Qn(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||Vn[e.tag.name])?n?N.createElementNS(t.NS,e.tag.name,{is:n}):N.createElementNS(t.NS,e.tag.name):n?N.createElement(e.tag.name||"DIV",{is:n}):N.createElement(e.tag.name||"DIV")}var ct=class{constructor(t,n,r,i,s){this.init=t,this.id=n,this.key=void 0,this.view=r,this.catcher=i,this.loader=s}},ft=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t){if(this.i>=this.xs.length)return!0;let n=this.xs[this.i];return n.key!==t.key||n.init&&n.init!==t.component[0]}add(t,n,r){let[i,s]=t.component,l=new ct(t.inline?!1:i,S.count=(S.count||0)+1,i,s&&s.catcher||n.catcher,s&&s.loader||n.loader);l.context=Object.create(n,{onremove:{value:o=>this.life.push(()=>o)},redraw:{value:()=>ht(this.dom.first,t,n,r,this,!1,!0)},reload:{value:()=>ht(this.dom.first,t,n,r,this,!0)},ignore:{value:o=>l.ignore=o}});let a=_t(!0,l,t,l.context,this);return l.promise=a&&y(a.then)&&a,l.stateful=l.promise||y(a)&&a.constructor!==Y,l.view=l.promise?l.loader:a,this.xs.length=this.i,this.xs[this.i]=l,this.xs[this.top=this.i++]}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}cut(){return this.xs.length=this.top=this.i}};function Zn(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return z(e,e,t)}function Gn(e,t){e.first.nextSibling[Ve]=t,e.first.remove(),e.last&&e.last.remove()}function ht(e,t,n,r,i=e&&e[Ve]||new ft,s=i.changed(t),l=!1){let a=s?i.add(t,n,r):i.next();if(!s&&!l&&a.ignore)return i.pop(),i.dom;t.key&&s&&(a.key=t.key);let o=a.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97;if(o)a.next=Zn(e);else{let c=_t(s,a,t,a.context,i);c&&c.constructor===Y&&(c=c()),a.next=fe(e,!a.error&&!a.promise&&c instanceof O?Wn(c,t):c,a.context,r,i,s||void 0)}s&&a.promise&&a.promise.then(c=>a.view="default"in c?c.default:c).catch(c=>{a.error=t.attrs.error=c,a.view=a.catcher}).then(()=>a.next.first[Ve]&&(o&&Gn(a.next,i),delete i.dom.first[oe],a.promise=!1,ue()));let u=e!==a.next.first;return i.pop()&&(u||s)&&(i.dom=a.next,a.next.first[Ve]=i,!a.promise&&Yt(a.next.first,t.attrs,t.children,a.context,i.life)),a.next}function _t(e,t,n,r,i){try{return Bt(e,t,n,r)}catch(s){return t.error=n.attrs.error=s,t.view=t.catcher,i.cut(),Bt(e,t,n,r)}}function Bt(e,t,n,r){return t.stateful||e?y(t.view)?t.view(n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function Wn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function Xn(e,t,n){let r=t.tag,i=e[je],s=!i;!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(s&&t.tag.classes||t.attrs.class!==(i&&i.class)||t.attrs.className!==(i&&i.className)||e.className!==t.tag.classes)&&at(e,t),s&&st(e,t.attrs.class,()=>at(e,t)),s&&st(e,t.attrs.className,()=>at(e,t)),t.attrs.type!=null&&Fe(e,"type",t.attrs.type,n);for(let a in t.attrs)if(Ue(a))a==="deferrable"&&(e[lt]=t.attrs[a]);else if(!i||i[a]!==t.attrs[a]){let o=t.attrs[a];s&&st(e,o,u=>Fe(e,a,u,n)),Yn(e,n,t.attrs,a,i&&i[a],o)}if(i)for(let a in i)a in t.attrs||(qe(a)?xt(e,a):Ue(a)?a==="deferrable"&&(e[lt]=!1):e.removeAttribute(a));let l=_n(e,t.attrs.style,i&&i.style);if(t.tag)for(Ht(e,t.tag.vars,t.tag.args,s,l);r=r.parent;)Ht(e,r.vars,r.args,s,l);s&&t.attrs.dom&&Yt(e,t.attrs,t.children,n,t.attrs.dom),e[je]=t.attrs}function _n(e,t,n){if(n!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(n==null||typeof n!="object"){e.style.cssText="";for(let r in t){let i=t[r];i!=null&&e.style.setProperty(ge(r),i+"")}return!0}for(let r in t){let i=t[r];i!=null&&(i=i+"")!=n[r]+""&&e.style.setProperty(ge(r),i)}for(let r in n)n[r]!=null&&t[r]==null&&e.style.removeProperty(ge(r));return!0}}function st(e,t,n){if(!U(t))return;let r=ae in e,i=r?e[ae]:new Set;r||(e[ae]=i),i.add(t.observe(n))}function at(e,t){let n=yt(t);n?e.className=n:e.removeAttribute("class")}function Ht(e,t,n,r,i){for(let s in t){let l=t[s],a=n[l.index];pt(e,s,a,l,r,i)}}function pt(e,t,n,r,i,s,l){if(U(n)){i&&n.observe(a=>e.style.setProperty(t,we(a,r))),i||s&&pt(e,t,n.value,r,i,i);return}if(y(n))return pt(e,t,n(e),r,i,s,l);e.style.setProperty(t,we(n,r)),l&&Re.push(()=>e.style.setProperty(t,we(n,r)))}function Yt(e,t,n,r,i){Re.push(()=>{i=[].concat(i).map(s=>y(s)&&s(e,t,n,r)).filter(s=>y(s)),i.length&&(e[oe]=(e[oe]||[]).concat(i))})}function Yn(e,t,n,r,i,s){if(i===s)return;r==="href"&&s&&!s.match(/^([a-z]+:|\/\/)/)&&(s=d.pathmode+ie(s),vn(e,t.route));let l=qe(r);l&&typeof i==typeof s||(l?s?xn(e,n,r):xt(e,r):Fe(e,r,s,t))}function Fe(e,t,n,r){if(y(n))return Fe(e,t,n(),r);!r.NS&&t in e?e[t]=n:dt(n)?e.removeAttribute(t):e.setAttribute(t,n===!0?"":n)}function xt(e,t){e.removeEventListener(t.slice(2),e[ot])}function xn(e,t,n){e.addEventListener(n.slice(2),e[ot]||(e[ot]=er(e)))}function er(e){return{handleEvent:t=>en(e[je]["on"+t.type],t)}}function en(e,t){let n=y(e)?e.call(t.currentTarget,t):y(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!U(n)&&!U(e)&&ue(),n&&y(n.then)&&n.then(ue)}function tn(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),B(e,n)),t}function tr(e,t,n,r,i){let s=Gt(e);if(!s||e===s)return e.nextSibling;let l=s.nextSibling;if(e=e.nextSibling,!e)return l;do e=B(e,t,n,r,i);while(e&&e!==l);return l}function Pe(e,t){ae in t&&t[ae].forEach(n=>n()),e.removeChild(t)}function B(e,t,n=!0,r=[],i=!1){let s=e.nextSibling;if(Te.has(e))return s;if(e.nodeType===8)if(e.nodeValue.charCodeAt(0)===97){if(s=e.nextSibling,Pe(t,e),!s)return s;e=s,s=e.nextSibling}else e.nodeValue.charCodeAt(0)===91&&(s=tr(e,t,n,r,i));if(e.nodeType!==1)return n&&Pe(t,e),s;if(oe in e)for(let a of e[oe])try{let o=a(i||n);(i||n)&&o&&y(o.then)&&r.push(o)}catch(o){console.error(o)}!i&&(i=e[lt]||!1);let l=e.firstChild;for(;l;)B(l,e,!1,r,i),l=l.nextSibling;return n&&(r.length===0?Pe(t,e):(Te.add(e),Promise.allSettled(r).then(()=>Pe(t,e)))),s}function nr(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{d as default};
