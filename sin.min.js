var U=typeof window=="undefined"||typeof window.document=="undefined";function Q(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function D(e){return e&&g(e.observe)}function g(e){return typeof e=="function"}function Ee(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function le(e){return e[0]==="-"&&e[1]==="-"}function ve(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function at(e){return(Oe(e.attrs.class)+Oe(e.attrs.className)+e.tag.classes).trim()}function ke(e){return Array.isArray(e)?e:[e]}function ot(){}function Oe(e){return g(e)?Oe(e()):e?typeof e=="object"&&!D(e)?Object.keys(e).reduce((t,n)=>t+e[n]?n+" ":"",""):e+" ":""}var V=class{constructor(t,n=null,r=0,i=null,s=null){this.level=r,this.component=t&&(g(t[0])?t:t.reverse()),this.tag=n,this.attrs=i,this.key=i&&"key"in i?i.key:null,this.dom=null,this.children=s}};var y=U?{}:window;["get","put","post","delete","patch"].forEach(e=>T[e]=function(t,n={}){return n.method=e,T(t,n)});T.redraw=()=>{};function T(e,{method:t="GET",redraw:n=!0,body:r=null,user:i=void 0,pass:s=void 0,headers:a={},config:l,parse:o=c=>JSON.parse(c.responseText),serialize:u=c=>JSON.stringify(c)}={}){return new Promise((c,f)=>{let h=new y.XMLHttpRequest;h.onreadystatechange=function(){if(h.readyState===h.DONE){let m=h.responseText,z;try{m=o(h)}catch(G){z=G}z||h.status>=300?f(z||h.status):c(m),n&&T.redraw&&T.redraw()}},h.onerror=h.onabort=m=>f(m||h.statusText),h.open(t.toUpperCase(),e,!0,i,s),Object.keys(a).forEach(m=>a[m]&&m.setRequestHeader(m,a[m])),!("Content-Type"in a)&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),!("Accept"in a)&&h.setRequestHeader("Accept","application/json, text/*"),l&&l(h),r===null?h.send():h.send(u(r))})}var we=class{constructor(t,n){this.live=t,this.transform=n}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(n=>t(this.transform(n)))}};function H(e,t){let n=new Set;return g("function")&&n.add(t),r.observe=a=>(n.add(a),()=>n.delete(a)),r.valueOf=r.toString=r.toJSON=()=>e||"",r.detach=()=>{},r.reduce=s,r.set=a=>l=>(l&&(l.redraw=!1),r(g(a)?a(e):a||l)),r.get=a=>new we(r,l=>g(a)?a(l):l[a]),r.if=(a,l=!0,o=!1)=>new we(r,u=>u===a?l:o),Object.defineProperty(r,"value",{get:()=>e,set:i});function r(a){return arguments.length&&i(a),e}function i(a){a!==e&&(e=a,n.forEach(l=>l(a)))}function s(a,l){let o=1,u=H(arguments.length>1?a(l,e,o++):e);return r.observe(c=>u.value=a(u.value,c,o++)),u}}H.from=function(...e){let t=e.pop(),n=H(t(...e.map(Ne))),r=e.map(i=>i.observe(()=>n(t(...e.map(Ne)))));return n.detach=()=>r.forEach(Ne),n};function Ne(e){return e()}var Ve=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),ut=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","right","top","text-align","text-decoration","text-transform","width","z-index"];var q=y.document,L=q&&q.querySelector&&(q.querySelector("style.sin")||q.createElement("style")),Bt=/^(ms|moz|webkit)[-A-Z]/i,Te=L&&L.getAttribute("id")||"sin-",$=q.createElement("div"),ct={},ft={},Le={};var ht=e=>Object.entries(e).forEach(([t,n])=>ct["@"+t]=n),ae={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},oe=Array.from(Object.keys($.style.hasOwnProperty("width")?$.style:Object.getPrototypeOf($.style)).reduce((e,t)=>(e.add(t.match(Bt)?"-"+Q(t):Q(t)),e),new Set(["float"]))),Kt=Object.assign(oe.reduce(Ve,{}),ut.reduce(Ve,{})),je=oe.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");oe.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),Pe=new Map,Jt=typeof y!="undefined"&&y.CSS&&CSS.supports("color","var(--support-test)"),qe=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,pt=e=>e>=48&&e<=57||e===46,Re=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,Zt=e=>e===34||e===39,gt=e=>e===32||e===58||e===9,Gt=e=>e===59||e===10||e===125,dt=e=>e===58||e===64||e===38||e===91,Qt=e=>e===59||e===125,Fe=e=>e[e.length-1],R=[],ue=[],O=-1,S=-1,w=-1,W=-1,Me=-1,B=-1,p=-1,yt=-1,K=-1,N="",ze="",A="",j="&",J="",X="",ce="",C="",Ie="",Ue="",_="",Z="",d="",E="",bt="",v=null,St=!0,fe=!1,De=!1,He=!0,$e=!1,mt=-1,P=0;function Be(e){return Kt[e]||e}function Ct(e,t){return(fe?e:Wt(e))+":"+t+";"}function Wt(e){return ft[e]||(ft[e]=en(Be(e)))}function Xt(e){return e.replace(/,\s*[:[]?/g,t=>dt(t.charCodeAt(t.length-1))?",&"+Fe(t):",& ")}function he(e,t){if(St&&(L&&q.head&&q.head.appendChild(L),St=!1),L&&L.sheet)try{L.sheet.insertRule(e,t??L.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Ke([e,...t],n,r=0,i){if(Pe.has(e))return{...Pe.get(e),args:t};let s={};Ue=_=Z=C=E="",R.length=P=0,S=mt=-1,v=i?{}:null,$e=!1,De=!1,He=!0,d=e[0];for(let l=0;l<e.length;l++)if(v?At(0,l===e.length-1):_t(e,l,t,n),d=e[l+1],l<t.length)if(Jt&&S>=0){let o=e[l].slice(S);N=Te+Math.abs(P).toString(31),s[bt="--"+N+l]={unit:vt(A,Fe(ue)),index:l},E+=o+"var("+bt+")",S=0}else t[l]&&(d=t[l]+d),He=!1;if($e)if(i)Object.entries(v).forEach(([l,o])=>he(l.replace(/&\s+/g,"")+"{"+o+"}"));else{N=Te+Math.abs(P).toString(31),Z+=(Z?" ":"")+N,ze="";for(let l=0;l<r;l++)ze+="."+N;Object.entries(v).forEach(([l,o])=>{he(l.replace(/&/g,"."+N+ze)+"{"+o+"}")})}let a={name:Ue,classes:Z,id:_,args:t,vars:s,parent:n};return He&&Pe.set(e,a),a}function _t(e,t,n,r){for(let i=0;i<=d.length;i++)if(p=d.charCodeAt(i),i<d.length&&(P=Math.imul(31,P)+p|0),De){if(qe(p)){v={},At(i++,t===e.length-1);break}}else!qe(p)||i===d.length?(Z=(w!==-1?d.slice(w+1,i).replace(/\./g," "):"")+Z+(r?" "+r.classes:""),_===""&&(_=(W!==-1?d.slice(W,w===-1?i:w):"")||(r?r.id:null)),Ue=d.slice(0,_?W-1:w!==-1?w:i)||r&&r.name,W=w=-1,De=!0):p===35?W=i+1:w===-1&&p===46&&(w=i)}function Yt(e){return ct[e]||e}function At(e,t){for(let n=e;n<=d.length;n++)p=d.charCodeAt(n),n<d.length&&(P=Math.imul(31,P)+p|0),B===-1&&S>=0&&(fe?Qt(p):Gt(p)||t&&n===d.length)&&(K>-1&&!Re(p)&&Et(n),A==="@import"?he(A+" "+d.slice(S,n),0):C+=Ct(A,E+d.slice(S,n)),$e=!0,O=S=-1,fe=!1,A=E=""),B!==-1?B===p&&d.charCodeAt(n-1)!==92&&(B=-1):B===-1&&Zt(p)?(B=p,S===-1&&(S=n)):p===123?(A==="animation"?(C&&(v[j||"&"]=C),X=E+d.slice(S,n).trim(),Ie=E="",C=""):X?(ce=d.slice(O,n).trim(),C=""):(C&&(v[j||"&"]=C),J=Me===64?Yt(A+E+d.slice(S,n).trim()):d.slice(O,n).trim(),J.indexOf(",")!==-1&&(J=Xt(J)),E=A="",R.push((dt(Me)?"":" ")+(J==="@font-face"?Array(++mt+1).join(" "):"")+J),j=R.toString(),C=v[j||"&"]||""),O=S=-1,A=""):p===125||t&&n===d.length?(ce?(Ie+=ce+"{"+C+"}",ce=C=""):X?(N=Te+Math.abs(P).toString(31),he("@keyframes "+N+"{"+Ie+"}"),C=(v[j||"&"]||"")+Ct("animation",X+" "+N),X=""):(C&&(v[j||"&"]=C),R.pop(),j=R.toString(),C=v[j||"&"]||""),O=S=-1,A=""):n!==d.length&&O===-1&&qe(p)?(O=n,Me=p):!A&&O>=0&&gt(p)?(A=d.slice(O,n),fe=p===58):S===-1&&A&&!gt(p)?(S=n,pt(p)&&(K=n)):S!==-1&&(pt(p)?K===-1&&(K=n):K>-1&&Et(n),p===40?ue.push(d.slice(Math.max(yt,S),n)):p===41?ue.pop():(p===9||p===32)&&(yt=n+1))}function Et(e){Re(p)||(E=E+d.slice(S,e)+vt(A,Fe(ue)),S=e),K=-1}function pe(e,t){return!e&&e!==0?"":(g(e)&&(e=E()),typeof e!="string"||!Re(e.charCodeAt(e.length-1))?e+t:e.charCodeAt(0)===36?"var(--"+e.slice(1)+")":e)}function vt(e,t=""){e=Be(e);let n=e+","+t;return n in Le?Le[n]:Le[n]=t&&(t.indexOf("translate")===0||"perspective blur drop-shadow inset polygon".indexOf(t)>-1)?"px":t.indexOf("rotate")===0||t.indexOf("skew")===0?"deg":t?"":xt(e)}R.toString=function(){let e="",t="";return R.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"||t===":root"?"":"&")+t};function xt(e){if(e=Be(e),le(e)||e in ae)return ae[e];try{return $.style[e]="1px",$.style.setProperty(e,"1px"),ae[e]=$.style[e].slice(-3)==="1px"?"px":""}catch{return ae[e]=""}}function en(e){if(oe.indexOf(e)===-1){if(je[e])return console.log(e,"prefixed to",je[e]),je[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}function Je(e,t){let n=URLSearchParams,r=t.search,i=new n(r),s={replace:o=>(i=new n(o),l())};for(let o in n.prototype)s[o]=(...u)=>(o=a()[o](...u),l(),o);return s;function a(){return r===t.search?i:(r=t.search,i=new n(r))}function l(){y.history.pushState(y.history.state,null,t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var kt=!1,Ot={};function Y(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function wt(e){return e.split(/(?=\/)/)}function tn(e,t){return e.reduce((n,r,i)=>n+(r==="404"?1:r===t[i]?6:r&&t[i]&&r.toLowerCase()===t[i].toLowerCase()?5:r[1]===":"&&t[i]&&t[i].length>1?4:r==="/"&&!t[i]?3:r==="*"||r==="/*"?2:-1/0),0)}function nn(e,t){return e.reduce((n,r,i)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[i].slice(1))),n),{})}function Nt(e,t,n){return g(e)?e(t,[],n):e}function ge(e,t,n){let r=n.location,i=e(({route:u,...c},[f],h)=>(h.route=u,()=>typeof f=="string"?import((f[0]==="/"?"":u)+f).then(m=>Nt(m.default,c,h)):Nt(f,c,h)));return o.query=Je(e,n.location),o.toString=o,o.has=u=>u==="/"?s(r)===t||s(r)==="/"&&t==="":s(r).indexOf(Y(t+"/"+u))===0,Object.defineProperty(o,"path",{get(){let u=s(r),c=u.indexOf("/",t.length+1);return c===-1?u:u.slice(0,c)}}),o;function s(u,c=0){return(e.pathmode[0]==="#"?u.hash.slice(e.pathmode.length+c):e.pathmode[0]==="?"?u.search.slice(e.pathmode.length+c):u.pathname.slice(e.pathmode+c)).replace(/(.)\/$/,"$1")}function a(u,{state:c,replace:f=!1,scroll:h=l(u)}={}){u!==o.path&&(e.pathmode[0]==="#"?y.location.hash=e.pathmode+u:e.pathmode[0]==="?"?y.location.search=e.pathmode+u:y.history[f?"replaceState":"pushState"](c,null,e.pathmode+u),Ot[u]=c,e.redraw(),h&&scrollTo(0,0))}function l(u){return u.split("/")[1]!==o.path.split("/")[1]}function o(u,c={}){if(typeof u=="undefined")return t+"/";if(typeof u=="string")return a(Y(u[0]==="/"?u:"/"+u),c);kt||(kt=!0,e.pathmode[0]==="#"?y.addEventListener("hashchange",e.redraw,{passive:!0}):g(y.history.pushState)&&y.addEventListener("popstate",e.redraw,{passive:!0}));let f=s(r,t.length),h=wt(f),[,m,z]=Object.entries(u).reduce((Ae,[I,$t])=>{I=wt(Y(I));let lt=tn(I,h);return lt>Ae[0]?[lt,I,$t]:Ae},[0]),G=t+(m&&m[0]!=="*"?m.map((Ae,I)=>h[I]).join(""):"");(z===void 0||m==="404")&&n.status(404);let Ce=ge(e,G.replace(/\/$/,""),n);return Ce.parent=o,Ce.root=o.parent?o.parent.root:o,i({key:G||"/",route:Ce,...t+f===G&&Ot[t+f]||{},...nn(m||[],h)},z)}}var k=y.document,rn={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};b.isServer=U;function b(...e){let t=typeof e[0];return t==="string"?Ze(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Ze.bind(t==="function"?new V(e):Lt(e))}function Ze(...e){return e[0]&&Array.isArray(e[0].raw)?Ze.bind(Lt(e,this)):un(e,this)}var Ge=new WeakSet,Vt=new Map,Qe=Symbol("deferrable"),x=Symbol("observable"),de=Symbol("component"),We=Symbol("stream"),Xe=Symbol("event"),ee=Symbol("array"),Tt=Symbol("size"),ye=Symbol("life"),be=Symbol("attr"),_e=Symbol("key"),Ye=!0,Se=[];b.pathmode="";b.redraw=te;b.mount=fn;b.css=(...e)=>Ke(e,null,0,!0);b.animate=an;b.http=T;b.http.redraw=!b.isServer&&te;b.medias=ht;b.live=H;b.on=ln;b.trust=sn;b.route=ge(b,"",{location:y.location});function sn(e){return b(()=>{let t=k.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n})}function ln(e,t,n,r){return()=>{let i=s=>Dt(n,s);return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}}function an(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),n=>n&&new Promise(r=>{let i=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(i=!0,t(r)),{once:!0,passive:!0}),Rn(()=>i?t(r):r())});function t(n){e.addEventListener("transitionend",n,{once:!0,passive:!0}),e.addEventListener("transitioncancel",n,{once:!0,passive:!0})}}function on(e,t){e.addEventListener("click",n=>{if(!n.defaultPrevented&&(n.button===0||n.which===0||n.which===1)&&(!n.currentTarget.target||n.currentTarget.target==="_self")&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey){n.preventDefault();let r=e[be].state;t(e.getAttribute("href"),{state:r})}})}function Lt(e,t){let n=t?t.level+1:0;return new V(t&&t.component,Ke(e,t&&t.tag,n),n)}function un(e,t){let n=cn(e&&e[0]);return new V(t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function cn(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof V)}function fn(e,t,n={},r={}){if(g(t)||(r=n||{},n=t||{},t=e,e=k.body),"location"in r||(r.location=y.location),"catcher"in r||(r.catcher=hn),U)return{view:t,attrs:n,context:r};r.title=b.live(k.title,i=>k.title=i),r.status=r.head=r.headers=ot,r.route=ge(b,"",r),Vt.set(e,{view:t,attrs:n,context:r}),jt({view:t,attrs:n,context:r},e)}function hn(e){return U?console.error(e):Promise.resolve().then(()=>{throw e}),b`pre;m 0;c white;bc #ff0033;p 16;br 6;overflow auto`(b`code`(e&&e.stack||e||new Error("Unknown Error").stack))}function te(){Ye&&(requestAnimationFrame(pn),Ye=!1)}function pn(){Vt.forEach(jt),Ye=!0}function jt({view:e,attrs:t,context:n},r){try{let i=e(t,[],n);ne(r,ke(i),n)}catch(i){ne(r,ke(n.catcher(i,t,[],n)),n)}Se.forEach(i=>i()),Se=[]}function ne(e,t,n,r,i=e.lastChild){let s=t[0]&&t[0].key!=null&&new Array(t.length),a=r?r.nextSibling:e.firstChild,l=a&&_e in a,o=i?i.nextSibling:null;s&&(s.rev={})&&l?dn(e,n,a[_e],t,s,o):gn(e,n,t,s,a,o);let u=r?r.nextSibling:e.firstChild;return s&&(u[_e]=s),F(u,o&&o.previousSibling||e.lastChild)}function re(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function gn(e,t,n,r,i,s=null){let a=0,l,o;for(;a<n.length;)(i===null||!Ge.has(i))&&(o=n[a],l=i!==s?ie(i,o,t,e):ie(null,o,t),i===s&&e.insertBefore(l.dom,s),r&&re(r,l.first,o.key,a),i=l.last,a++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=M(i,e)));for(;i&&i!==s;)i=M(i,e)}function dn(e,t,n,r,i,s){let a=n.rev,l=n.length-1,o=r.length-1,u=n[l],c=r[o],f=-1;e:for(;;){for(;u.key===c.key;){if(s=se(u.dom,c,t,e).first,re(i,s,c.key,o),delete a[c.key],o===0)break e;if(l===0){c=r[--o];break}u=n[--l],c=r[--o]}if(c.key in a){if(f=a[c.key],f>o)f=se(n[f].dom,c,t,e),xe(e,f,s),s=f.first,re(i,s,c.key,o);else if(f!==o)f=se(n[f].dom,c,t,e),xe(e,f,s),s=f.first,re(i,s,c.key,o);else{u=n[--l];continue}if(delete a[c.key],o===0)break;c=r[--o]}else{if(f=se(null,c,t),xe(e,f,s),s=f.first,re(i,s,c.key,o),o===0)break;c=r[--o]}}for(let h in a)M(n[a[h]].dom,e)}function xe(e,{first:t,last:n},r){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,r)!==n)}function ie(e,t,n,r,i,s){return g(t)?D(t)?yn(e,t,n,r,i,s):ie(e,t(),n,r,i,s):t instanceof V?se(e,t,n,r,i,s):Array.isArray(t)?mn(e,t,n,r):t instanceof Node?F(t):qt(e,t,r,s)}function se(e,t,n,r,i,s){return t.component?et(e,t,n,r,i,s):Cn(e,t,n,r,s)}function yn(e,t,n,r){if(We in e)return e[We];let i;return s(t()),t.observe(s),i;function s(a){i=ie(e,a,n,r||e&&e.parentNode),i.first[We]=i,e=i.first}}function F(e,t=e,n=t){return{dom:e,first:t,last:n}}function bn(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function Sn(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&bn(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[ee]=t),t}function Pt(e){return e&&ee in e?e[ee]:Sn(e)}function mn(e,t,n,r){let i=Pt(e)||e,s=qt(e,"["+t.length,r,!1,8);if(r){let a=i?i.nextSibling:null;ne(r,t,n,s.first,i);let l=a?a.previousSibling:r.lastChild;return i!==l&&(s.first[ee]=l),F(s.dom,s.first,l)}return r=new DocumentFragment,r.appendChild(s.dom),ne(r,t,n,s.first,i),s.first[ee]=r.lastChild,F(r,s.first,r.lastChild)}function qt(e,t,n,r,i=typeof t=="boolean"||t==null?8:3){let s=r||!e||e.nodeType!==i;return s&&Ht(e,e=i===8?k.createComment(t):k.createTextNode(t),n),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),F(e)}function Cn(e,t,n,r,i=e===null||En(e,t)){let s=n.NS;i&&Ht(e,e=vn(t,n),r);let a=t.children&&t.children.length;return Vn(e,t,n,i),a?ne(e,t.children,n):e[Tt]&&An(e.firstChild,e),e[Tt]=a,n.NS=s,F(e)}function An(e,t){for(;e;)e=M(e,t,!1);t.innerHTML=""}function En(e,t){return e.tagName!==(t.tag.name||"DIV").toUpperCase()}function vn(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||rn[e.tag.name])?n?k.createElementNS(t.NS,e.tag.name,{is:n}):k.createElementNS(t.NS,e.tag.name):n?k.createElement(e.tag.name||"DIV",{is:n}):k.createElement(e.tag.name||"DIV")}function kn(){let e=[],t=0,n=0;return{life:[],get exhausted(){return t>=e.length},get key(){return t<e.length?e[t].key:null},add(i,s,a,l){let[o,u]=i.component,c={id:y.count=(y.count||0)+1,key:null,view:o,catcher:u&&u.catcher||s.catcher,loader:u&&u.loader||s.loader};c.context=Rt(i,s,a,l,c);let f=Ft(!0,c,i,c.context,l);return c.promise=f&&g(f.then)&&f,c.stateful=c.promise||g(f),c.view=c.promise?c.loader:f,e.length=t,e[t]=c,e[n=t++]},next(i,s,a,l){let o=t<e.length&&e[n=t++];return o&&(o.context=Rt(i,s,a,l,o)),o},pop(){return--t===0&&(e.length=n+1,!(n=0))},cut(){return e.length=n=t}}}function Rt(e,t,n,r,i){return Object.create(t,{onremove:{value:s=>r.life.push(()=>s)},redraw:{value:()=>et(r.dom.first,e,t,n,r,!1,!0)},reload:{value:()=>et(r.dom.first,e,t,n,r,!0)},ignore:{value:s=>i.ignore=s}})}function On(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return F(e,e,t)}function wn(e,t){e.first.nextSibling[de]=t,e.first.remove(),e.last.remove()}function et(e,t,n,r,i=e&&e[de]||kn(),s=i.exhausted||i.key!==t.key,a=!1){let l=s?i.add(t,n,r,i):i.next(t,n,r,i);if(!s&&!a&&l.ignore)return i.pop(),i.dom;t.key&&s&&(l.key=t.key);let o=l.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97,u=l.next=o?On(e):ie(e,Nn(Ft(s,l,t,l.context,i),t),l.context,r,i,s||void 0);s&&l.promise&&l.promise.then(f=>l.view=f).catch(f=>l.view=l.catcher.bind(null,f)).then(()=>l.next.first[de]&&(o&&wn(u,i),l.promise=!1,te()));let c=e!==u.first;return i.pop()&&(c||s)&&(i.dom=l.next=u,u.first[de]=i,!l.promise&&It(u.first,t.attrs,t.children,l.context,i.life)),u}function Ft(e,t,n,r,i){try{return Mt(e,t,n,r)}catch(s){return t.view=t.catcher.bind(null,s),i.cut(),Mt(t.stateful||e,t,n,r)}}function Mt(e,t,n,r){return t.stateful||e?g(t.view)?t.view(n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function Nn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function Vn(e,t,n,r){let i=t.tag,s=e[be];!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(r&&t.tag.classes||t.attrs.class!==(s&&s.class)||t.attrs.className!==(s&&s.className)||e.className!==t.tag.classes)&&rt(e,t),r&&nt(e,t.attrs.class,()=>rt(e,t)),r&&nt(e,t.attrs.className,()=>rt(e,t));for(let l in t.attrs)if(ve(l))l==="deferrable"&&(e[Qe]=t.attrs[l]);else if(!s||s[l]!==t.attrs[l]){let o=t.attrs[l];r&&nt(e,o,u=>st(e,l,u,n)),Ln(e,n,t.attrs,l,s&&s[l],o)}if(s)for(let l in s)l in t.attrs||(Ee(l)?Ut(e,t.attrs,l):ve(l)?l==="deferrable"&&(e[Qe]=!1):e.removeAttribute(l));let a=Tn(e,t.attrs.style,s&&s.style);if(t.tag)for(zt(e,t.tag.vars,t.tag.args,r,a);i=i.parent;)zt(e,i.vars,i.args,r,a);r&&t.attrs.dom&&It(e,t.attrs,t.children,n,t.attrs.dom),e[be]=t.attrs}function Tn(e,t,n){if(n!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(n==null||typeof n!="object"){e.style.cssText="";for(let r in t){let i=t[r];i!=null&&e.style.setProperty(tt(r),i+"")}return!0}for(let r in t){let i=t[r];i!=null&&(i=i+"")!=n[r]+""&&e.style.setProperty(tt(r),i)}for(let r in n)n[r]!=null&&t[r]==null&&e.style.removeProperty(tt(r));return!0}}function tt(e){return le(e)?e:e==="cssFloat"?"float":Q(e)}function nt(e,t,n){if(!D(t))return;let r=x in e,i=r?e[x]:new Set;r||(e[x]=i),i.add(t.observe(n))}function rt(e,t){let n=at(t);n?e.className=n:e.removeAttribute("class")}function zt(e,t,n,r,i){for(let s in t){let{unit:a,index:l}=t[s],o=n[l];it(e,s,o,a,r,i)}}function it(e,t,n,r,i,s,a){if(D(n)){i&&n.observe(l=>e.style.setProperty(t,pe(l,r))),i||s&&it(e,t,n.value,r,i,i);return}if(g(n))return it(e,t,n(e),r,i,s,a);e.style.setProperty(t,pe(n,r)),a&&Se.push(()=>e.style.setProperty(t,pe(n,r)))}function It(e,t,n,r,i){Se.push(()=>{i=[].concat(i).map(s=>g(s)&&s(e,t,n,r)).filter(s=>g(s)),i.length&&(e[ye]=(e[ye]||[]).concat(i))})}function Ln(e,t,n,r,i,s){if(i===s)return;r==="href"&&s&&!s.match(/^([a-z]+:)?\/\//)&&(s=b.pathmode+Y(s),on(e,t.route));let a=Ee(r);a&&typeof i==typeof s||(a?s?jn(e,n,r):Ut(e,r):st(e,r,s,t))}function st(e,t,n,r){if(g(n))return st(e,t,n(),r);!n&&n!==0?e.removeAttribute(t):!r.NS&&t in e&&typeof n!="boolean"?e[t]=n:e.setAttribute(t,n===!0?"":n)}function Ut(e,t){e.removeEventListener(t.slice(2),e[Xe])}function jn(e,t,n){e.addEventListener(n.slice(2),e[Xe]||(e[Xe]=Pn(e)))}function Pn(e){return{handleEvent:t=>Dt(e[be]["on"+t.type],t)}}function Dt(e,t){let n=g(e)?e.call(t.currentTarget,t):g(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!D(e)&&te(),n&&g(n.then)&&n.then(te)}function Ht(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),M(e,n)),t}function qn(e,t,n,r,i){let s=Pt(e);if(!s||e===s)return e.nextSibling;let a=s.nextSibling;if(e=e.nextSibling,!e)return a;do e=M(e,t,n,r,i);while(e&&e!==a);return a}function me(e,t){x in t&&t[x].forEach(n=>n()),e.removeChild(t)}function M(e,t,n=!0,r=[],i=!1){let s=e.nextSibling;if(Ge.has(e))return s;if(e.nodeType===8&&(e.nodeValue.charCodeAt(0)===97&&(s=e.nextSibling,me(t,e),e=s,s=e.nextSibling),e.nodeValue.charCodeAt(0)===91&&(s=qn(e,t,n,r,i))),e.nodeType!==1)return n&&me(t,e),s;if(ye in e)for(let l of e[ye])try{let o=l(i||n);i||n&&o&&g(o.then)&&r.push(o)}catch(o){console.error(o)}!i&&(i=e[Qe]||!1);let a=e.firstChild;for(;a;)M(a,e,!1,r,i),a=a.nextSibling;return n&&(r.length===0?me(t,e):(Ge.add(e),Promise.allSettled(r).then(()=>me(t,e)))),s}function Rn(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{b as default};
