var O=class{constructor(t,n,r=null,i=0,s=null,a=null){this.level=i,this.component=n,this.inline=t,this.tag=r,this.attrs=s,this.key=s?s.key:void 0,this.dom=null,this.children=a}};var K=typeof window=="undefined"||typeof window.document=="undefined";function ut(e){return!e&&e!==0&&e!==""}function ce(e){return e.replace(/(\B[A-Z])/g,"-$1").toLowerCase()}function I(e){return e&&y(e.observe)}function y(e){return typeof e=="function"}function Te(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110}function je(e){return e.charCodeAt(0)===36?"--"+e.slice(1):e.charCodeAt(0)===45&&e.charCodeAt(1)===45?e:null}function ve(e){return e==="dom"||e==="is"||e==="key"||e==="handleEvent"||e==="type"||e==="class"||e==="className"||e==="style"||e==="deferrable"}function ct(e){return(he(e.attrs.class)+he(e.attrs.className)+e.tag.classes).trim()}function Re(e){return Array.isArray(e)?e:[e]}function ft(){}function fe(e){return je(e)||(e==="cssFloat"?"float":ce(e))}function he(e){return I(e)?he(e.value):y(e)?he(e()):e?typeof e=="object"?en(e):e+" ":""}function en(e){let t="";for(let n in e)t+=(t?" ":"")+(e[n]||"");return t}var S=K?{}:window;["get","put","post","delete","patch"].forEach(e=>v[e]=function(t,n={}){return n.method=e,v(t,n)});v.redraw=()=>{};var ht=e=>JSON.stringify(e),pt=e=>JSON.parse(e.responseText);function v(e,{method:t="GET",redraw:n=!0,body:r=null,query:i=null,user:s=void 0,pass:a=void 0,headers:l={},config:o,parse:u=pt,serialize:c=ht}={}){return new Promise((g,E)=>{let d=new S.XMLHttpRequest;t=t.toUpperCase(),d.onreadystatechange=function(){if(d.readyState===d.DONE){let k=d.responseText,L;try{k=u(d)}catch(j){L=j}L||d.status>=300?E(Object.assign(L||new Error(d.statusText),{xhr:d,status:d.status,body:k})):g(k),n&&v.redraw&&v.redraw()}};let J="application/json, text/*",U="application/json; charset=utf-8";d.onerror=d.onabort=k=>E(k||d.statusText),i&&(e+=e.replace(/(#)|$/,(e.indexOf("?")>-1?"&":"?")+new URLSearchParams(i).toString()+"$1")),d.open(t,e,!0,s,a),Object.entries(l).forEach(([k,L])=>{d.setRequestHeader(k,L),k.toLowerCase()==="accept"?J=!1:k.toLowerCase()==="content-type"&&(U=!1)}),J&&u===pt&&d.setRequestHeader("Accept",J),U&&c===ht&&d.setRequestHeader("Content-Type",U),o&&o(d),r===null?d.send():d.send(c(r))})}var Fe=class{constructor(t,n){this.live=t,this.transform=n}get value(){return this.transform(this.live.value)}toString(){return this.value||""}valueOf(){return this.value||""}toJSON(){return this.value||""}observe(t){return this.live.observe(n=>t(this.transform(n)))}};function Z(e,t){let n=new Set;return y(t)&&n.add(t),r.observe=a=>(n.add(a),()=>n.delete(a)),r.valueOf=r.toString=r.toJSON=()=>e||"",r.detach=()=>{},r.reduce=s,r.set=a=>(...l)=>(r(y(a)?a(...l):a),r),r.get=a=>new Fe(r,l=>y(a)?a(l):l[a]),r.if=(a,l=!0,o=!1)=>new Fe(r,u=>u===a?l:o),Object.defineProperty(r,"value",{get:()=>e,set:i});function r(a){return arguments.length&&i(a),e}function i(a){a!==e&&(e=a,n.forEach(l=>l(a)))}function s(a,l){let o=1,u=Z(arguments.length>1?a(l,e,o++):e);return r.observe(c=>u.value=a(u.value,c,o++)),u}}Z.from=function(...e){let t=e.pop(),n=Z(t(...e.map(qe))),r=e.map(i=>i.observe(()=>n(t(...e.map(qe)))));return n.detach=()=>r.forEach(qe),n};function qe(e){return e()}var Me=(e,t)=>(e[t.split("-").map(n=>n[0]).join("")]=t,e),gt=["align-items","bottom","background-color","border-radius","box-shadow","background-image","color","display","flex-grow","flex-basis","float","flex-direction","font-family","font-size","font-weight","gap","grid-gap","grid-template-area","grid-template-columns","grid-template-rows","height","justify-content","left","line-height","letter-spacing","margin","margin-bottom","margin-left","margin-right","margin-top","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","place-items","right","top","text-align","text-decoration","text-transform","white-space","width","z-index"];var z=S.document,R=z&&z.querySelector&&(z.querySelector("style.sin")||z.createElement("style")),tn=/^(ms|moz|webkit)[-A-Z]/i,Ue=R&&R.getAttribute("id")||"sin-",G=z.createElement("div"),dt={},yt={},Ie={};var bt=e=>Object.entries(e).forEach(([t,n])=>dt["@"+t]=n),pe={flex:"",border:"px","line-height":"","box-shadow":"px","border-top":"px","border-left":"px","border-right":"px","border-bottom":"px","@media":"px"},ge=Array.from(Object.keys(G.style.hasOwnProperty("width")?G.style:Object.getPrototypeOf(G.style)).reduce((e,t)=>(e.add(t.match(tn)?"-"+ce(t):ce(t)),e),new Set(["float"]))),nn=Object.assign(ge.reduce(Me,{}),gt.reduce(Me,{})),ze=ge.reduce((e,t)=>{let n=t.match(/-(ms|o|webkit|moz)-/g);if(n){let r=t.replace(/-(ms|o|webkit|moz)-/,"");ge.indexOf(r)===-1&&(r==="flexDirection"&&(e.flex="-"+n[1].toLowerCase()+"-flex"),e[r]=t)}return e},{}),De=new Map,rn=typeof S!="undefined"&&S.CSS&&CSS.supports("color","var(--support-test)"),sn=["perspective","blur","drop-shadow","inset","polygon"],ln=e=>e.indexOf("translate")===0||sn.indexOf(e)>-1,an=e=>e.indexOf("rotate")===0||e.indexOf("skew")===0,$e=e=>e!==32&&e!==9&&e!==10&&e!==13&&e!==59,St=e=>e>=48&&e<=57||e===46,on=e=>e>=65&&e<=90||e>=97&&e<=122,mt=e=>e===37||e>=65&&e<=90||e>=97&&e<=122,un=e=>e===34||e===39,Ct=e=>e===32||e===58||e===9,cn=e=>e===59||e===10||e===125,At=e=>e===58||e===64||e===38||e===91,fn=e=>e===59||e===125,Be=e=>e[e.length-1],D=[],Q=[],P=-1,b=-1,V=-1,x=-1,de=-1,W=-1,f=-1,ye=-1,$=-1,Et=-1,F=-1,T="",He="",m="",q="&",X="",ee="",be="",C="",Je="",Ke="",te="",_="",h="",A="",kt="",N=null,Ot=!0,Se=!1,Ze=!1,Ge=!0,Qe=!1,M=0;function We(e){return nn[e]||e}function Nt(e,t){return(Se?e:hn(e))+":"+t+";"}function hn(e){return yt[e]||(yt[e]=Cn(We(e)))}function pn(e){return e.replace(/,\s*[:[]?/g,t=>At(t.charCodeAt(t.length-1))?",&"+Be(t):",& ")}function me(e,t){if(Ot&&(R&&z.head&&z.head.appendChild(R),Ot=!1),R&&R.sheet)try{R.sheet.insertRule(e,t??R.sheet.cssRules.length)}catch(n){console.error("Insert rule error:",n,e)}}function Xe([e,...t],n,r=0,i){if(De.has(e))return{...De.get(e),args:t};let s={};Ke=te=_=C=A=m="",D.length=Q.length=M=0,ye=b=Et=de=F=-1,N=i?{}:null,Qe=!1,Ze=!1,Ge=!0,h=e[0];for(let l=0;l<e.length;l++)if(N?wt(0,l===e.length-1):gn(e,l,t,n),h=e[l+1],l<t.length)if(rn&&b>=0){let o=e[l].slice(b);T=Ue+Math.abs(M).toString(31),s[kt="--"+T+l]={property:m,unit:Tt(m,Be(Q)),index:l},A+=o+"var("+kt+")",b=0}else t[l]&&(h=t[l]+h),Ge=!1;if(Qe)if(i)Object.entries(N).forEach(([l,o])=>me(l.replace(/&\s+/g,"")+"{"+o+"}"));else{T=Ue+Math.abs(M).toString(31),_+=(_?" ":"")+T,He="";for(let l=0;l<r;l++)He+="."+T;Object.entries(N).forEach(([l,o])=>{me(l.replace(/&/g,"."+T+He)+"{"+o+"}")})}let a={name:Ke,classes:_,id:te,args:t,vars:s,parent:n};return Ge&&De.set(e,a),a}function gn(e,t,n,r){for(let i=0;i<=h.length;i++)if(f=h.charCodeAt(i),i<h.length&&(M=Math.imul(31,M)+f|0),Ze){if($e(f)){N={},wt(i++,t===e.length-1);break}}else!$e(f)||i===h.length?(_=(V!==-1?h.slice(V+1,i).replace(/\./g," "):"")+_+(r?" "+r.classes:""),te===""&&(te=(x!==-1?h.slice(x,V===-1?i:V):"")||(r?r.id:null)),Ke=h.slice(0,te?x-1:V!==-1?V:i)||r&&r.name,x=V=-1,Ze=!0):f===35?x=i+1:V===-1&&f===46&&(V=i)}function dn(e){return dt[e]||e}function wt(e,t){for(let n=e;n<=h.length;n++)f=h.charCodeAt(n),n<h.length&&(M=Math.imul(31,M)+f|0),W===-1&&b>=0&&(Se?fn(f):cn(f)||t&&n===h.length)&&yn(n),W!==-1?W===f&&h.charCodeAt(n-1)!==92&&(W=-1):W===-1&&un(f)?(W=f,b===-1&&(b=n)):f===123?bn(n):f===125||t&&n===h.length?Sn():n!==h.length&&P===-1&&$e(f)?(P=n,de=f):!m&&P>=0&&Ct(f)?(m=h.slice(P,n),Se=f===58):b===-1&&m&&!Ct(f)?(b=n,St(f)?$=n:f===36&&(F=n)):b!==-1&&Lt(n)}function yn(e){$>-1&&!mt(f)?Vt(e):F>-1&&Pt(e),m==="@import"?me(m+" "+h.slice(b,e),0):C+=Nt(m,A+h.slice(b,e)),Qe=!0,P=b=-1,Se=!1,m=A=""}function bn(e){m==="animation"?(C&&(N[q||"&"]=C),ee=A+h.slice(b,e).trim(),Je=A="",C=""):ee?(be=h.slice(P,e).trim(),C=""):(C&&(N[q||"&"]=C),X=de===64?dn(m+A+h.slice(b,e).trim()):h.slice(P,e).trim(),X.indexOf(",")!==-1&&(X=pn(X)),A=m="",D.push((At(de)?"":" ")+(X==="@font-face"?Array(++Et+1).join(" "):"")+X),q=D.toString(),C=N[q||"&"]||""),P=b=-1,m=""}function Sn(){be?(Je+=be+"{"+C+"}",be=C=""):ee?(T=Ue+Math.abs(M).toString(31),me("@keyframes "+T+"{"+Je+"}"),C=(N[q||"&"]||"")+Nt("animation",ee+" "+T),ee=""):(C&&(N[q||"&"]=C),D.pop(),q=D.toString(),C=N[q||"&"]||""),P=b=-1,m=""}function Lt(e){St(f)?$===-1&&($=e):$>-1?Vt(e):F>-1&&Pt(e),f===40?Q.push(h.slice(Math.max(ye,b),e)):f===41?Q.pop():f===9||f===32?ye=e+1:f===36&&(F=e)}function Pt(e){on(f)||(A=A+h.slice(b,F)+"var(--"+h.slice(F+1,e)+")",b=e,F=-1)}function Vt(e){mt(f)||(A=A+h.slice(b,e)+Tt(m,Be(Q)),b=e),$=-1}function Tt(e,t=""){e=We(e);let n=e+","+t;return n in Ie?Ie[n]:Ie[n]=t&&ln(t)?"px":an(t)?"deg":t?"":mn(e)}function Ce(e,{property:t,unit:n}){if(!e&&e!==0)return"";if(y(e)&&(e=A()),typeof e=="number")return e+n;if(typeof e!="string"&&(e=""+e),e.charCodeAt(0)===36)return"var(--"+e.slice(1)+")";h=e,A="",b=0,$=ye=-1,Q.length=0,m=t;for(let r=0;r<=e.length;r++)f=e.charCodeAt(r),Lt(r);return A+e.slice(b)}D.toString=function(){let e="",t="";return D.forEach(n=>n.charCodeAt(0)===64&&n!=="@font-face"?e+=n:t+=n),(e?e+"{":"")+(t==="@font-face"||t===":root"?"":"&")+t};function mn(e){if(e=We(e),je(e)||e in pe)return pe[e];try{return G.style[e]="1px",G.style.setProperty(e,"1px"),pe[e]=G.style[e].slice(-3)==="1px"?"px":""}catch{return pe[e]=""}}function Cn(e){if(ge.indexOf(e)===-1){if(ze[e])return console.log(e,"prefixed to",ze[e]),ze[e];e.indexOf("--")!==0&&console.error(e,"css property not found")}return e}function _e(e,t){let n=URLSearchParams,r=t.search,i=new n(r),s={replace:o=>(i=new n(o),l())};for(let o in n.prototype)s[o]=(...u)=>(o=a()[o](...u),l(),o);return s;function a(){return r===t.search?i:(r=t.search,i=new n(r))}function l(){S.history.pushState(S.history.state,null,t.pathname+(i+""?"?"+(i+"").replace(/=$/g,""):"")+t.hash),e.redraw()}}var jt=!1,vt={};function ne(e){return String(e).replace(/\/+/g,"/").replace(/(.)\/$/,"$1")}function Rt(e){return e.split(/(?=\/)/)}function An(e,t){return e.reduce((n,r,i)=>n+(r==="404"?1:r===t[i]?6:r&&t[i]&&r.toLowerCase()===t[i].toLowerCase()?5:r[1]===":"&&t[i]&&t[i].length>1?4:r==="/"&&!t[i]?3:r==="*"||r==="/*"?2:-1/0),0)}function En(e,t){return e.reduce((n,r,i)=>(r[1]===":"&&(n[r.slice(2)]=decodeURIComponent(t[i].slice(1))),n),{})}function Ft(e,t,n){return y(e)?e(t,[],n):e}function Ae(e,t,n){let r=n.location,i=e(({route:u,...c},[g],E)=>(E.route=u,()=>typeof g=="string"?import((g[0]==="/"?"":u)+g).then(d=>Ft(d.default,c,E)):Ft(g,c,E)));return o.query=_e(e,n.location),o.toString=o,o.has=u=>u==="/"?s(r)===t||s(r)==="/"&&t==="":s(r).indexOf(ne(t+"/"+u))===0,Object.defineProperty(o,"path",{get(){let u=s(r),c=u.indexOf("/",t.length+1);return c===-1?u:u.slice(0,c)}}),o;function s(u,c=0){return(e.pathmode[0]==="#"?u.hash.slice(e.pathmode.length+c):e.pathmode[0]==="?"?u.search.slice(e.pathmode.length+c):u.pathname.slice(e.pathmode+c)).replace(/(.)\/$/,"$1")}function a(u,{state:c,replace:g=!1,scroll:E=l(u)}={}){u!==s(r)&&(e.pathmode[0]==="#"?S.location.hash=e.pathmode+u:e.pathmode[0]==="?"?S.location.search=e.pathmode+u:S.history[g?"replaceState":"pushState"](c,null,e.pathmode+u),vt[u]=c,e.redraw(),E&&scrollTo(0,0))}function l(u){return u.split("/")[1]!==o.path.split("/")[1]}function o(u,c={}){if(typeof u=="undefined")return t+"/";if(typeof u=="string")return a(ne(u[0]==="/"?u:"/"+u),c);jt||(jt=!0,e.pathmode[0]==="#"?S.addEventListener("hashchange",e.redraw,{passive:!0}):y(S.history.pushState)&&S.addEventListener("popstate",e.redraw,{passive:!0}));let g=s(r,t.length),E=Rt(g),[,d,J]=Object.entries(u).reduce((L,[j,xt])=>{j=Rt(ne(j));let ot=An(j,E);return ot>L[0]?[ot,j,xt]:L},[0]),U=t+(d&&d[0]!=="*"?d.map((L,j)=>E[j]).join(""):"");(J===void 0||d==="404")&&n.status(404);let k=Ae(e,U.replace(/\/$/,""),n);return k.parent=o,k.root=o.parent?o.parent.root:o,i({key:U||"/",route:k,...t+g===U&&vt[t+g]||{},...En(d||[],E)},J)}}var w=S.document,kn={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function p(...e){let t=typeof e[0];return t==="string"?Ye(Object.assign([e[0]],{raw:[]}))(...e.slice(1)):Ye.bind(t==="function"?new O(Le,e):y(e[1])?new O(Le,e.reverse()):It(e))}function Ye(...e){return e[0]&&Array.isArray(e[0].raw)?Ye.bind(It(e,this)):Pn(e,this)}var Ee=new WeakSet,qt=new Map,xe=Symbol("deferrable"),re=Symbol("observable"),ke=Symbol("component"),et=Symbol("event"),ie=Symbol("array"),Oe=Symbol("stream"),Mt=Symbol("size"),se=Symbol("life"),Ne=Symbol("attr"),tt=Symbol("keys"),Ut=Symbol("key"),nt=!0,we=[],Le=!1;p.isServer=K;p.pathmode="";p.redraw=le;p.mount=Tn;p.css=(...e)=>Xe(e,null,0,!0);p.animate=wn;p.http=v;p.http.redraw=!p.isServer&&le;p.medias=bt;p.live=Z;p.on=Nn;p.trust=On;p.route=Ae(p,"",{location:S.location});p.window=S;p.catcher=p(({error:e})=>(K?console.error(e):Promise.resolve().then(()=>{throw e}),()=>p`pre;all initial;d block;ws pre-wrap;m 0;c white;bc #ff0033;p 8 12;br 6;overflow auto`(p`code`(e&&e.stack||e||new Error("Unknown Error").stack))));function On(e){return p(()=>{let t=w.createElement("div"),n=new DocumentFragment;for(t.innerHTML=e;t.lastChild;)n.appendChild(t.lastChild);return()=>n})}function Nn(e,t,n,r){return()=>{let i=s=>_t(n,s);return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}}function wn(e){return e.setAttribute("animate","entry"),requestAnimationFrame(()=>e.removeAttribute("animate")),n=>n&&new Promise(r=>{let i=!1;e.setAttribute("animate","exit"),e.addEventListener("transitionrun",()=>(i=!0,t(r)),{once:!0,passive:!0}),Xn(()=>i?t(r):r())});function t(n){e.addEventListener("transitionend",n,{once:!0,passive:!0}),e.addEventListener("transitioncancel",n,{once:!0,passive:!0})}}function Ln(e,t){e.addEventListener("click",n=>{if(!n.defaultPrevented&&(n.button===0||n.which===0||n.which===1)&&(!n.currentTarget.target||n.currentTarget.target==="_self")&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey){n.preventDefault();let r=e[Ne].state;t(e.getAttribute("href"),{state:r})}})}function It(e,t){let n=t?t.level+1:0;return new O(t&&t.inline,t&&t.component,Xe(e,t&&t.tag,n),n)}function Pn(e,t){let n=Vn(e&&e[0]);return new O(t.inline,t.component,t.tag,t?t.level+1:0,n?e.shift():{},e.length===1&&Array.isArray(e[0])?e[0]:e)}function Vn(e){return e&&typeof e=="object"&&!(e instanceof Date)&&!Array.isArray(e)&&!(e instanceof O)}function Tn(e,t,n={},r={}){if(y(t)||(r=n||{},n=t||{},t=e,e=w.body),!(t instanceof O)&&(t=p(t)),"location"in r||(r.location=S.location),"catcher"in r||(r.catcher=p.catcher),K)return{view:t,attrs:n,context:r};r.title=p.live(w.title,i=>w.title=i),r.status=r.head=r.headers=ft,r.route=Ae(p,"",r),qt.set(e,{view:t,attrs:n,context:r}),zt({view:t,attrs:n,context:r},e)}function le(){nt&&(requestAnimationFrame(jn),nt=!1)}function jn(){qt.forEach(zt),nt=!0}function zt({view:e,attrs:t,context:n},r){Le=!0;try{let i=e(t,[],n);ae(r,Re(i),n)}catch(i){t.error=i,ae(r,Re(n.catcher(t)),n)}Le=!1,we.forEach(i=>i()),we=[]}function ae(e,t,n,r,i=e.lastChild){let s=t[0]&&t[0].key!==void 0&&new Array(t.length),a=Dt(r,e),l=a&&tt in a,o=i?i.nextSibling:null;s&&(s.rev={})&&l?Rn(e,n,a[tt],t,s,o):vn(e,n,t,s,a,o);let u=Dt(r,e);return s&&(u[tt]=s),B(u,o&&o.previousSibling||e.lastChild)}function Dt(e,t){let n=e?e.nextSibling:t.firstChild;for(;Ee.has(n);)n=n.nextSibling;return n}function oe(e,t,n,r){e[r]={dom:t,key:n},e.rev[n]=r}function vn(e,t,n,r,i,s=null){let a=0,l,o;for(;a<n.length;)(i===null||!Ee.has(i))&&(o=n[a],l=i!==s?ue(i,o,t,e):ue(null,o,t),i===s&&e.insertBefore(l.dom,s),r&&oe(r,l.first,o.key,a),i=l.last,a++),i!==null&&(i=i.nextSibling,i!==null&&i.nodeType===8&&i.nodeValue===","&&(i=H(i,e)));for(;i&&i!==s;)i=H(i,e)}function Rn(e,t,n,r,i,s){let a=n.rev,l=n.length-1,o=r.length-1,u=n[l],c=r[o],g=-1;e:for(;;){for(;u.key===c.key;){if(s=Y(u.dom,c,t,e).first,oe(i,s,c.key,o),delete a[c.key],o===0)break e;if(l===0){c=r[--o];break}u=n[--l],c=r[--o]}if(c.key in a){if(g=a[c.key],g>o)g=Y(n[g].dom,c,t,e),rt(e,g,s),s=g.first,oe(i,s,c.key,o);else if(g!==o)g=Y(n[g].dom,c,t,e),rt(e,g,s),s=g.first,oe(i,s,c.key,o);else{u=n[--l];continue}if(delete a[c.key],o===0)break;c=r[--o]}else{if(g=Y(null,c,t),rt(e,g,s),s=g.first,oe(i,s,c.key,o),o===0)break;c=r[--o]}}for(let E in a)H(n[a[E]].dom,e)}function rt(e,{first:t,last:n},r){let i=t,s;do s=i,i=s.nextSibling;while(e.insertBefore(s,r)!==n)}function ue(e,t,n,r,i,s){return I(t)?Fn(e,t,n,r,i,s):y(t)?ue(e,t(),n,r,i,s):t instanceof O?Y(e,t,n,r,i,s):t instanceof Promise?Y(e,p(()=>t)(),n,r,i,s):Array.isArray(t)?Bt(e,t,n,r,s):t instanceof Node?B(t):Ht(e,t,r,s)}function Y(e,t,n,r,i,s){return t.component?it(e,t,n,r,i,s):Un(e,t,n,r,s)}function Fn(e,t,n,r){if(e&&Oe in e&&e[Oe]===t)return e[Oe];let i;return s(t.value),t.observe(s),i;function s(a){i=ue(e,a,n,r||e&&e.parentNode),i.first[Oe]=i,e=i.first}}function B(e,t=e,n=t){return{dom:e,first:t,last:n}}function qn(e,t){for(;e&&--t>0;)e=e.nextSibling;return e}function Mn(e){if(!e)return;let t=e.nodeType===8&&e.nodeValue.charCodeAt(0)===91&&qn(e.nextSibling,parseInt(e.nodeValue.slice(1)));return t&&(e[ie]=t),t}function $t(e){return e&&ie in e?e[ie]:Mn(e)}function Bt(e,t,n,r,i){i&&e&&r&&(e=Bt(e,[],n,r).first);let s=$t(e)||e,a=Ht(e,"["+t.length,r,!1,8);if(r){let l=s?s.nextSibling:null;ae(r,t,n,a.first,s);let o=l?l.previousSibling:r.lastChild;return s!==o&&(a.first[ie]=o),B(a.dom,a.first,o)}return r=new DocumentFragment,r.appendChild(a.dom),ae(r,t,n,a.first,s),a.first[ie]=r.lastChild,B(r,a.first,r.lastChild)}function Ht(e,t,n,r,i=typeof t=="boolean"||t==null?8:3){let s=r||!e||e.nodeType!==i;return s&&Yt(e,e=i===8?w.createComment(t):w.createTextNode(t),n),!s&&e.nodeValue!==""+t&&(e.nodeValue=t),B(e)}function Un(e,t,n,r,i=e===null||zn(e,t)){let s=n.NS;i&&Yt(e,e=Dn(t,n),r);let a=t.children&&t.children.length;return Jn(e,t,n,i),a?ae(e,t.children,n):e[Mt]&&In(e.firstChild,e),e[Mt]=a,n.NS=s,t.key!==void 0&&(e[Ut]=t.key),B(e)}function In(e,t){for(;e;)e=H(e,t)}function zn(e,t){return e[Ut]!==t.key||e.tagName!==(t.tag.name||"DIV").toUpperCase()}function Dn(e,t){let n=e.attrs.is;return t.NS||(t.NS=e.attrs.xmlns||kn[e.tag.name])?n?w.createElementNS(t.NS,e.tag.name,{is:n}):w.createElementNS(t.NS,e.tag.name):n?w.createElement(e.tag.name||"DIV",{is:n}):w.createElement(e.tag.name||"DIV")}var Jt=class{constructor(t,n,r,i,s){this.init=t,this.id=n,this.key=void 0,this.view=r,this.catcher=i,this.loader=s}},Kt=class{constructor(){this.life=[],this.xs=[],this.i=0,this.top=0}changed(t){if(this.i>=this.xs.length)return!0;let n=this.xs[this.i];return n.key!==t.key||n.init&&n.init!==t.component[0]}add(t,n,r){let[i,s]=t.component,a=new Jt(t.inline?!1:i,S.count=(S.count||0)+1,i,s&&s.catcher||n.catcher,s&&s.loader||n.loader);a.context=Object.create(n,{onremove:{value:o=>this.life.push(()=>o)},redraw:{value:()=>it(this.dom.first,t,n,r,this,!1,!0)},reload:{value:()=>it(this.dom.first,t,n,r,this,!0)},ignore:{value:o=>a.ignore=o}});let l=Zt(!0,a,t,a.context,this);return a.promise=l&&y(l.then)&&l,a.stateful=a.promise||y(l),a.view=a.promise?a.loader:l,this.xs.length=this.i,this.xs[this.i]=a,this.xs[this.top=this.i++]}next(){return this.i<this.xs.length&&this.xs[this.top=this.i++]}pop(){return--this.i===0&&(this.xs.length=this.top+1,!(this.top=0))}cut(){return this.xs.length=this.top=this.i}};function $n(e){let t=e.nextSibling;for(;t&&(t.nodeType!==8||t.nodeValue!==e.nodeValue);)t=t.nextSibling;return B(e,e,t)}function Bn(e,t){e.first.nextSibling[ke]=t,e.first.remove(),e.last&&e.last.remove()}function it(e,t,n,r,i=e&&e[ke]||new Kt,s=i.changed(t),a=!1){let l=s?i.add(t,n,r):i.next();if(!s&&!a&&l.ignore)return i.pop(),i.dom;t.key&&s&&(l.key=t.key);let o=l.promise&&e&&e.nodeType===8&&e.nodeValue.charCodeAt(0)===97;if(o)l.next=$n(e);else{let c=Zt(s,l,t,l.context,i);l.next=ue(e,!l.error&&!l.promise&&c instanceof O?Hn(c,t):c,l.context,r,i,s||void 0)}s&&l.promise&&l.promise.then(c=>l.view="default"in c?c.default:c).catch(c=>{l.error=t.attrs.error=c,l.view=l.catcher}).then(()=>l.next.first[ke]&&(o&&Bn(l.next,i),delete i.dom.first[se],l.promise=!1,le()));let u=e!==l.next.first;return i.pop()&&(u||s)&&(i.dom=l.next,l.next.first[ke]=i,!l.promise&&Wt(l.next.first,t.attrs,t.children,l.context,i.life)),l.next}function Zt(e,t,n,r,i){try{return Gt(e,t,n,r)}catch(s){return t.error=n.attrs.error=s,t.view=t.catcher,i.cut(),Gt(e,t,n,r)}}function Gt(e,t,n,r){return t.stateful||e?y(t.view)?t.view(n.attrs,n.children,r):t.view:n.component[0](n.attrs,n.children,r)}function Hn(e,t){return!t||!t.tag?e:!e||!e.tag?(e.tag=t.tag,e):(e.tag={id:t.tag.id||e.tag.id,name:t.tag.name||e.tag.name,classes:(e.tag.classes?e.tag.classes+" ":"")+t.tag.classes,args:t.tag.args,vars:t.tag.vars,parent:e.tag},e)}function Jn(e,t,n){let r=t.tag,i=e[Ne],s=!i;!("id"in t.attrs)&&t.tag.id&&(t.attrs.id=t.tag.id),(s&&t.tag.classes||t.attrs.class!==(i&&i.class)||t.attrs.className!==(i&&i.className)||e.className!==t.tag.classes)&&lt(e,t),s&&st(e,t.attrs.class,()=>lt(e,t)),s&&st(e,t.attrs.className,()=>lt(e,t)),t.attrs.type!=null&&Pe(e,"type",t.attrs.type,n);for(let l in t.attrs)if(ve(l))l==="deferrable"&&(e[xe]=t.attrs[l]);else if(!i||i[l]!==t.attrs[l]){let o=t.attrs[l];s&&st(e,o,u=>Pe(e,l,u,n)),Zn(e,n,t.attrs,l,i&&i[l],o)}if(i)for(let l in i)l in t.attrs||(Te(l)?Xt(e,l):ve(l)?l==="deferrable"&&(e[xe]=!1):e.removeAttribute(l));let a=Kn(e,t.attrs.style,i&&i.style);if(t.tag)for(Qt(e,t.tag.vars,t.tag.args,s,a);r=r.parent;)Qt(e,r.vars,r.args,s,a);s&&t.attrs.dom&&Wt(e,t.attrs,t.children,n,t.attrs.dom),e[Ne]=t.attrs}function Kn(e,t,n){if(n!==t){if(t==null)return e.style.cssText="",!0;if(typeof t!="object")return e.style.cssText=t,!0;if(n==null||typeof n!="object"){e.style.cssText="";for(let r in t){let i=t[r];i!=null&&e.style.setProperty(fe(r),i+"")}return!0}for(let r in t){let i=t[r];i!=null&&(i=i+"")!=n[r]+""&&e.style.setProperty(fe(r),i)}for(let r in n)n[r]!=null&&t[r]==null&&e.style.removeProperty(fe(r));return!0}}function st(e,t,n){if(!I(t))return;let r=re in e,i=r?e[re]:new Set;r||(e[re]=i),i.add(t.observe(n))}function lt(e,t){let n=ct(t);n?e.className=n:e.removeAttribute("class")}function Qt(e,t,n,r,i){for(let s in t){let a=t[s],l=n[a.index];at(e,s,l,a,r,i)}}function at(e,t,n,r,i,s,a){if(I(n)){i&&n.observe(l=>e.style.setProperty(t,Ce(l,r))),i||s&&at(e,t,n.value,r,i,i);return}if(y(n))return at(e,t,n(e),r,i,s,a);e.style.setProperty(t,Ce(n,r)),a&&we.push(()=>e.style.setProperty(t,Ce(n,r)))}function Wt(e,t,n,r,i){we.push(()=>{i=[].concat(i).map(s=>y(s)&&s(e,t,n,r)).filter(s=>y(s)),i.length&&(e[se]=(e[se]||[]).concat(i))})}function Zn(e,t,n,r,i,s){if(i===s)return;r==="href"&&s&&!s.match(/^([a-z]+:|\/\/)/)&&(s=p.pathmode+ne(s),Ln(e,t.route));let a=Te(r);a&&typeof i==typeof s||(a?s?Gn(e,n,r):Xt(e,r):Pe(e,r,s,t))}function Pe(e,t,n,r){if(y(n))return Pe(e,t,n(),r);!r.NS&&t in e?e[t]=n:ut(n)?e.removeAttribute(t):e.setAttribute(t,n===!0?"":n)}function Xt(e,t){e.removeEventListener(t.slice(2),e[et])}function Gn(e,t,n){e.addEventListener(n.slice(2),e[et]||(e[et]=Qn(e)))}function Qn(e){return{handleEvent:t=>_t(e[Ne]["on"+t.type],t)}}function _t(e,t){let n=y(e)?e.call(t.currentTarget,t):y(e.handleEvent)&&e.handleEvent(t);t.redraw!==!1&&!I(n)&&!I(e)&&le(),n&&y(n.then)&&n.then(le)}function Yt(e,t,n){if(!!n)return e&&(n.insertBefore(t,e),H(e,n)),t}function Wn(e,t,n,r,i){let s=$t(e);if(!s||e===s)return e.nextSibling;let a=s.nextSibling;if(e=e.nextSibling,!e)return a;do e=H(e,t,n,r,i);while(e&&e!==a);return a}function Ve(e,t){re in t&&t[re].forEach(n=>n()),e.removeChild(t)}function H(e,t,n=!0,r=[],i=!1){let s=e.nextSibling;if(Ee.has(e))return s;if(e.nodeType===8){if(e.nodeValue.charCodeAt(0)===97){if(s=e.nextSibling,Ve(t,e),!s)return s;e=s,s=e.nextSibling}e.nodeValue.charCodeAt(0)===91&&(s=Wn(e,t,n,r,i))}if(e.nodeType!==1)return n&&Ve(t,e),s;if(se in e)for(let l of e[se])try{let o=l(i||n);(i||n)&&o&&y(o.then)&&r.push(o)}catch(o){console.error(o)}!i&&(i=e[xe]||!1);let a=e.firstChild;for(;a;)H(a,e,!1,r,i),a=a.nextSibling;return n&&(r.length===0?Ve(t,e):(Ee.add(e),Promise.allSettled(r).then(()=>Ve(t,e)))),s}function Xn(e){requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(e)))}export{p as default};
